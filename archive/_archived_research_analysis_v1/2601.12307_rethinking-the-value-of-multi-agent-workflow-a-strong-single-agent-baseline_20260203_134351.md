---
title: 'Rethinking the Value of Multi-Agent Workflow: A Strong Single Agent Baseline'
arxiv_id: '2601.12307'
source_url: https://arxiv.org/abs/2601.12307
generated_at: '2026-02-03T13:43:51'
quality_score: 7
citation_count: 23
model_profiles_used:
- default
- fast
model_profiles:
  default:
    provider: cerebras
    name: zai-glm-4.7
    temperature: 0.9
    top_p: 0.95
    max_tokens: 150000
  fast:
    provider: cerebras
    name: zai-glm-4.7
    temperature: 0.9
    top_p: 0.95
    max_tokens: 150000
---

# Rethinking the Value of Multi-Agent Workflow: A Strong Single Agent Baseline

*Jiawei Xu; Arief Koesdwiady; Sisong Bei; Yan Han; Baixiang Huang; Dakuo Wang; Yutong Chen; Zheshen Wang; Peihao Wang; Pan Li; Ying Ding*

---

> ### ðŸ“Š Quick Facts
>
> *   **Quality Score:** 7/10
> *   **Citations:** 23
> *   **Benchmarks Tested:** 7 (MBPP, HUMANEVAL, GSM8K, MATH, HOTPOTQA, DROP, SHOPPING-MMLU, TRAVELPLANNER)
> *   **Models Used:** GPT-4o-mini (executor), Claude 3.5 Sonnet (optimizer)
> *   **Core Innovation:** OneFlow Algorithm & Single-LLM Simulator
> *   **Key Efficiency:** KV Cache Reuse

---

## Executive Summary

Multi-Agent Systems (MAS) have become a dominant paradigm for complex reasoning, predicated on the assumption that distributing roles across multiple LLMs yields superior results. However, this approach frequently introduces substantial computational overhead and architectural complexity. This paper addresses the fundamental question of whether such complex multi-agent workflows are strictly necessary, particularly when the agents are homogeneous (utilizing the same base LLM). By challenging the prevailing trend, the authors investigate if a single LLM can match the performance of intricate MAS through more efficient execution methods, prompting a critical re-evaluation of the cost-benefit trade-off inherent in existing agent architectures.

The key innovation is a single-LLM simulation framework and the accompanying **OneFlow algorithm**. The authors propose that homogeneous multi-agent workflows can be simulated by a single agent maintaining a unified conversation history, with role-specific system prompts dynamically inserted at each step. The paper formally proves distributional equivalence ($H_{single} \overset{d}{=} H_{multi}$) under deterministic conditions. To optimize execution, OneFlow employs Monte Carlo Tree Search (MCTS) guided by two meta-agentsâ€”a Designer and a Criticâ€”to automatically generate workflows as executable Python code. This approach maximizes performance while minimizing cost by leveraging KV cache reuse, ensuring computational costs scale only with new tokens ($C_{single} \leq C_{multi}$) rather than the full context window.

The study rigorously validates this approach across seven diverse benchmarks, spanning coding, mathematics, reasoning, and planning. The single-LLM implementation achieved performance parity with traditional homogeneous multi-agent workflows. Specifically, the single-agent approach matched standard metrics across all tested domains, including Pass@1, F1 Score, Accuracy, Task Success Rate, and Solve Rate. Furthermore, the system demonstrated significant efficiency gains; by reusing KV caches during multi-turn conversations, the method reduced inference costs compared to frameworks that re-process full contexts, successfully matching the performance of automatically optimized heterogeneous workflows at a fraction of the computational expense.

---

## Key Findings

*   **Performance Parity:** A single LLM agent can match the performance of homogeneous multi-agent workflows across diverse benchmarks including coding, mathematics, and reasoning.
*   **Efficiency Advantage:** Single-agent implementations outperform homogeneous workflows in efficiency due to the reuse of KV caches during multi-turn conversations.
*   **Robustness:** Single agents are capable of matching the performance of even automatically optimized heterogeneous workflows.
*   **Limitation Identified:** Single-LLM methods cannot replicate truly heterogeneous workflows (those utilizing different base LLMs) because KV caches cannot be shared across different models.

---

## Methodology

The researchers conducted a comparative study across seven distinct benchmarks spanning coding, mathematics, general question answering, domain-specific reasoning, and real-world planning.

1.  **Comparative Study:** They investigated whether the roles and communication patterns of multi-agent systems could be simulated by a single agent via multi-turn conversations.
2.  **Algorithm Development:** Based on the empirical results demonstrating the viability of single-agent simulation, they developed **OneFlow**, an algorithm designed to automatically tailor workflows specifically for single-agent execution to optimize resource usage.

---

## Technical Details

The proposed approach utilizes a single-LLM simulator to execute homogeneous multi-agent workflows (same base LLM, different prompts/tools) end-to-end.

### Simulation Framework
*   **Execution Model:** Maintains a single conversation history and appends role-specific system prompts at each step to simulate different agents.
*   **Theoretical Guarantee:** Formally proves distributional equivalence ($H_{single} \overset{d}{=} H_{multi}$) under deterministic conditions.

### Efficiency Optimization
*   **KV Cache Reuse:** Efficiency is gained through reusing KV caches, reducing computational cost to scale with new tokens only ($C_{single} \leq C_{multi}$).
*   **Context Management:** Workflows are implemented as executable Python code, employing compaction operators for context management.

### The OneFlow Algorithm
*   **Search Strategy:** Utilizes Monte Carlo Tree Search (MCTS) to explore workflow designs.
*   **Meta-Agents:** Employs two meta-agents:
    *   **Designer:** Generates workflow code.
    *   **Critic:** Evaluates the workflow.
*   **Optimization Function:** Optimizes workflows based on a multi-objective function maximizing performance and minimizing cost.

---

## Results

Experiments were conducted on **7 benchmarks** (MBPP, HUMANEVAL, GSM8K, MATH, HOTPOTQA, DROP, SHOPPING-MMLU, TRAVELPLANNER) using GPT-4o-mini as the executor and Claude 3.5 Sonnet for optimization.

*   **Performance:** The single-LLM implementation achieved performance parity with traditional multi-agent workflows across all benchmarks.
*   **Efficiency:** Reduced costs via KV cache reuse.
*   **Robustness:** Demonstrated robustness by matching the performance of optimized heterogeneous workflows, though it cannot replicate truly heterogeneous workflows (using different base LLMs) due to KV cache incompatibility.

### Evaluated Metrics
*   Pass@1 (Coding)
*   F1 Score (QA)
*   Solve Rate (Math)
*   Accuracy
*   Task Success Rate
*   USD token expenditure

---

## Contributions

1.  **Re-evaluation of MAS Necessity:** The paper establishes single-LLM implementations as a strong, cost-effective baseline for Multi-Agent System (MAS) research, suggesting that complex multi-agent workflows may be unnecessary if agents are homogeneous.
2.  **The OneFlow Algorithm:** Introduction of a novel algorithm that reduces inference costs compared to existing automatic multi-agent design frameworks without sacrificing accuracy.
3.  **Defining Future Research Boundaries:** The work clarifies the specific limitations of single-agent methods regarding truly heterogeneous systems, thereby highlighting the need for future research into systems that leverage different base LLMs effectively.