# Sufficient Decision Proxies for Decision-Focused Learning
*Noah Schutte; Grigorii Veviurko; Krzysztof Postek; Neil Yorke-Smith*

---

> ### ðŸ“Š Quick Facts
>
> *   **Quality Score:** 8/10
> *   **References:** 18 Citations
> *   **Scope:** Contextual Optimization & Predict-then-Optimize
> *   **Key Contribution:** Theoretical characterization of sufficient decision proxies.

---

## Executive Summary

Decision-Focused Learning (DFL) seeks to minimize downstream decision costs directly, offering a theoretically superior alternative to the traditional "predict-then-optimize" pipeline. However, practitioners face a significant computational bottleneck: estimating full probability distributions for stochastic optimization is often prohibitively expensive, while relying on deterministic approximations can incur severe decision suboptimality. Currently, the field lacks rigorous theoretical guidelines for navigating this trade-off, leaving engineers without a principled way to determine when a simple deterministic proxy suffices and when full distribution estimation is strictly required. This paper addresses that gap by formally identifying the structural problem propertiesâ€”such as objective monotonicity, constraint uncertainty, and the compactness of feasible setsâ€”that dictate the validity of deterministic approaches, thereby preventing the risk of catastrophic decision failures in applications ranging from logistics to finance.

The core innovation is the introduction and theoretical characterization of "**sufficient decision proxies**," which define when a deterministic approach can exactly mimic the solution of a stochastic problem. The authors prove that a deterministic proxy is optimal only if it is surjective onto the feasible set $X$; that is, the proxy must be capable of mapping context features to every feasible decision scenario. The methodology establishes precise conditions for proxy failure: for instance, suboptimality is guaranteed if the true optimal decision is scenario-wise dominated.

The analysis provides concrete mathematical boundaries for proxy performance, establishing that while linear functions are "safe" for deterministic approximation, non-linear functionsâ€”specifically logarithmic, root, exponential, and odd power functionsâ€”are unsafe and often force minimizers to the boundary of the feasible set. The paper illustrates the severity of these failures through an investment case study, demonstrating that a deterministic strategy (buying 100% shares) results in a quantifiable negative expected growth rate ($E[\ln(1+c)] < 0$) and a probability of ruin that converges to 1.

---

## Key Findings

*   **Problem Property Identification:** Identifies specific structural properties that determine whether using a single-scenario deterministic approximation is valid or if full distribution estimation is strictly required.
*   **Effective Decision Proxies:** Introduces proxies that maximize decision quality without significantly increasing the complexity of the learning task.
*   **Broad Applicability:** Demonstrates high effectiveness across optimization problems containing both continuous and discrete variables.
*   **Robustness:** The methodology is validated as robust for handling uncertainty located in both the objective function and the constraints.

---

## Technical Details

The framework addresses **Contextual Optimization** (predict-then-optimize) to map context $z$ to decision $x$ by minimizing the expected cost:

$$ \min_{x \in X} E_{c \sim C_z}[f(c, x) | z] $$

It utilizes a Predict-then-Optimize pipeline employing **Decision-Focused Learning (DFL)** to minimize regret.

### Theoretical Analysis & Conditions

*   **Deterministic Proxy Optimality:** Deterministic proxies are optimal only if surjective onto the feasible set $X$. Suboptimality occurs if the true optimal decision is scenario-wise dominated.
*   **Continuous Problem Failures:** Specific sufficient conditions for failure include:
    1.  $X$ is compact.
    2.  The objective $f$ is strictly coordinate-wise monotonic.
    3.  The expected objective $g(x)$ is convex and coordinate-wise non-monotonic.
*   **Two-Stage Stochastic Problems:** With relatively complete recourse, single-scenario optimality fails if the right-hand side vector contains independent fixed entries.

---

## Methodology

1.  **Theoretical Investigation:** The authors first investigate structural problem properties to justify the selection of either deterministic or distributional assumptions.
2.  **Proxy Construction:** Based on these properties, specific 'decision proxies' designed for Decision-Focused Learning (DFL) are constructed.
3.  **Experimental Validation:** These proxies are implemented and tested within a framework covering:
    *   Variable types (continuous and discrete).
    *   Uncertainty structures (objective and constraint uncertainty).

---

## Results

*   **Performance Inequality:** The paper establishes the performance inequality:
    $$ V^* \le V_{DFL} \le V_{PFL} $$
    This confirms that deterministic proxies outperform Prediction-Focused Learning (PFL) but are suboptimal compared to the true stochastic optimum ($V^*$).
*   **Stock-Exchange Paradox:** A deterministic strategy (100% shares) results in a negative expected growth rate ($E[\ln(1+c)] < 0$) and a probability of ruin converging to 1.
*   **Function Classification:**
    *   **Safe:** Linear functions are safe for deterministic proxies.
    *   **Unsafe:** Logarithmic, root, exponential, and odd power functions are suboptimal because they force minimizers to the boundary.

---

## Contributions

*   **Theoretical Foundation:** Provides the first investigation into the properties that justify the choice between deterministic proxies and distribution estimation in stochastic optimization.
*   **Algorithmic Efficiency:** Presents novel decision proxies that optimize decision quality while maintaining low computational complexity during the learning phase.
*   **Broad Applicability:** Validates the proposed methods through empirical evidence showing success on a wide range of problem archetypes, differing in variable types and the location of uncertainty.