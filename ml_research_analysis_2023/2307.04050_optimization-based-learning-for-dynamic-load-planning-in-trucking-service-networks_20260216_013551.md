---
ver: rpa2
title: Optimization-based Learning for Dynamic Load Planning in Trucking Service Networks
arxiv_id: '2307.04050'
source_url: https://arxiv.org/abs/2307.04050
tags:
- sort
- volume
- commodity
- flow
- trailer
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper addresses the Dynamic Load Planning Problem (DLPP) for
  parcel carriers, which involves deciding how many trailers to assign between terminals
  and allocating parcel volumes to these loads. The DLPP is formulated as a mixed-integer
  programming (MIP) model, but this formulation has symmetries that lead to inconsistent
  solutions for similar problems, confusing planners.
---

# Optimization-based Learning for Dynamic Load Planning in Trucking Service Networks

## Quick Facts
- arXiv ID: 2307.04050
- Source URL: https://arxiv.org/abs/2307.04050
- Reference count: 13
- Primary result: Optimization proxy achieves 10x speedup over MIP solver while producing more consistent solutions

## Executive Summary
This paper addresses the Dynamic Load Planning Problem (DLPP) in trucking service networks, where parcel carriers must decide trailer assignments between terminals and allocate parcel volumes to these loads. The core challenge is that standard MIP formulations exhibit symmetries leading to inconsistent solutions across similar problem instances. To address this, the authors propose a Goal-Directed Optimization (GDO) approach that generates consistent solutions close to a reference plan, combined with an optimization proxy that uses machine learning predictions followed by feasibility restoration. The approach demonstrates significant computational speedups while maintaining solution quality and consistency.

## Method Summary
The method combines two key innovations: GDO and an optimization proxy. GDO eliminates symmetries in the MIP model by introducing a reference plan and flow diversion costs, producing consistent solutions that stay close to the reference. The optimization proxy uses a machine learning model to predict optimal trailer decisions from commodity volumes, followed by a feasibility restoration step to ensure all volumes are assigned while respecting constraints. This two-stage approach replaces expensive MIP solves with fast ML predictions and small feasibility restorations, achieving significant computational improvements while maintaining solution quality.

## Key Results
- Optimization proxy achieves approximately 10x speedup compared to commercial MIP solvers
- Solutions from the proxy are orders of magnitude more consistent than standard MIP solutions
- The approach demonstrates significant savings in load consolidation while maintaining feasibility
- GDO successfully eliminates symmetries and produces consistent solutions across perturbed instances

## Why This Works (Mechanism)

### Mechanism 1: Goal-Directed Optimization (GDO)
GDO eliminates symmetries by introducing a reference plan and flow diversion costs. The first stage solves the original MIP to find the optimal objective value. The second stage solves a modified MIP that minimizes the Hamming distance from the reference plan plus a small flow diversion cost, biasing the solution toward primary paths. This breaks symmetries because it distinguishes between solutions that were previously equivalent in the original objective. The core assumption is that a reference plan exists and small perturbations in input volumes should lead to similar load plans.

### Mechanism 2: Optimization Proxy with Feasibility Restoration
The optimization proxy combines ML predictions with feasibility restoration. The ML model learns to predict optimal trailer decisions (y-variables) from commodity volumes. The feasibility restoration then solves a small MIP to allocate commodity volumes to the predicted trailers and add extra capacity where needed. This reduces computational burden by replacing large integer programs with a prediction step and a much smaller feasibility restoration. The core assumption is that the mapping from commodity volumes to optimal trailer decisions is learnable and stable enough for the ML model to approximate.

### Mechanism 3: Improved ML Training via Symmetry Breaking
GDO produces consistent solutions for perturbed instances, which have lower sensitivity to small changes in input. The ML model is trained on these consistent solutions, reducing the complexity of the function it needs to learn (fewer "pieces" in the piecewise linear approximation). This leads to lower approximation errors because the variability of GDO solutions is significantly lower than the variability of solutions from the original MIP model. The core assumption is that this reduced variability translates into better ML performance.

## Foundational Learning

- **Mixed-Integer Programming (MIP)**: Understanding MIP structure, symmetries, integrality constraints, and LP relaxation quality is essential for designing GDO and optimization proxies. Quick check: What is the main computational challenge of solving the DLPP as a MIP, and how do symmetries contribute to this challenge?

- **Supervised Learning for Optimization Proxy**: The optimization proxy uses supervised learning to predict trailer decisions from commodity volumes, requiring understanding of the input-output mapping of the MIP. Quick check: Why is it beneficial to predict the number of trailers (y-variables) rather than the commodity volume allocation (x-variables) in the ML model?

- **Feasibility Restoration in Constrained Optimization**: The ML model may predict insufficient trailer capacity, requiring a feasibility restoration step to ensure all commodity volumes are assigned while respecting constraints. Quick check: How does the feasibility restoration step work, and why is it formulated as a small MIP rather than a simple adjustment?

## Architecture Onboarding

- **Component map**: Input → GDO (offline, for training) → ML model (online prediction) → Feasibility restoration (online adjustment) → Output
- **Critical path**: Input commodity volumes for each terminal, sort period, and destination flow through GDO for training, then through ML model for prediction, followed by feasibility restoration, and finally produce the load plan output
- **Design tradeoffs**: GDO vs. original MIP (consistency vs. speed), ML model complexity vs. accuracy (larger models may predict better but take longer), feasibility restoration vs. prediction accuracy (better predictions reduce restoration burden)
- **Failure signatures**: GDO - high Hamming distance from reference plan or long solve times; ML model - high prediction error or frequent feasibility violations requiring large capacity additions; Feasibility restoration - slow solve times indicating poor ML predictions
- **First 3 experiments**: 1) Run GDO on small instance with known reference plan to verify consistency across input perturbations; 2) Train ML model on GDO solutions from medium instance and evaluate prediction accuracy on held-out test set; 3) Run full optimization proxy on large instance and compare to GDO and original MIP

## Open Questions the Paper Calls Out

### Open Question 1
- Question: What is the precise impact of network topology on the quality of the learned optimization proxy?
- Basis: The paper discusses the value of alternate flow paths but does not quantify how network topology affects proxy performance
- Why unresolved: The study focuses on three terminals with different sizes but does not isolate the effect of network structure from other factors
- What evidence would resolve it: Controlled experiments varying network topology while keeping commodity volumes constant

### Open Question 2
- Question: How does the proposed method perform under significant demand uncertainty or real-time disruptions?
- Basis: The paper addresses demand forecast changes but focuses on adjustments before the day of operations, not during operations
- Why unresolved: The study does not evaluate the method's robustness to sudden, large changes in demand or operational disruptions
- What evidence would resolve it: Simulation studies introducing unexpected demand spikes or network failures

### Open Question 3
- Question: What is the optimal balance between the number of alternate flow paths and the complexity of the optimization problem?
- Basis: The paper discusses benefits of alternate flow paths but does not determine the optimal number for a given network
- Why unresolved: The study shows one alternate path provides significant benefits but does not explore diminishing returns
- What evidence would resolve it: Experiments varying the number of alternate paths per commodity and measuring the trade-off

## Limitations
- The approach depends heavily on the availability and quality of reference plans, which are assumed to exist but not detailed in terms of generation or potential biases
- ML model effectiveness depends on the stability of the mapping from commodity volumes to trailer decisions, which may not hold if operational patterns shift significantly over time
- Key implementation details like flow diversion costs and data augmentation procedures are not fully specified, making exact reproduction difficult

## Confidence

- **High Confidence**: MIP formulation of DLPP and identification of symmetries as source of inconsistent solutions are well-established
- **Medium Confidence**: GDO approach for eliminating symmetries and improving consistency is theoretically sound but depends on reference plan quality
- **Medium Confidence**: ML-based optimization proxy with feasibility restoration is promising but success depends on prediction quality and restoration efficiency

## Next Checks

1. **Verify Symmetry Elimination**: Run GDO on a small instance with a known reference plan and confirm that solutions are consistent across small perturbations in input volumes. Measure the Hamming distance from the reference plan to quantify consistency.

2. **Test ML Model Generalization**: Train the ML model on GDO solutions from a medium instance and evaluate its prediction accuracy on a held-out test set. Assess the model's ability to generalize to new volume patterns.

3. **Evaluate Full Pipeline Performance**: Run the complete optimization proxy (ML + feasibility restoration) on a large instance and compare solution quality and runtime to GDO and the original MIP. Verify that the proxy achieves significant speedups without sacrificing solution quality or consistency.