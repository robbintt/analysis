---
ver: rpa2
title: Normalization of Lithuanian Text Using Regular Expressions
arxiv_id: '2312.17660'
source_url: https://arxiv.org/abs/2312.17660
tags:
- rules
- were
- case
- text
- number
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This work presents a regular expression-based text normalization
  system for Lithuanian, addressing the expansion of non-standard words (NSW) in text-to-speech
  synthesis. A taxonomy of Lithuanian semiotic classes is defined, and rules are created
  to identify and expand NSWs.
---

# Normalization of Lithuanian Text Using Regular Expressions

## Quick Facts
- arXiv ID: 2312.17660
- Source URL: https://arxiv.org/abs/2312.17660
- Reference count: 34
- Error rates across datasets: 23.6% (news), 10.4% (university), 0.9% (navigation)

## Executive Summary
This paper presents a regular expression-based system for normalizing Lithuanian text in text-to-speech synthesis. A taxonomy of Lithuanian semiotic classes is defined and used to create rules for identifying and expanding non-standard words such as numbers, dates, times, abbreviations, and URLs. The system is evaluated on three diverse datasets, achieving error rates of 23.6%, 10.4%, and 0.9% respectively. The approach is effective for most semiotic classes but struggles with cardinal numerals, ordinal numerals, and abbreviations, which require more sophisticated handling due to Lithuanian's complex inflectional morphology.

## Method Summary
The method involves defining a taxonomy of Lithuanian semiotic classes and creating hand-crafted regex rules to detect and expand non-standard words. Rules are applied sequentially using C++ std::regex_replace, with special inflection tags inserted to ensure grammatical correctness. The system processes raw text through tokenization, class identification, expansion, and output generation. Evaluation is performed on manually annotated datasets from news portals, university websites, and car navigation systems, measuring error rates in expanded NSWs.

## Key Results
- Error rates of 23.6%, 10.4%, and 0.9% on news portal, university website, and car navigation datasets respectively
- System performs well on simple semiotic classes (URLs, times, letter sequences) but struggles with cardinal numerals, ordinal numerals, and abbreviations
- Performance is highly domain-dependent, with navigation texts showing significantly lower error rates than news texts

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Regular expressions are sufficient to identify and expand most non-standard words (NSWs) in Lithuanian texts.
- Mechanism: Regex-based rules are applied sequentially to match patterns for semiotic classes (numbers, dates, abbreviations, etc.) and replace them with their expanded forms.
- Core assumption: The structure and variety of Lithuanian NSWs are limited enough to be captured by deterministic pattern matching without requiring contextual disambiguation.
- Evidence anchors:
  - [abstract] "Sets of rules are created for detecting and expanding NSWs based on regular expressions."
  - [section] "A set of regular expression-based rules capable of identifying text fragments belonging to other semiotic classes and replacing them with natural language is presented."
  - [corpus] Found 25 related papers, but none directly validating regex efficacy for Lithuanian; evidence is inferred from paper content.
- Break condition: Encountering grammatical forms or abbreviations that require context-sensitive resolution beyond pattern matching (e.g., ambiguous endings, unknown codes).

### Mechanism 2
- Claim: Tagging with inflectional and gender information allows correct expansion of numerals and their associated units of measure.
- Mechanism: Prepositions and endings are mapped to special tags (e.g., «PG» for plural genitive), which guide subsequent rules to choose the correct grammatical form during expansion.
- Core assumption: Lithuanian numeral and unit inflection can be systematically encoded and resolved by passing tags through rule chains.
- Evidence anchors:
  - [section] "Rules that insert a special tag indicating the case of the numeral were written... We will use plural where singular/plural distinction makes no difference."
  - [section] "The rules work as follows: 13:15 val. → «SA» 13 «FO» «SA» val. 15 min. → tryliktė valandė penkiolika minučių."
  - [corpus] No direct corpus evidence; mechanism described entirely within the paper.
- Break condition: Encountering numerals with inflection rules that do not fit the predefined tag system (e.g., exceptions in ordinal forms).

### Mechanism 3
- Claim: Lithuanian dates can be reliably expanded by splitting into year, month, and day components and applying grammatical rules to each.
- Mechanism: Regex rules detect date formats (long and short), insert inflection tags, and expand each part separately using predefined grammatical forms.
- Core assumption: Lithuanian date formats are regular enough that splitting and individual expansion is sufficient to handle all valid cases.
- Evidence anchors:
  - [section] "First, some words about expanding the long format date... The following rule was used for long format dates."
  - [section] "The following rules are used to expand these codes... E.g., Nuo 2013 01 04 → Nuo «PG» 2013 01 04 → Nuo 2013-u metu sausio ketvirtos dienos."
  - [corpus] Weak; paper presents method but no external validation dataset cited.
- Break condition: Dates with irregular formats, missing components, or ambiguous separators that regex cannot parse.

## Foundational Learning

- Concept: Regular expressions and their quantifiers
  - Why needed here: Core tool for pattern matching NSWs; understanding quantifiers is essential for writing correct rules.
  - Quick check question: What regex quantifier matches "one or more" occurrences of a character or group?
- Concept: Lithuanian inflectional morphology (cases, genders, number)
  - Why needed here: Expansion rules must produce grammatically correct forms; understanding case and gender agreement is critical.
  - Quick check question: In Lithuanian, which case is typically used for the day in a date when preceded by a preposition?
- Concept: Semiotic class taxonomy
  - Why needed here: Organizing NSWs into classes (NUM, NDATE, EXPN, etc.) allows systematic rule creation and error analysis.
  - Quick check question: What semiotic class would "10:45" belong to in the Lithuanian normalization system?

## Architecture Onboarding

- Component map:
  - Input text → Regex rule pipeline (sequential application) → Output normalized text
  - Rule definitions: C++ std::regex_replace with pattern and replacement templates
  - Data flow: Raw text → Tokenization → Class identification → Expansion → Final output
- Critical path:
  - Rule application order: Longest/most specific patterns first, followed by simpler expansions; inflection tags inserted and passed along the chain.
- Design tradeoffs:
  - Simplicity vs. coverage: Regex rules are fast and deterministic but struggle with ambiguous or context-dependent expansions.
  - Rule granularity: Fine-grained rules handle edge cases but increase maintenance burden; coarse rules are easier to manage but miss exceptions.
- Failure signatures:
  - Unexpanded NSWs: Missing or overly restrictive regex patterns.
  - Incorrect grammatical forms: Tag propagation errors or mismatched inflection rules.
  - Misidentified semiotic classes: Overlapping regex patterns capturing wrong class.
- First 3 experiments:
  1. Test regex rule pipeline on a small hand-curated dataset with known NSW classes to verify pattern matching and tag propagation.
  2. Measure expansion accuracy on a subset of dates to confirm grammatical correctness across all cases.
  3. Evaluate error rates on numerals followed by units of measure to check inflection alignment with context.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How can regular expressions be enhanced to handle the inflectional complexity of Lithuanian non-standard words more accurately, particularly for abbreviations without vowels and ordinal numerals?
- Basis in paper: [explicit] The paper highlights that expanding abbreviations without vowels and ordinal numerals in Lithuanian is challenging due to the need for complex rules to determine the correct grammatical form. The system struggles with these, suggesting the need for more sophisticated handling.
- Why unresolved: The current regular expression-based approach has limitations in handling complex grammatical contexts and unknown codes, as noted in the paper. The grammatical forms required for certain expansions are not always clear or predictable.
- What evidence would resolve it: Comparative studies showing improved accuracy in expanding Lithuanian abbreviations and ordinal numerals using enhanced regular expressions or alternative methods, such as machine learning models, would provide evidence for more effective handling of inflectional complexity.

### Open Question 2
- Question: What are the potential benefits and drawbacks of using machine learning models, such as recurrent neural networks, for Lithuanian text normalization compared to the current regular expression-based approach?
- Basis in paper: [inferred] The paper mentions that various algorithms, including recurrent neural networks (RNNs), can be used for text normalization. However, it does not provide a direct comparison between these methods and the regular expression-based approach used in the study.
- Why unresolved: The paper focuses on the implementation and evaluation of a regular expression-based system but does not explore alternative methods like machine learning models in depth. There is no empirical comparison of performance, accuracy, or computational efficiency between these approaches for Lithuanian text normalization.
- What evidence would resolve it: Empirical studies comparing the performance of regular expression-based systems and machine learning models, such as RNNs, on Lithuanian text normalization tasks would provide insights into the potential benefits and drawbacks of each approach.

### Open Question 3
- Question: How can the taxonomy of Lithuanian semiotic classes be further refined to improve the accuracy of text normalization, particularly for handling ambiguous cases and unknown codes?
- Basis in paper: [explicit] The paper presents a taxonomy of semiotic classes adapted to the Lithuanian language and notes that the system struggles with certain classes, such as cardinal numerals, ordinal numerals, and abbreviations. It suggests that these require more sophisticated handling and that regular expressions are limited for complex grammatical contexts and unknown codes.
- Why unresolved: While the paper provides a taxonomy and rules for text normalization, it acknowledges limitations in handling certain semiotic classes and unknown codes. The taxonomy may not fully capture the nuances of Lithuanian text, leading to errors in normalization.
- What evidence would resolve it: Further research into the Lithuanian language and its semiotic classes, including the identification of ambiguous cases and unknown codes, could lead to a more refined taxonomy. Empirical testing of the refined taxonomy on diverse datasets would demonstrate its effectiveness in improving text normalization accuracy.

## Limitations
- Error rates vary dramatically by dataset (23.6%, 10.4%, and 0.9%), indicating high domain dependence
- Regular expressions struggle with grammatical ambiguity and unknown codes, particularly for cardinal numerals, ordinal numerals, and abbreviations
- No complete rule specifications or comparative baselines are provided, limiting reproducibility and validation

## Confidence
- High: The system architecture and general workflow are clearly described; regex-based expansion is a proven, well-understood technique.
- Medium: Error rates and performance differences across datasets are well quantified, but lack of complete rule specifications and comparative baselines limits deeper validation.
- Low: The handling of inflectional tags and context-sensitive expansions is described conceptually but lacks empirical support for robustness across all grammatical contexts.

## Next Checks
1. Replicate the regex pipeline on a small, annotated Lithuanian dataset to verify that pattern matching and tag propagation work as described.
2. Conduct a focused error analysis on cardinal and ordinal numeral expansions to confirm that inflection errors are the dominant failure mode.
3. Test the system on a mixed-domain dataset (combining news, university, and navigation texts) to quantify performance variance and identify the most fragile semiotic classes.