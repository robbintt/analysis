---
ver: rpa2
title: A CNN regression model to estimate buildings height maps using Sentinel-1 SAR
  and Sentinel-2 MSI time series
arxiv_id: '2307.01378'
source_url: https://arxiv.org/abs/2307.01378
tags:
- building
- height
- data
- heights
- rmse
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper presents MBHR-Net, a CNN regression model that estimates
  building heights using Sentinel-1 SAR and Sentinel-2 MSI time series at 10m spatial
  resolution. The model uses a multimodal U-Net architecture with separate encoders
  for SAR and multispectral features, fused at multiple scales.
---

# A CNN regression model to estimate buildings height maps using Sentinel-1 SAR and Sentinel-2 MSI time series

## Quick Facts
- arXiv ID: 2307.01378
- Source URL: https://arxiv.org/abs/2307.01378
- Reference count: 0
- Key outcome: MBHR-Net achieved RMSE of 3.73m, IoU of 0.95, and R2 score of 0.61 on building height estimation from Sentinel-1 and Sentinel-2 data

## Executive Summary
This paper introduces MBHR-Net, a CNN regression model that estimates building heights using Sentinel-1 SAR and Sentinel-2 MSI time series data at 10m spatial resolution. The model employs a multimodal U-Net architecture with separate encoders for SAR and multispectral features, fused at multiple scales. Trained on 10 Dutch cities using 3D BAG reference data, MBHR-Net demonstrates strong performance in accurately estimating building heights while maintaining precise building footprint delineation, showing promise for urban planning and environmental analysis applications.

## Method Summary
MBHR-Net uses a multimodal U-Net architecture with separate ResNet50 encoders for Sentinel-1 SAR and Sentinel-2 multispectral data. The model processes 12 monthly images as augmented pairs, treating them as negligible height change over time. Features are fused at multiple scales through concatenation, with skip connections preserving fine spatial details. The network is trained with a weighted loss combining MSE (0.2 weight) and Cosine Similarity (0.8 weight) using Adam optimizer with learning rate scheduling. The model was trained on 1,737 samples from 10 Dutch cities and tested on 434 samples, achieving strong performance metrics.

## Key Results
- RMSE of 3.73m indicates accurate height estimation at 10m resolution
- IoU of 0.95 demonstrates precise building footprint delineation
- R2 score of 0.61 shows the model captures significant height variance
- Performance validated on 10 Dutch cities using 3D BAG reference data

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Multimodal fusion of SAR and multispectral data captures complementary building structural and contextual information
- Mechanism: Sentinel-1 SAR provides structural backscatter information sensitive to building geometry, while Sentinel-2 multispectral data captures land cover types and building shadows. The separate encoders extract modality-specific features, which are then fused at multiple scales to learn complex spatio-temporal relationships between image patterns and building heights
- Core assumption: Building height can be inferred from the combination of structural backscatter patterns (SAR) and spectral reflectance patterns (multispectral) that vary with season and building characteristics
- Evidence anchors: Abstract states SAR provides structural information while S2 is sensitive to land cover types and building shadows; section describes MBHR-Net's goal to extract meaningful features and learn complex spatio-temporal relationships
- Break condition: If building materials or environmental conditions cause SAR and multispectral signals to be uncorrelated with actual height, the fusion may fail to capture accurate height information

### Mechanism 2
- Claim: The U-Net architecture with skip connections preserves fine-grained spatial details needed for accurate building height estimation
- Mechanism: The encoder-decoder structure compresses input features into latent representations while skip connections combine these with intermediate decoder layers. This allows the model to condition predictions on both global context and local details, improving building footprint delineation and height estimation precision
- Core assumption: Building height estimation requires both coarse spatial understanding (for context) and fine spatial detail (for precise pixel-level height assignment)
- Evidence anchors: Section explains skip connections help decoder condition on latent and intermediate representations for fine-grained details; IoU score of 0.95 indicates significant overlap with ground truth regions
- Break condition: If buildings are too small relative to 10m resolution, or if the model overfits to training city patterns, skip connections may not recover sufficient detail for accurate height assignment

### Mechanism 3
- Claim: Time series data augmentation through seasonal variation provides robust training signals for height estimation
- Mechanism: By treating 12 monthly images as augmented pairs (assuming negligible height change but varying seasonal context), the model learns height-invariant features while capturing seasonal variations in surrounding environment that correlate with building height patterns
- Core assumption: Building heights remain constant over a 12-month period while seasonal changes in vegetation, shadows, and land cover provide additional discriminative features for height estimation
- Evidence anchors: Section states assumption of negligible height changes but seasonal changes in surrounding conditions; augmentation increased training samples from 1734 to 20,808
- Break condition: If buildings undergo changes during the 12-month period, or if seasonal effects are too weak to provide meaningful augmentation, the strategy may introduce noise rather than robustness

## Foundational Learning

- Concept: Multimodal deep learning for remote sensing
  - Why needed here: The task requires integrating SAR and multispectral data streams, which have different characteristics and require specialized processing before fusion
  - Quick check question: What are the key preprocessing steps needed to make Sentinel-1 SAR and Sentinel-2 multispectral data compatible for multimodal fusion?

- Concept: U-Net architecture for pixel-wise regression
  - Why needed here: Building height estimation is treated as a pixel-wise regression task where each pixel's value represents the estimated height, requiring precise spatial localization
  - Quick check question: How do skip connections in U-Net specifically benefit regression tasks compared to classification tasks?

- Concept: Time series analysis in remote sensing
  - Why needed here: The model leverages temporal information across months to capture seasonal variations while assuming height constancy, requiring understanding of temporal data handling
  - Quick check question: What assumptions must hold true for time series augmentation to be valid in building height estimation?

## Architecture Onboarding

- Component map: Input layer → SAR encoder (ResNet50) → Multispectral encoder (ResNet50) → Multiscale feature fusion (concatenation) → Skip connections → Decoder (upsampling + conv layers) → Regression output layer (1x1 conv + ReLU)
- Critical path: Data preprocessing → Multimodal feature extraction → Multiscale fusion → Decoder processing → Height regression
- Design tradeoffs: Separate encoders allow modality-specific feature learning but increase model complexity; multiscale fusion captures different semantic levels but may introduce noise; time series augmentation increases training data but assumes height constancy
- Failure signatures: Poor IoU indicates building footprint misalignment; high RMSE with decent IoU suggests height estimation errors; low R2 indicates failure to capture height variance; training instability may indicate modality fusion issues
- First 3 experiments:
  1. Train with only Sentinel-1 data to assess SAR-only performance baseline
  2. Train with only Sentinel-2 data to assess multispectral-only performance baseline
  3. Train with multimodal data but without skip connections to evaluate their contribution to performance

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does MBHR-Net's performance generalize to geographic regions beyond the Netherlands with different building types and urban morphologies?
- Basis in paper: The authors state "The potential future investigation directions are to expand the data set to include different geographic regions, building types..."
- Why unresolved: The model was only trained and tested on 10 Dutch cities, which may have specific architectural patterns and urban characteristics not representative of other regions
- What evidence would resolve it: Testing the model on diverse urban areas across different continents with varied building styles, heights, and construction materials while reporting performance metrics

### Open Question 2
- Question: How do additional data sources (e.g., LiDAR, aerial imagery, or other satellite sensors) impact building height estimation accuracy?
- Basis in paper: The authors mention "incorporate additional data sources" as a future investigation direction
- Why unresolved: The current model only uses Sentinel-1 SAR and Sentinel-2 MSI data, which may have limitations in certain scenarios (dense vegetation, very tall buildings)
- What evidence would resolve it: Comparative studies using MBHR-Net with different combinations of additional datasets and measuring improvements in RMSE, IoU, and R2 scores

### Open Question 3
- Question: What architectural improvements could better capture the complexity of building height estimation from multi-temporal satellite data?
- Basis in paper: The authors state "develop a more advanced deep learning model to handle the complexity of such large data"
- Why unresolved: The current U-Net based architecture, while effective, may not fully exploit temporal patterns or capture complex spatial relationships in the data
- What evidence would resolve it: Comparative studies testing alternative architectures (transformers, 3D CNNs, attention mechanisms) against MBHR-Net on the same dataset while measuring performance improvements

## Limitations
- 10m spatial resolution limits capture of fine architectural details, particularly for smaller buildings
- Exclusive focus on Dutch cities with uniform building patterns may limit geographic generalizability
- Assumption of height constancy over 12 months may not hold in rapidly developing urban areas
- No comparison with established height estimation methods like stereo matching or InSAR techniques

## Confidence
- High confidence in multimodal fusion mechanism due to clear architectural separation and established U-Net framework
- Medium confidence in U-Net architecture's effectiveness for height regression, supported by IoU metrics but lacking direct corpus validation
- Medium confidence in time series augmentation strategy, as this represents a novel approach without corpus precedent

## Next Checks
1. Test the model on cities outside the Netherlands to evaluate geographic generalization and identify potential domain adaptation requirements
2. Compare MBHR-Net performance against single-modality baselines (SAR-only and MSI-only) to quantify the value of multimodal fusion
3. Validate the 12-month augmentation assumption by testing model performance when trained on shorter time periods or with explicit temporal stratification