---
ver: rpa2
title: 'TAMPAR: Visual Tampering Detection for Parcel Logistics in Postal Supply Chains'
arxiv_id: '2311.03124'
source_url: https://arxiv.org/abs/2311.03124
tags:
- detection
- parcel
- tampering
- side
- keypoint
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces TAMPAR, a new dataset and method for detecting
  tampering in parcels during last-mile delivery using single RGB images. The approach
  leverages keypoint detection to identify parcel corners, enabling the creation of
  normalized fronto-parallel views of parcel side surfaces.
---

# TAMPAR: Visual Tampering Detection for Parcel Logistics in Postal Supply Chains

## Quick Facts
- arXiv ID: 2311.03124
- Source URL: https://arxiv.org/abs/2311.03124
- Reference count: 40
- Primary result: 81% accuracy and 0.83 F1-score for tampering detection using single RGB images

## Executive Summary
This paper introduces TAMPAR, a novel approach for detecting tampering in parcels during last-mile delivery using single RGB images. The method leverages keypoint detection to identify parcel corners, enabling the creation of normalized fronto-parallel views of parcel side surfaces. This facilitates change detection by reducing the problem to comparing viewpoint-invariant representations. Experiments with various change detection methods on the TAMPAR dataset show promising results, with an accuracy of 81% and F1-score of 0.83. The approach is robust to tampering types, lens distortion, and viewing angles.

## Method Summary
The TAMPAR method detects tampering by first identifying the eight corner points of cuboid parcels using a keypoint detection model (Mask R-CNN with keypoint head). These corners are then used to compute normalized fronto-parallel views of each visible parcel side surface through perspective transformation, eliminating viewpoint variance. Change detection is performed by comparing these normalized side surfaces between a reference image and the input image using various image homogenization techniques combined with similarity metrics. The approach uses synthetic training data but evaluates on real-world datasets, addressing the challenge of domain adaptation.

## Key Results
- 81% accuracy and 0.83 F1-score for tampering detection on the TAMPAR dataset
- 75.76 keypoint AP for corner detection on real data
- Robust performance across various tampering types, lens distortion levels, and viewing angles

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Perspective transformation of keypoint-defined parcel corners produces viewpoint-invariant parcel side surface representations that reduce tampering detection to change detection between reference and input images.
- Mechanism: The approach detects eight corner points of cuboid parcels using keypoint detection. With these points, it computes normalized fronto-parallel views of each visible parcel side surface through perspective transformation. This eliminates viewpoint variance, making direct comparison between reference and input side surfaces possible.
- Core assumption: The detected corner points accurately correspond to the actual parcel corners, enabling correct perspective transformation to create normalized views.
- Evidence anchors:
  - [abstract] "We propose a tampering detection pipeline that utilizes keypoint detection to identify the eight corner points of a parcel. This permits applying a perspective transformation to create normalized fronto-parallel views for each visible parcel side surface."
  - [section] "Knowledge of the eight corner points of cuboid-shaped parcels enables computing normalized fronto-parallel views of all visible parcel side surfaces by applying a perspective transformation τ"
  - [corpus] Weak evidence - corpus papers don't directly address keypoint-based parcel corner detection
- Break condition: If corner point detection fails or is inaccurate, the perspective transformation will produce incorrect side surface representations, making change detection unreliable.

### Mechanism 2
- Claim: Combining image homogenization techniques with image similarity metrics enables robust change detection even with varying lighting conditions and geometric transformations.
- Mechanism: The approach applies various image homogenization methods (DexiNed, Canny, Laplacian, mean channel alignment) to both reference and input parcel side surfaces. Then it computes similarity using metrics like LPIPS, SSIM, MS-SSIM, CW-SSIM, HOG, and MAE. Changes are detected when similarity falls below thresholds.
- Core assumption: The image homogenization and similarity metrics can effectively normalize for lighting differences and geometric transformations between reference and input images.
- Evidence anchors:
  - [abstract] "Experiments with multiple classical and deep learning-based change detection approaches are performed on our newly collected TAMpering detection dataset for PARcels, called TAMPAR."
  - [section] "To cope with these issues, we use SimSaC [31]. SimSaC is a recent approach for robust change detection with imperfect matches. It estimates scene flow using correspondence maps at the same time as change masks by exploiting mis-correspondances."
  - [corpus] Weak evidence - corpus papers don't directly address image homogenization for tampering detection
- Break condition: If image homogenization cannot adequately normalize for the specific types of lighting or geometric differences present, change detection will produce false positives or negatives.

### Mechanism 3
- Claim: The unambiguous keypoint ordering defined for parcels enables consistent training and evaluation of keypoint detection models across different viewing angles and parcel orientations.
- Mechanism: The approach defines a specific ordering for the eight parcel corner points based on their spatial relationships and visibility, with explicit visual cues for distinguishing front from back sides. This ordering works consistently regardless of viewing angle.
- Core assumption: The defined keypoint ordering can be learned by neural networks and consistently applied to detect corners across diverse parcel configurations.
- Evidence anchors:
  - [section] "One key challenge for this use-case is to identify an unambiguous keypoint ordering which works well with Artificial Neural Networks since there are several options for ordering keypoints of a parcel."
  - [section] "To have a consistent, unambiguous keypoint ordering with explicit visual cues, we proceed as follows..."
  - [corpus] Weak evidence - corpus papers don't directly address keypoint ordering for parcels
- Break condition: If the keypoint ordering cannot be consistently learned or applied, corner detection will be unreliable, breaking the entire pipeline.

## Foundational Learning

- Concept: 3D geometry and perspective transformation
  - Why needed here: The approach relies on computing normalized fronto-parallel views of parcel side surfaces from corner points using perspective transformation
  - Quick check question: How do you compute the homography matrix needed for perspective transformation given four corner points in source and destination images?

- Concept: Object detection and keypoint estimation with neural networks
  - Why needed here: The approach uses Mask R-CNN with keypoint head for detecting parcel corners, requiring understanding of how these models work
  - Quick check question: What is the difference between bounding box detection, instance segmentation, and keypoint detection in object detection frameworks?

- Concept: Image similarity metrics and change detection
  - Why needed here: The approach compares reference and input parcel side surfaces using various similarity metrics to detect tampering
  - Quick check question: How does LPIPS differ from traditional metrics like SSIM in measuring perceptual image similarity?

## Architecture Onboarding

- Component map: RGB image → Keypoint detection → Perspective transformation → Change detection → Tampering decision
- Critical path: RGB image → Keypoint detection → Perspective transformation → Change detection → Tampering decision
- Design tradeoffs:
  - Synthetic vs real training data: Trained only on synthetic Parcel3D data but evaluated on real datasets, introducing domain gap
  - Keypoint ordering complexity: More complex ordering enables consistency but may be harder to learn
  - Multiple change detection methods: Benchmarking various approaches vs specializing in one
- Failure signatures:
  - Keypoint detection failures: Missing or imprecise corner detections leading to incorrect side surface views
  - Change detection failures: False positives from lighting differences or false negatives from insufficient sensitivity
  - Domain adaptation issues: Performance degradation when moving between synthetic and real data
- First 3 experiments:
  1. Evaluate keypoint detection accuracy on Parcel3D synthetic data with different backbone architectures
  2. Test perspective transformation quality by comparing generated side surfaces to ground truth under various viewing angles
  3. Benchmark different image homogenization + similarity metric combinations on a subset of TAMPAR with ground truth keypoints

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does the proposed keypoint ordering perform for non-cuboid parcel shapes or irregularly shaped packages?
- Basis in paper: [inferred] The paper focuses on cuboid-shaped parcels and proposes a specific keypoint ordering for them. It mentions that the ordering is not invariant to horizontal flipping but only to vertical flipping.
- Why unresolved: The paper does not evaluate the performance of the keypoint ordering on non-cuboid or irregularly shaped parcels, leaving uncertainty about its generalizability.
- What evidence would resolve it: Experiments comparing the keypoint ordering's performance on cuboid vs. non-cuboid parcels would provide evidence. Results showing significant degradation in accuracy for non-cuboid shapes would suggest limitations.

### Open Question 2
- Question: What is the impact of severe lens distortion (beyond the tested range) on the tampering detection accuracy?
- Basis in paper: [explicit] The paper performs a sensitivity analysis on lens distortion, testing six different settings of distortion strength parameter A.
- Why unresolved: The analysis only covers a limited range of distortion strengths (A ∈ [-0.08, 0.16]). The impact of more severe distortions outside this range is not investigated.
- What evidence would resolve it: Testing the tampering detection accuracy with distortion strengths beyond the tested range would provide evidence. A significant drop in accuracy with higher distortion strengths would indicate limitations.

### Open Question 3
- Question: How does the tampering detection performance vary with different types of parcel materials (e.g., cardboard, plastic, metal)?
- Basis in paper: [inferred] The paper does not mention any experiments or analysis on the impact of parcel materials on tampering detection.
- Why unresolved: The paper focuses on tampering detection for cuboid-shaped parcels without considering the material properties of the parcels.
- What evidence would resolve it: Experiments testing the tampering detection accuracy on parcels made of different materials would provide evidence. Results showing significant variations in accuracy across materials would suggest the need for material-specific adaptations.

## Limitations
- Domain gap between synthetic training data and real-world test images
- Sensitivity to domain adaptation challenges
- No specific threshold values provided for decision tree classifier

## Confidence

| Finding | Confidence |
|---------|------------|
| Keypoint detection performance | High |
| Perspective transformation approach | High |
| Change detection accuracy | Medium |
| Domain adaptation robustness | Low |

## Next Checks
1. **Domain Adaptation Study**: Evaluate keypoint detection and change detection performance when training on mixed synthetic-real data versus purely synthetic data to quantify the domain gap impact.

2. **Threshold Optimization**: Systematically search for optimal similarity metric thresholds for each (method, metric) combination using cross-validation on the TAMPAR dataset to improve change detection performance.

3. **Generalization Test**: Test the complete pipeline on a new, unseen parcel dataset with different shapes, sizes, and tampering types to assess real-world robustness beyond the current test sets.