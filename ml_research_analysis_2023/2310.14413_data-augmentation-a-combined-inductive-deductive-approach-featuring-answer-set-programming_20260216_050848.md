---
ver: rpa2
title: 'Data Augmentation: a Combined Inductive-Deductive Approach featuring Answer
  Set Programming'
arxiv_id: '2310.14413'
source_url: https://arxiv.org/abs/2310.14413
tags:
- images
- data
- image
- generation
- labeled
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper proposes a hybrid inductive-deductive approach for medical
  image data augmentation using Answer Set Programming (ASP). Starting from a small
  set of real labeled images, ASP is used to declaratively generate new labeled images
  that comply with domain knowledge and specified desiderata.
---

# Data Augmentation: a Combined Inductive-Deductive Approach featuring Answer Set Programming

## Quick Facts
- arXiv ID: 2310.14413
- Source URL: https://arxiv.org/abs/2310.14413
- Reference count: 22
- Primary result: Hybrid ASP+deep learning approach generates realistic medical images matching domain constraints

## Executive Summary
This paper proposes a hybrid inductive-deductive approach for medical image data augmentation using Answer Set Programming (ASP). Starting from a small set of real labeled images, ASP is used to declaratively generate new labeled images that comply with domain knowledge and specified desiderata. Generated labels are then fed to a deep learning-based model (SPADE) to synthesize realistic images. The approach was tested on a laryngeal endoscopic dataset, successfully producing synthetic images with tumors, intubation, and surgical tools that match the original image semantics. While computational cost is high, the method enables highly customizable data generation guided by explicit declarative constraints. Results show the viability of combining ASP and deep learning for realistic medical image synthesis.

## Method Summary
The method combines Answer Set Programming with deep learning to augment medical images. ASP programs generate labeled images by placing objects according to domain knowledge and desiderata encoded as constraints. The image space is partitioned into blocks and sub-blocks to manage combinatorial complexity. Generated labels are then processed by SPADE (Spatially-Adaptive Normalization-based GAN) to create realistic raw images. The approach was validated on a laryngeal endoscopic dataset, producing synthetic images of tumors, intubation, and surgical tools that maintain semantic accuracy. The process involves careful ASP program design to ensure compliance with domain constraints while managing computational cost.

## Key Results
- Successfully generated synthetic laryngeal endoscopic images with tumors, intubation, and surgical tools
- SPADE effectively converted ASP-generated semantic labels into photo-realistic images
- Approach maintained semantic accuracy while increasing dataset diversity
- Demonstrated viability of hybrid ASP+deep learning for medical image augmentation

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Declarative ASP programs generate new labeled images that strictly comply with domain knowledge and specified desiderata.
- Mechanism: ASP enforces compliance by encoding medical background knowledge and spatial constraints into choice rules and constraints, ensuring generated labels respect domain semantics.
- Core assumption: The domain knowledge and desiderata can be accurately modeled in ASP rules and constraints.
- Evidence anchors:
  - [abstract] "logic programs for declaratively specifying the structure of new images, that is guaranteed to comply with both a set of constraints coming from the domain knowledge and some specific desiderata."
  - [section] "It is worth noting that a careful implementation of proper ASP programs guarantees, by design, the generation of labels that comply with the domain knowledge at hand."
  - [corpus] Weak evidence: Related papers focus on general ASP modeling, not domain-specific image generation compliance.
- Break condition: If domain knowledge is incomplete or incorrect, ASP programs will generate unrealistic or invalid labels.

### Mechanism 2
- Claim: SPADE converts semantically labeled images into photo-realistic raw images by using spatially-adaptive normalization layers.
- Mechanism: SPADE uses learned modulation parameters conditioned on semantic layout to propagate spatial information through convolution layers, generating realistic images that match semantic labels.
- Core assumption: The SPADE model is trained on paired semantic maps and real images, so it can generalize to new generated labels.
- Evidence anchors:
  - [abstract] "a module based on Deep Learning in charge of creating photo-realistic images that comply with the generated label."
  - [section] "Instead of traditional normalization layers, the authors used spatially-adaptive normalization layers. These layers modulate the activations using the input semantic layout through a learned transformation that adapts to the spatial layout."
  - [corpus] Weak evidence: No direct corpus paper on SPADE; only general GAN literature.
- Break condition: If the SPADE model overfits to the training set, it may fail to generate realistic images for novel label patterns.

### Mechanism 3
- Claim: Partitioning the image space into blocks and sub-blocks reduces the combinatorial search space for object placement in ASP.
- Mechanism: The approach divides the 512x512 image into 64x64 blocks, each further into 8x8 sub-blocks, limiting the search to relevant sub-blocks for each object.
- Core assumption: The block/sub-block partitioning preserves sufficient spatial resolution for realistic object placement while keeping search tractable.
- Evidence anchors:
  - [section] "we adopt an approach inspired by what in Content Generation contexts is called 'space partitioning' [15, 5], that works by dividing large areas into smaller zones to be addressed separately."
  - [section] "In order to properly address the resulting search space, we adopt an approach inspired by what in Content Generation contexts is called 'space partitioning' [15, 5]."
  - [corpus] Weak evidence: Content generation partitioning studies, but not specific to ASP image generation.
- Break condition: If partitioning is too coarse, important spatial relationships may be lost; if too fine, computational cost may increase excessively.

## Foundational Learning

- Concept: Answer Set Programming (ASP) syntax and semantics
  - Why needed here: ASP is the core reasoning engine for generating compliant labeled images.
  - Quick check question: What is the difference between a choice rule and a constraint in ASP?
- Concept: Generative Adversarial Networks (GANs) and SPADE architecture
  - Why needed here: SPADE is used to synthesize realistic images from ASP-generated labels.
  - Quick check question: How does spatially-adaptive normalization differ from batch normalization?
- Concept: Laryngeal endoscopic domain knowledge and image semantics
  - Why needed here: ASP programs must encode realistic spatial relationships for tumors, intubation, and tools.
  - Quick check question: What are the five groups of images in the Laryngeal Endoscopic Dataset and their distinguishing features?

## Architecture Onboarding

- Component map: ASP reasoning engine -> SPADE image synthesis module
- Critical path:
  1. Load original labeled images and identify relevant classes
  2. Partition image space into blocks/sub-blocks
  3. ASP programs generate labeled images by placing objects according to constraints
  4. Feed generated labels into SPADE model
  5. SPADE outputs realistic raw images
- Design tradeoffs:
  - Block size vs. computational cost: larger blocks reduce search space but may miss fine details
  - Number of pivot points vs. shape accuracy: more points give smoother shapes but increase ASP complexity
  - SPADE training data size vs. realism: more paired data improves quality but requires more resources
- Failure signatures:
  - ASP: invalid models (unsatisfiable constraints), unrealistic object shapes/positions
  - SPADE: blurry or inconsistent textures, semantic mismatch between label and output
  - Overall: generated images do not reflect domain knowledge or desiderata
- First 3 experiments:
  1. Generate a single tumor image from a blank vocal folds background using ASP only; verify shape and position constraints.
  2. Generate a tumor + intubation image; check spatial compliance and label accuracy.
  3. Run SPADE on a simple ASP-generated label (e.g., single tumor) and verify output realism.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does the computational complexity of ASP-based image generation scale with image size and resolution?
- Basis in paper: [explicit] The paper mentions that ASP modeling must be carefully designed to reduce computational cost due to the combinatorial nature of the problem and the amount of information at the pixel level. It also states that the computational burden to be carried out by ASP solvers is heavy, especially in the case of image generation carried out at the pixel level.
- Why unresolved: The paper does not provide specific quantitative analysis of computational complexity or scaling behavior.
- What evidence would resolve it: Empirical studies measuring runtime and memory usage of the ASP solver for varying image sizes and resolutions, along with complexity analysis of the ASP programs.

### Open Question 2
- Question: How does the quality of synthetically generated images compare to real images in terms of task-specific performance (e.g., tumor detection accuracy)?
- Basis in paper: [explicit] The paper shows that SPADE can generate realistic raw images complying with corresponding labeled ones, but does not provide quantitative evaluation of how these synthetic images perform compared to real images on downstream tasks.
- Why unresolved: The paper focuses on the viability of the approach rather than benchmarking synthetic vs. real image performance.
- What evidence would resolve it: Comparative studies measuring model performance (e.g., classification accuracy, segmentation quality) when trained on synthetic images versus real images from the same domain.

### Open Question 3
- Question: Can the ASP-based approach be generalized to other medical imaging domains beyond laryngeal endoscopy?
- Basis in paper: [explicit] The paper states that "for each domain, ad-hoc ASP programs need to be properly designed" and mentions that "when working at a pixel level, several pieces of knowledge can be reused across different tasks and domains," but does not demonstrate application to other domains.
- Why unresolved: The approach is only validated on one specific medical imaging dataset.
- What evidence would resolve it: Successful application and validation of the framework on other medical imaging datasets (e.g., MRI, CT scans) with appropriate modifications to the ASP programs.

## Limitations
- High computational cost of ASP-based image generation limits practical deployment
- Quality heavily dependent on accuracy of encoded domain knowledge in ASP rules
- Approach validated only on laryngeal endoscopic dataset, limiting generalizability

## Confidence

| Claim | Evidence Level |
|-------|----------------|
| ASP can generate compliant labels when domain knowledge is properly encoded | Medium |
| SPADE can synthesize realistic images from semantic layouts | Medium |
| Combination effectively handles complex medical image generation | Low |

## Next Checks

1. **Domain Knowledge Completeness Test**: Systematically vary ASP-encoded constraints and measure the impact on generated image quality and semantic accuracy. This will reveal whether current knowledge representation is sufficient or if critical domain rules are missing.

2. **Computational Efficiency Benchmark**: Measure generation time across different block/sub-block configurations and object complexity levels. Compare against simpler augmentation methods to quantify the practical cost-benefit tradeoff.

3. **Generalization Across Pathology Types**: Generate images for less common laryngeal pathologies beyond tumors, intubation, and surgical tools. Evaluate whether the ASP framework can adapt to new object types without extensive rule rewriting.