---
ver: rpa2
title: Online Two-stage Thermal History Prediction Method for Metal Additive Manufacturing
  of Thin Walls
arxiv_id: '2310.16125'
source_url: https://arxiv.org/abs/2310.16125
tags:
- layer
- thermal
- temperature
- field
- prediction
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper proposes an online two-stage thermal history prediction
  method for metal additive manufacturing of thin walls. The method uses thermal field
  mapping to predict temperature curves of yet-to-print layers from measured temperatures
  of previous layers, and thermal field reconstruction to decompose and construct
  temperature profiles of all points on the same layer.
---

# Online Two-stage Thermal History Prediction Method for Metal Additive Manufacturing of Thin Walls

## Quick Facts
- arXiv ID: 2310.16125
- Source URL: https://arxiv.org/abs/2310.16125
- Reference count: 40
- Key outcome: Proposes an online two-stage thermal history prediction method for metal additive manufacturing of thin walls, achieving <0.1 second prediction time and REOP < 0.01 on test cases

## Executive Summary
This paper introduces a two-stage method for predicting thermal history in wire arc additive manufacturing of thin walls. The approach uses thermal field mapping to predict temperature curves of upcoming layers from previous layers, combined with thermal field reconstruction to build complete temperature profiles. The method is validated through 15 experiments and 9 simulations, demonstrating fast prediction capabilities and good generalization from simulation to physical experiments through fine-tuning.

## Method Summary
The proposed method consists of two stages: thermal field mapping and thermal field reconstruction. In the first stage, an artificial neural network with residual connections maps temperature curves from previously printed layers to predict curves for yet-to-print layers, leveraging the similarity between successive layers' thermal profiles. The second stage uses a reduced order model (ROM) based on proper orthogonal decomposition (POD) to reconstruct complete temperature profiles from a few measured points, with an extreme learning machine (ELM) predicting basis coefficients from spatial positions. The approach is trained on simulation data and fine-tuned with limited experimental data for improved real-world performance.

## Key Results
- Thermal history of a yet-to-print layer can be constructed within 0.1 seconds on a low-cost desktop computer
- Relative Error of Profile (REOP) metric shows prediction errors smaller than 0.09 after fine-tuning with experimental data
- Method demonstrates acceptable generalization capability from simulation to physical experiments
- Method shows good transfer capability from lower layers to higher layers within the same simulation

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Temperature curves of adjacent layers are sufficiently similar to allow direct mapping.
- Mechanism: The physical heating-cooling cycle experienced by a point in metal AM is periodic and similar across layers. This "curve similarity" lets a neural network trained on simulation data predict yet-to-print layer temperatures from previously printed layer data.
- Core assumption: Process parameters (speed, wire feed rate, power) are constant within a layer and geometry is simple (thin wall with unidirectional printing).
- Evidence anchors:
  - [abstract] "Based on the similarity of temperature curves (curve segments of a temperature profile of one point) between any two successive layers, the first stage of the proposed method designs a layer-to-layer prediction model..."
  - [section] "the ð‘˜-th curve ð‘ªð‘—,ð‘– ð‘˜  in the temperature profile of ð‘ð‘—,ð‘– is always similar to the ð‘˜-th curve ð‘ªð‘—,ð‘–+1 ð‘˜  in the temperature profile of ð‘ð‘—,ð‘–+1 considering the similar re-heating-cooling cycle encountered by both points."
- Break condition: When toolpaths or geometries vary between layers, curve similarity degrades, breaking the mapping.

### Mechanism 2
- Claim: Temperature profiles within a single layer can be reconstructed from a few sampled points using reduced-order modeling.
- Mechanism: Temperature profiles across a layer share common low-dimensional features (reduced bases) that can be extracted via proper orthogonal decomposition (POD). These bases are combined with basis coefficients predicted by an extreme learning machine (ELM) from spatial position data.
- Core assumption: Temperature profile similarities across a layer are sufficiently linear for POD to capture dominant modes.
- Evidence anchors:
  - [abstract] "the second stage proposes a reduced order model (ROM) to construct the temperature profiles of all points on the same layer, which could be used to build the temperature field of the entire layer."
  - [section] "the nonintrusive reduced -order modeling (ROM) method is applied for dimension reduction in this paper...the profile matrix ð‘º of the ð‘–-th layer, a profile matrix ð‘º is defined as ð‘º = [ð‘·1,ð‘– ð‘‡ , â€¦ , ð‘·ð‘—,ð‘– ð‘‡ , â€¦ , ð‘·ð‘€,ð‘– ð‘‡ ] with the size 5ð‘ Ã— ð‘€, where 5ð‘ â‰« ð‘€"
- Break condition: If measured points are too sparse or if thermal behavior is highly nonlinear across the layer, POD reconstruction accuracy drops.

### Mechanism 3
- Claim: Model generalization from simulation to physical experiments is achievable through fine-tuning with limited experimental data.
- Mechanism: Pretrained models trained on simulation data can be adapted to real-world thermal behavior using transfer learning. Fine-tuning updates model parameters with small amounts of experimental data to capture unmodeled physical effects.
- Core assumption: Simulation captures enough of the underlying physics to provide a useful prior for transfer learning.
- Evidence anchors:
  - [abstract] "after fine-tuning the proposed method with limited experimental data, the relative errors of all predicted temperature profiles on a new experiment are smaller than 0.09"
  - [section] "transfer learning would be one solution. The core idea in transfer learning is to transfer the knowledge learned from sufficient source data (e.g., cheap simulation data or data from completed tasks ) to the target task"
- Break condition: If simulation assumptions are too far from reality, fine-tuning may not recover sufficient accuracy.

## Foundational Learning

- Concept: Artificial Neural Networks (ANNs) for regression
  - Why needed here: To model the complex nonlinear mapping between temperature curves of successive layers.
  - Quick check question: Can a simple linear regression capture the curve similarity between adjacent layers in metal AM?

- Concept: Reduced Order Modeling (ROM) and Proper Orthogonal Decomposition (POD)
  - Why needed here: To decompose high-dimensional temperature profiles into a few dominant modes for efficient reconstruction.
  - Quick check question: If you have 100 temperature samples per profile and only 5 measured points, can POD still extract meaningful bases?

- Concept: Extreme Learning Machine (ELM)
  - Why needed here: For fast online training of the ROM basis coefficient prediction model with limited data.
  - Quick check question: How does ELM differ from traditional backpropagation in terms of training speed and generalization?

## Architecture Onboarding

- Component map:
  - Measure profiles on current layer â†’ Predict curves for next layer via mapping model â†’ Reconstruct full profiles via ROM â†’ Build temperature field for control/monitoring

- Critical path:
  - Measure profiles on current layer â†’ Predict curves for next layer via mapping model â†’ Reconstruct full profiles via ROM â†’ Build temperature field for control/monitoring

- Design tradeoffs:
  - Simulation vs. experimental data: More simulation improves pretraining but may miss real-world effects; more experiments improve fine-tuning but are costly.
  - Number of measured points vs. reconstruction accuracy: More points improve reconstruction but increase sensor cost and data collection time.
  - Model complexity vs. online speed: Deeper networks may improve accuracy but slow down prediction.

- Failure signatures:
  - High prediction error on peaks/troughs in curves â†’ mapping model may not capture peak thermal behavior.
  - Poor reconstruction of profiles near layer boundaries â†’ insufficient measured points near boundaries.
  - Fine-tuning fails to improve accuracy â†’ simulation assumptions too far from reality.

- First 3 experiments:
  1. Test mapping model on simulated thin wall with varying travel speeds to see how curve similarity holds.
  2. Apply ROM reconstruction with different numbers of measured points to quantify accuracy vs. sensor count.
  3. Perform fine-tuning on a small set of experimental data and measure error reduction.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does the accuracy of the proposed thermal field prediction method change when applied to more complex geometries beyond thin walls, such as parts with holes, corners, or intersections?
- Basis in paper: [inferred] The paper discusses the limitations of the thermal field mapping method for cases with dissimilar temperature curves, such as successive layers with various geometries.
- Why unresolved: The proposed method has only been tested on thin walls with unidirectional printing, and its performance on more complex geometries is unknown.
- What evidence would resolve it: Testing the proposed method on a variety of complex geometries and comparing its accuracy to the results obtained for thin walls would provide evidence of its generalizability.

### Open Question 2
- Question: How does the inclusion of additional input variables, such as geometry deviation and dynamic process parameters, affect the performance of the thermal field mapping model?
- Basis in paper: [explicit] The paper mentions that the thermal field mapping model could be improved by including more input variables to reflect the effects of complex geometries and toolpaths.
- Why unresolved: The proposed method currently only considers a limited set of input variables, and the impact of including additional variables is unknown.
- What evidence would resolve it: Conducting experiments with different input variable combinations and comparing the performance of the thermal field mapping model would provide evidence of the optimal input variable set.

### Open Question 3
- Question: How does the proposed thermal field reconstruction method perform when applied to parts with different material properties or in different metal additive manufacturing processes, such as laser powder bed fusion or direct energy deposition?
- Basis in paper: [explicit] The paper discusses the potential applications of the thermal field reconstruction method to parts with any geometry and toolpath, but its performance in different AM processes is unknown.
- Why unresolved: The proposed method has only been tested on wire arc additive manufacturing of thin walls, and its generalizability to other processes and materials is unknown.
- What evidence would resolve it: Testing the proposed method on parts made of different materials and using different AM processes would provide evidence of its generalizability.

## Limitations
- The method assumes constant process parameters within each layer and simple unidirectional toolpaths, limiting applicability to more complex geometries
- Only 7 measured points per layer in simulations and 1 middle point every 5 layers in experiments may not capture sufficient spatial variability
- Transfer learning effectiveness depends heavily on simulation accuracy, which may not capture all real-world effects

## Confidence
- **High Confidence**: The two-stage architecture design and ROM decomposition approach are well-established methods that should work as described
- **Medium Confidence**: The curve similarity assumption between layers is plausible but may break down with varying process parameters or complex geometries
- **Medium Confidence**: The transfer learning approach for simulation-to-experiment adaptation should work but effectiveness depends on simulation fidelity

## Next Checks
1. Test the mapping model on simulated thin walls with intentionally varied process parameters between layers to quantify how curve similarity degrades
2. Perform systematic ablation studies on the number of measured points used in ROM reconstruction to establish the minimum sensor requirement
3. Apply the method to a more complex geometry (e.g., corners or L-shaped walls) to test the limits of the curve similarity assumption