---
ver: rpa2
title: 'DTW+S: Shape-based Comparison of Time-series with Ordered Local Trend'
arxiv_id: '2309.03579'
source_url: https://arxiv.org/abs/2309.03579
tags:
- time-series
- time
- figure
- similar
- error
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: DTW+S improves clustering and ensemble generation for time-series
  by capturing local trends and timing through a shapelet-space representation combined
  with dynamic time warping. It outperforms traditional DTW in classification tasks
  where local trends are more informative than scale, particularly on 64 datasets
  where DTW+S reduces error rates by up to 57.7%.
---

# DTW+S: Shape-based Comparison of Time-series with Ordered Local Trend

## Quick Facts
- arXiv ID: 2309.03579
- Source URL: https://arxiv.org/abs/2309.03579
- Reference count: 23
- Outperforms traditional DTW in classification tasks where local trends are more informative than scale

## Executive Summary
DTW+S is a shape-based time-series comparison method that combines dynamic time warping with a shapelet-space representation. The method transforms time series into matrix representations where each column encodes local trends relative to predefined shapelets, then applies DTW to compare these matrices. This approach captures local trend patterns while preserving temporal ordering, making it particularly effective for classification tasks where shape information is more discriminative than scale. Theoretical analysis shows that at least w-1 linearly independent shapelets are necessary to ensure the closeness-preserving property.

## Method Summary
DTW+S transforms time series into shapelet-space representations by comparing sliding windows to predefined shapelets (increase, surge, peak, flat), creating a d-dimensional vector for each window that is stacked into a matrix. Dynamic time warping is then applied to these matrices to compute distances that capture both local trend similarity and temporal alignment. The method requires at least w-1 linearly independent shapelets plus a flat shapelet to ensure closeness preservation. DTW+S outperforms standard DTW in classification tasks where local trends are more informative than scale, and is particularly effective for epidemic curve analysis where it produces ensembles that preserve both timing and severity of events.

## Key Results
- Reduces classification error rates by up to 57.7% compared to standard DTW on 64 datasets
- Achieves error rate of 0.0017 versus 0.13 for DTW on a dataset with local trend patterns
- Produces interpretable trend-based ensemble representations for epidemic curves that preserve event timing and severity

## Why This Works (Mechanism)

### Mechanism 1: Closeness-Preserving Matrix Representation
- The shapelet-space transformation creates a matrix where each column encodes local trends as similarity vectors to predefined shapelets
- Core assumption: At least w-1 linearly independent shapelets plus a flat shapelet are necessary and sufficient for closeness preservation
- Evidence: Theoretical proof shows this condition ensures the representation maintains distance relationships from the original time series

### Mechanism 2: Trend-Based Classification
- By focusing on shape rather than scale through the shapelet-space representation, DTW+S captures patterns invariant to magnitude differences
- Core assumption: Class boundaries depend on presence/absence of specific trend shapes rather than their magnitude
- Evidence: On datasets with local trend patterns, DTW+S achieves error rate of 0.0017 versus 0.13 for DTW

### Mechanism 3: Trend-Aligned Ensemble Generation
- The shapelet-space representation enables alignment based on sequences of local trends, allowing proper averaging of timing and severity
- Core assumption: Individual time series have similar sequences of shapes but may differ in timing and severity
- Evidence: Ensemble results show two peaks that correctly average corresponding timing and scale of input time-series

## Foundational Learning

- **Dynamic Time Warping (DTW)**
  - Why needed: Core distance measure applied to shapelet-space matrices for temporal alignment
  - Quick check: What constraints does DTW impose on alignment between two time series indices?

- **Shapelet-space transformation**
  - Why needed: Novel component that encodes local trends into matrix form for trend-based comparison
  - Quick check: How does shapelet-space representation differ from raw time series values?

- **Linear independence of shapelets**
  - Why needed: Theoretical foundation for proving sufficiency and necessity of shapelet set
  - Quick check: Why is linear independence of shapelets necessary for closeness-preserving property?

## Architecture Onboarding

- **Component map**: Input time series → Sliding window extraction → Shapelet-space transformation (per window) → Matrix construction (columns = windows) → DTW distance calculation between matrices → Output distance/similarity
- **Critical path**: DTW calculation on shapelet-space matrices, O(T1*T2) where T1 and T2 are number of windows
- **Design tradeoffs**: More shapelets increase representational power but also computational cost and risk of overfitting
- **Failure signatures**: Poor performance when local trends aren't informative, shapelets aren't well-chosen, or noise overwhelms trend signal
- **First 3 experiments**:
  1. Visualize matrix representation of simple time series with known local trends
  2. Compare DTW+S vs DTW on synthetic dataset with one class having specific local trend pattern
  3. Create ensemble from two time series with same shape but different timing/scale to verify timing/scale preservation

## Open Questions the Paper Calls Out

- **Shapelet selection automation**: Can shapelet selection be automated rather than relying on domain expertise?
  - The paper uses hand-picked shapelets without exploring data-driven selection methods
  - Comparative studies of automatic shapelet discovery versus hand-picked shapelets across domains would resolve this

- **Performance on complex trends**: How does DTW+S perform on time series with non-stationary trends or multiple simultaneous trends?
  - Current evaluation focuses on datasets with relatively clear local trends
  - Systematic evaluation on synthetic time series with controlled trend changes and multiple concurrent trends would provide insight

- **Window size and feature space dimensionality**: What is the theoretical relationship between window size parameter w and resulting feature space dimensionality?
  - Paper proves necessity and sufficiency of w shapelets but doesn't explore optimal feature dimensionality
  - Empirical studies varying window sizes and measuring classification accuracy, computational cost, and interpretability would clarify this

## Limitations

- Effectiveness heavily depends on quality and relevance of chosen shapelets, with no systematic approach for domain-specific selection
- Performance claims on 64 datasets lack detailed methodology or dataset characteristics
- Limited validation beyond epidemic curves, with "especially effective" claim based on single example

## Confidence

- **High confidence**: Theoretical analysis of linear independence requirements for closeness preservation
- **Medium confidence**: Empirical performance claims on 64 datasets
- **Low confidence**: Claim that DTW+S is "especially effective" for epidemic curve analysis

## Next Checks

1. Implement shapelet selection algorithm to develop systematic method for identifying domain-relevant shapelets
2. Cross-domain validation to test DTW+S performance across diverse time-series domains (finance, sensor data, speech)
3. Ablation study on shapelet count to systematically vary number of shapelets and quantify relationship between representational power and classification performance