---
ver: rpa2
title: Real-time goal recognition using approximations in Euclidean space
arxiv_id: '2307.07876'
source_url: https://arxiv.org/abs/2307.07876
tags:
- goal
- recognition
- trajectory
- online
- each
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper presents an efficient online goal recognition method
  for continuous and discrete domains. The key idea is to precompute optimal trajectories
  for each possible goal and then compare new observations to these trajectories to
  infer the most likely goal.
---

# Real-time goal recognition using approximations in Euclidean space

## Quick Facts
- arXiv ID: 2307.07876
- Source URL: https://arxiv.org/abs/2307.07876
- Reference count: 29
- Method achieves 7 orders of magnitude speedup over state-of-the-art with comparable or better accuracy

## Executive Summary
This paper presents an efficient online goal recognition method that works in both continuous and discrete domains by precomputing optimal trajectories for each possible goal and comparing new observations to these trajectories. The key innovation is avoiding costly planner calls at runtime by using Euclidean distance in a vector space to infer the most likely goal. For discrete domains, the authors develop a conversion method to represent STRIPS-style problems as continuous vectors. The approach achieves dramatic computational efficiency improvements while maintaining competitive accuracy across a range of benchmark domains.

## Method Summary
The method precomputes optimal trajectories for each possible goal offline, then uses Euclidean distance to compare each new observation to the corresponding trajectory point, feeding this comparison into a Bayesian probability update to infer the most likely goal without calling a planner at runtime. For continuous domains, it generates polynomial trajectory approximations using via points from a geometric planner like RRT*. For discrete domains, it converts STRIPS states to vector representations by counting predicate-object pair frequencies. The method is particularly suitable for real-time applications like robot navigation where sub-second recognition is critical.

## Key Results
- 7 orders of magnitude faster than state-of-the-art goal recognition methods
- 4x speedup in preprocessing compared to previous approaches
- Achieves comparable or better accuracy and positive predictive value across 15 planning domains
- Particularly effective for real-time applications requiring sub-second recognition

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Precomputing optimal trajectories for each goal and comparing observations to them enables real-time goal recognition without repeated planner calls.
- Mechanism: The method computes a set of optimal trajectories (one per goal) offline, then uses Euclidean distance to compare each new observation to the corresponding trajectory point. This comparison feeds into a Bayesian probability update, allowing the system to infer the most likely goal without calling a planner at runtime.
- Core assumption: The agent follows a single, unchanging goal and prefers the cheapest cost trajectories.
- Evidence anchors:
  - [abstract]: "The key idea is to precompute optimal trajectories for each possible goal and then compare new observations to these trajectories to infer the most likely goal."
  - [section]: "We base our inference method on the Euclidean distance between a pre-computed sub-optimal trajectory and observations of the real agent."
- Break condition: If the agent changes goals mid-trajectory or follows a non-optimal path, the precomputed trajectory comparison will degrade in accuracy.

### Mechanism 2
- Claim: Converting discrete STRIPS-style problems into continuous vector representations allows the same trajectory-based inference method to work in both discrete and continuous domains.
- Mechanism: The paper describes an algorithm that converts each discrete state (set of fluents) into a vector by counting the occurrence frequency of each predicate-object pair. This vector is then used in the same Euclidean distance-based inference as in the continuous case.
- Core assumption: The vector representation preserves enough information to distinguish between different goals.
- Evidence anchors:
  - [section]: "To apply the inference developed in this work, we develop a conversion of the discrete state into a vectorial continuous state space representation."
  - [section]: "This vector is then used in the same Euclidean distance-based inference as in the continuous case."
- Break condition: If the discrete state space is too large or the predicate-object pairs are not sufficiently discriminative, the vector representation may lose critical information needed for accurate goal recognition.

### Mechanism 3
- Claim: Using a polynomial trajectory approximation instead of optimal trajectory planning drastically reduces computational cost while maintaining sufficient accuracy for real-time recognition.
- Mechanism: The method generates a fifth-degree polynomial trajectory using via points obtained from a geometric planner (e.g., RRT*). The polynomial is chosen because it can handle dynamic constraints (position, velocity, acceleration) while being computationally cheap to evaluate.
- Core assumption: The polynomial approximation is close enough to the optimal trajectory that the Euclidean distance comparison still provides meaningful goal recognition probabilities.
- Evidence anchors:
  - [section]: "We chose a fifth-degree polynomial equation for two key reasons... fifth-degree polynomials are the most complex polynomial without discontinuities that have computationally cheap analytical solutions."
  - [section]: "Computing an optimal trajectory is often a complex task for any continuous domain optimization; using an approximation naturally reduces the overall optimization complexity."
- Break condition: If the environment is highly constrained or the agent's dynamics are complex, the polynomial approximation may deviate significantly from the optimal trajectory, reducing recognition accuracy.

## Foundational Learning

- Concept: Euclidean distance as a similarity metric
  - Why needed here: The method relies on comparing observations to precomputed trajectories using Euclidean distance to compute goal recognition probabilities.
  - Quick check question: What property of Euclidean distance makes it suitable for comparing trajectory points in continuous space?

- Concept: Bayesian inference for goal recognition
  - Why needed here: The method uses Bayesian rules to update the probability distribution over goals as new observations arrive.
  - Quick check question: How does the Bayesian formulation in Equation (2) incorporate both the likelihood of observations given a trajectory and the prior probability of each goal?

- Concept: Polynomial trajectory generation
  - Why needed here: The method uses polynomial trajectories to approximate optimal paths, balancing computational efficiency with dynamic constraint satisfaction.
  - Quick check question: Why is a fifth-degree polynomial specifically chosen over lower or higher degree polynomials?

## Architecture Onboarding

- Component map: Offline preprocessing -> Online inference -> Output most likely goal
- Critical path:
  1. Precompute trajectories/vectors for all goals (offline)
  2. Receive new observation
  3. Convert observation to vector (if discrete domain)
  4. Compute Euclidean distance to corresponding trajectory points
  5. Update goal probabilities using Bayesian inference
  6. Output most likely goal
- Design tradeoffs:
  - Accuracy vs. speed: Polynomial approximation is faster but less accurate than optimal trajectory planning
  - Vector representation size: Larger discrete state spaces require larger vectors, increasing computational cost
  - Preprocessing time vs. runtime efficiency: More thorough preprocessing can reduce online computation but increases offline cost
- Failure signatures:
  - Degradation in recognition accuracy when agent deviates from optimal path
  - Increased false positives when vector representation loses discriminative information
  - Computational bottlenecks if discrete state space is too large for efficient vector conversion
- First 3 experiments:
  1. Implement polynomial trajectory generation and verify it satisfies dynamic constraints
  2. Test vector conversion algorithm on a small discrete domain and validate representation preserves goal distinctions
  3. Implement Bayesian inference with Euclidean distance comparison and verify probability updates are reasonable with synthetic data

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does the accuracy of the polynomial trajectory approximation compare to optimal trajectories in more complex environments with obstacles?
- Basis in paper: [inferred] The paper mentions using a polynomial trajectory approximation to reduce computational cost, but notes this comes at a reduction in accuracy compared to optimal trajectories.
- Why unresolved: The experiments only compare the approximation method to other goal recognition approaches, not to optimal trajectories in the same environments.
- What evidence would resolve it: An empirical comparison of the approximation method's accuracy versus optimal trajectories computed by a motion planner in a variety of environments with different levels of complexity and obstacles.

### Open Question 2
- Question: How sensitive is the goal recognition accuracy to the sampling rate of observations in the continuous domain?
- Basis in paper: [inferred] The paper assumes a sampling period of 0.1 seconds for the simulated robot, but does not explore how this choice impacts recognition accuracy.
- Why unresolved: The effect of observation sampling rate on recognition accuracy is not investigated.
- What evidence would resolve it: An empirical study varying the observation sampling rate and measuring the resulting impact on goal recognition accuracy and convergence speed.

### Open Question 3
- Question: Can the discrete-to-continuous domain conversion method be extended to other planning formalisms beyond STRIPS?
- Basis in paper: [explicit] The paper develops a conversion method specifically for STRIPS-style problems, noting this overcomes a limitation of previous approaches.
- Why unresolved: The conversion method is only demonstrated for STRIPS, and it is unclear if it generalizes to other planning languages or formalisms.
- What evidence would resolve it: An evaluation of the conversion method's applicability and effectiveness for planning problems expressed in other formalisms like PDDL or Hierarchical Task Networks.

## Limitations
- Accuracy may degrade when agent deviates from optimal trajectory or changes goals mid-execution
- Polynomial approximation may not capture complex robot dynamics in highly constrained environments
- Vector representation may lose discriminative information for domains with extremely large state spaces

## Confidence
- **High**: Computational efficiency claims (7 orders of magnitude speedup) are well-supported by experimental results
- **Medium**: Continuous domain results rely on polynomial approximations that may not generalize to more complex robot dynamics
- **High**: Discrete domain conversion approach shows systematic evaluation against established benchmarks

## Next Checks
1. Test the polynomial trajectory approximation on a continuous domain with significantly more complex dynamics (e.g., quadrotor navigation with obstacle avoidance) to assess accuracy degradation.
2. Evaluate the discrete domain vector conversion on a planning benchmark with 10,000+ predicates to measure scalability limits.
3. Implement a multi-agent scenario where agents switch goals mid-execution to test the method's robustness to dynamic goal changes.