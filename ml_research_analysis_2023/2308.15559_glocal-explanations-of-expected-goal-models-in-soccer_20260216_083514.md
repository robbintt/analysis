---
ver: rpa2
title: Glocal Explanations of Expected Goal Models in Soccer
arxiv_id: '2308.15559'
source_url: https://arxiv.org/abs/2308.15559
tags:
- performance
- explanations
- aggregated
- glocal
- profiles
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces glocal explanations for expected goal (xG)
  models in soccer to enable performance analysis at team and player levels. The authors
  propose using aggregated versions of SHAP values and partial dependence profiles
  to explain black-box models for specific groups of observations, rather than just
  individual shots or all shots.
---

# Glocal Explanations of Expected Goal Models in Soccer

## Quick Facts
- arXiv ID: 2308.15559
- Source URL: https://arxiv.org/abs/2308.15559
- Reference count: 40
- One-line primary result: Aggregated SHAP values and profiles provide team and player-level insights from xG models

## Executive Summary
This paper introduces glocal explanations for expected goal (xG) models in soccer, bridging the gap between local (single shot) and global (all shots) analysis. The authors propose aggregating SHAP values and partial dependence profiles to explain black-box models for specific groups of observations, such as players or teams. Real-data applications demonstrate how these aggregated explanations can analyze scoring potential, identify goalkeepers' blind spots, and compare team performance across seasons, providing valuable insights for data-driven decision-making in soccer analytics.

## Method Summary
The paper uses aggregated SHAP (aSHAP) values and aggregated profiles as glocal-level XAI tools for soccer analytics. The methodology involves computing SHAP values for individual shots using a pre-trained xG model from Bundesliga, EPL, La Liga, Ligue 1, and Serie A data (315,430 shots from 2014-15 to 2020-21), then aggregating these values by group (player or team). Aggregated profiles show how predictions change with feature values across all shots in a group. The approach is implemented in R using the shapviz package from the DALEX XAI ecosystem.

## Key Results
- Aggregated SHAP values reveal scoring potential patterns and identify top contributors for players and teams
- Aggregated profiles show systematic patterns in scoring potential across different distances and angles
- Glocal explanations identify goalkeepers' blind spots and compare team performance changes across seasons

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Aggregating SHAP values enables performance evaluation at team and player levels rather than individual shots
- Mechanism: SHAP values are additive by construction, so they can be summed across multiple observations to capture group-level contributions
- Core assumption: The additivity property of Shapley values holds when aggregating across observations in the same group
- Evidence anchors:
  - [abstract]: "This allows knowledge to be extracted from the expected goal model for a player or team rather than just a single shot"
  - [section 3.1]: "Because the properties of Shapley values, including symmetry, additivity, and local accuracy, are also applicable to predictive models"
- Break condition: When observations within a group have fundamentally different contexts that violate the assumption of similar contribution structures

### Mechanism 2
- Claim: Aggregated profiles reveal scoring potential patterns across different distances and angles
- Mechanism: CP profiles show how predictions change with feature values; averaging them across a group's shots reveals systematic patterns in scoring potential
- Core assumption: The relationship between features and predictions is stable enough within a group to be meaningfully averaged
- Evidence anchors:
  - [section 3.2]: "The value of an AP for model f(.) and feature j is defined as follows gjAP(z) = E−jX[f(X−j|z)]"
  - [section 4.1]: "The aggregated profiles of the players which are calculated regarding the shots of the players during the season"
- Break condition: When individual profiles within the group are too heterogeneous, making the average misleading

### Mechanism 3
- Claim: Glocal explanations bridge the gap between local (single shot) and global (all shots) analysis
- Mechanism: By defining explanations for specific subsets M = {(xi, yi)}m i=1 where m < n, the framework captures group-specific patterns while maintaining the interpretability benefits of local explanations
- Core assumption: There exists meaningful subgroups in the data whose behavior differs from the overall population
- Evidence anchors:
  - [abstract]: "explaining black-box models for a specific group of observations may be more useful in some domains"
  - [section 3]: "We follow the third way, and suggest using the term glocal to describe the behaviour of the model for a given set of observations"
- Break condition: When predefined groups don't correspond to meaningful differences in model behavior

## Foundational Learning

- Concept: Shapley value additivity
  - Why needed here: Enables aggregation of local explanations to group level
  - Quick check question: If ϕj1 = 0.3 and ϕj2 = 0.2 for a single observation, what is the sum of their contributions?

- Concept: Ceteris Paribus profiles
  - Why needed here: Show how model predictions change as a single feature varies while holding others constant
  - Quick check question: What does a CP profile show when the feature value increases from 0 to 10?

- Concept: Expected goal (xG) model interpretation
  - Why needed here: Understanding how xG values relate to actual performance metrics
  - Quick check question: If a player has xG = 2.5 but scores 3 goals, are they overperforming or underperforming?

## Architecture Onboarding

- Component map: Data preprocessing -> xG model training -> SHAP value computation -> Aggregation (by group) -> Visualization (profiles and aSHAP)
- Critical path: The aggregation step is critical - errors here propagate to all downstream analysis
- Design tradeoffs: Computational cost vs. granularity (aggregating across many observations reduces noise but may obscure important individual differences)
- Failure signatures: If aggregated profiles look flat, check whether the group has enough observations or whether the feature is actually important for that group
- First 3 experiments:
  1. Compute SHAP values for a small dataset of 10 shots and verify they sum to the prediction difference from baseline
  2. Create aggregated profiles for a single player with 20+ shots to test the averaging process
  3. Compare aggregated SHAP values for two teams with similar total shots but different success rates to validate the decomposition

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How can glocal explanations be formally defined and categorized within the broader XAI framework?
- Basis in paper: [explicit] The paper introduces the term "glocal explanations" but notes that a formal definition and categorization are currently lacking.
- Why unresolved: The paper proposes using the term "glocal" to describe explanations for a group of observations, but does not provide a formal definition or integrate it into existing XAI frameworks.
- What evidence would resolve it: A rigorous mathematical definition of glocal explanations, their relationship to local and global explanations, and a clear categorization within the XAI taxonomy.

### Open Question 2
- Question: What are the limitations and potential biases of using aggregated SHAP values for performance analysis in soccer?
- Basis in paper: [inferred] The paper demonstrates the use of aggregated SHAP values but does not discuss potential limitations or biases in this approach.
- Why unresolved: The paper focuses on the benefits of aggregated SHAP values but does not address potential issues such as aggregation bias, feature interaction effects, or the impact of data quality on the results.
- What evidence would resolve it: A thorough analysis of the limitations and potential biases of aggregated SHAP values, including empirical studies and comparisons with alternative methods.

### Open Question 3
- Question: How can glocal explanations be extended to other domains beyond soccer analytics?
- Basis in paper: [explicit] The paper focuses on soccer analytics but suggests that glocal explanations could be applied to other domains.
- Why unresolved: The paper does not explore the potential applications of glocal explanations in other fields or discuss the challenges and opportunities of extending this approach.
- What evidence would resolve it: Case studies and empirical evidence demonstrating the effectiveness of glocal explanations in other domains, along with a discussion of the challenges and opportunities for adaptation.

## Limitations
- The assumption that aggregating local explanations across observations maintains interpretability without losing crucial context-specific information
- Potential computational complexity of aggregating SHAP values for large groups
- Uncertainty about how heterogeneous shots within a group might affect the aggregated results

## Confidence
- **High confidence**: The theoretical foundation of using Shapley value additivity for aggregation (Mechanism 1)
- **Medium confidence**: The effectiveness of aggregated profiles for revealing systematic scoring patterns (Mechanism 2)
- **Medium confidence**: The practical utility of glocal explanations for team and player analysis (overall framework)

## Next Checks
1. **Group homogeneity test**: Compare aggregated SHAP values for a player's shots split by shot type (penalties vs. open play) to assess whether aggregation across heterogeneous shots obscures important differences
2. **Sample size sensitivity**: Vary the number of observations in groups (e.g., 5 vs. 50 vs. 500 shots) and measure how aggregated SHAP values and profiles change to identify minimum reliable sample sizes
3. **Cross-season stability**: Compute aggregated SHAP values for the same team across consecutive seasons and test correlation to evaluate whether glocal explanations capture stable player/team characteristics or reflect random variation