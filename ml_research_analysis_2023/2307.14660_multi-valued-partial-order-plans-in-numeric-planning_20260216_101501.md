---
ver: rpa2
title: Multi-Valued Partial Order Plans in Numeric Planning
arxiv_id: '2307.14660'
source_url: https://arxiv.org/abs/2307.14660
tags:
- planning
- action
- will
- problem
- actions
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper addresses numeric planning problems where actions can
  have both Boolean and numeric effects, showing that most such formalisms are undecidable.
  It reformulates numeric planning as a search problem over multi-valued partial order
  plans (MvPOPs), which compactly represent both linear and Boolean repetitions of
  actions.
---

# Multi-Valued Partial Order Plans in Numeric Planning

## Quick Facts
- arXiv ID: 2307.14660
- Source URL: https://arxiv.org/abs/2307.14660
- Reference count: 3
- Primary result: MvPOP representation combined with ILP solving enables finding plans for NP-complete fragments of numeric planning

## Executive Summary
This paper addresses the challenge of numeric planning where actions have both Boolean and numeric effects. The authors show that most such formalisms are undecidable and propose a novel approach using multi-valued partial order plans (MvPOPs) to represent plans compactly. By formulating the planning problem as an ILP feasibility check and using heuristics to minimize Boolean repetitions, they solve an NP-complete fragment of numeric planning. The approach is particularly effective for 0-IAP and 1-IAP problems and includes optimization methods for action costs and soft preconditions.

## Method Summary
The method reformulates numeric planning as a search over MvPOPs, using integer addition action descriptions (IADs) with additive effects and preconditions. The approach incrementally increases the number of ordered copies (Boolean repetitions) for each action while checking feasibility through ILP formulations. A heuristic function identifies minimal sets of actions requiring additional ordered copies, reducing the search space. The MvPOP representation uses matrices to encode both linear and Boolean repetitions, allowing compact representation of multiple linearizations. Optimization is achieved through ILP objectives that minimize action costs and incorporate soft preconditions.

## Key Results
- MvPOP representation effectively reduces search space by compactly encoding multiple action orderings
- ILP-based algorithm successfully solves NP-complete fragments (0-IAP and 1-IAP) of numeric planning
- Heuristics for minimizing Boolean repetitions significantly improve efficiency
- Optimization methods for action costs and soft preconditions are compatible with the MvPOP framework

## Why This Works (Mechanism)

### Mechanism 1
MvPOPs reduce search space by compactly representing both linear and Boolean repetitions of actions using matrices to encode the number of unordered (linear) and ordered (Boolean) copies needed before other actions. This allows representing multiple linearizations in a single structure, avoiding redundant plan exploration. The approach assumes finite ordered copies can be incrementally discovered through search. Break condition: If search for ordered copies becomes infinite or matrix grows too large for efficient ILP solving.

### Mechanism 2
ILP-based algorithm solves numeric planning by checking for violations using incomparable multi-valued relations. The algorithm formulates planning as ILP feasibility problem using violation matrices (IP) to ensure worst-case linearizations respect all preconditions. This transforms undecidable numeric planning into decidable ILP subproblems. Assumes violations can be captured as linear inequalities and incrementally minimized through search. Break condition: If ILP solver fails to find feasible solutions despite incrementing ordered copies, or violation relations become too complex to encode efficiently.

### Mechanism 3
Heuristics reduce complexity by identifying minimal set of actions requiring Boolean repetitions. The algorithm uses relaxed MvPOP solution ignoring violations to find minimal superset of actions needing ordered copies. This prunes search space by avoiding unnecessary increments for non-violating actions. Assumes actions not involved in violations can be represented with single ordered copy, reducing problem to NP-complete fragments. Break condition: If heuristic misidentifies violating actions, leading to incorrect plan generation or infinite search.

## Foundational Learning

- **Integer Addition Planning (IAP)**: Foundation for modeling numeric planning problems with additive numeric effects. Quick check: In IAP, what determines whether an action is applicable to a situation?

- **Multi-valued relations and partial order plans**: Essential for understanding how MvPOPs compactly represent multiple action orderings and repetitions. Quick check: How does an MvPOP differ from a classical partial order plan in representing action repetitions?

- **Violation detection and incomparable occurrences**: Critical for understanding how algorithm identifies when additional ordered copies are needed. Quick check: What makes two occurrences of an action "incomparable" in an MvPOP?

## Architecture Onboarding

- **Component map**: IAP formulation module -> MvPOP representation module -> ILP solver interface -> Heuristic engine -> Search controller
- **Critical path**: 1) Convert problem to IAP 2) Initialize MvPOP with single ordered copy per action 3) Solve relaxed ILP to find violating actions 4) Increment ordered copies for violating actions 5) Repeat until valid plan found or infeasibility proven
- **Design tradeoffs**: Compact representation vs. computational complexity of ILP solving, heuristic accuracy vs. search space size, memory usage for MvPOP matrices vs. plan expressiveness
- **Failure signatures**: ILP solver consistently reports infeasibility despite incrementing ordered copies, violation matrices grow exponentially large, search gets stuck in infinite loop incrementing same actions
- **First 3 experiments**: 1) Implement and test IAP formulation with simple numeric planning problems 2) Verify MvPOP representation correctly encodes action orderings for given linearizations 3) Test violation detection on problems with known violating action pairs

## Open Questions the Paper Calls Out

### Open Question 1
Can the MvPOP representation be extended to efficiently handle cyclic plans without introducing redundancy? The paper discusses drinking water example where cyclic plans require multiple ordered copies, leading to redundant representation. No concrete solution provided for handling cyclic plans within MvPOP framework without redundancy. Would be resolved by proposed algorithm for representing cyclic plans in MvPOP without redundancy with complexity analysis.

### Open Question 2
How does introduction of action concatenation in MvPOP affect decidability of planning problem, and can it be used to sharpen decidability edge between 1-IAP and IAP? Paper mentions action concatenation similar to subroutines which make problems undecidable, suggesting this could make decidability edge sharper. No detailed analysis of how action concatenation affects decidability or formal proof of impact on complexity. Would be resolved by formal proof or complexity analysis showing impact of action concatenation on decidability.

### Open Question 3
Can heuristics proposed for finding minimal number of Boolean repetitions be further improved to handle larger and more complex numeric planning problems efficiently? Paper introduces heuristics like relaxed MvPOP solution and Φ-heuristics but lacks empirical results or comparisons for larger problems. No empirical results or comparisons with other heuristics to demonstrate effectiveness for larger problems. Would be resolved by empirical results comparing proposed heuristics with state-of-the-art on diverse larger problems.

## Limitations
- General numeric planning problem remains undecidable, limiting approach to NP-complete fragments
- ILP scalability concerns as violation matrices could grow exponentially with problem complexity
- Heuristic for identifying violating actions lacks concrete algorithmic specification

## Confidence

- **High Confidence**: Core mechanism of using MvPOPs to compactly represent action repetitions and ILP feasibility checking approach
- **Medium Confidence**: NP-complete fragment identification and heuristic approach for minimizing ordered copies
- **Low Confidence**: Practical scalability of approach and effectiveness of violation detection in complex scenarios

## Next Checks

1. Implement the Φ heuristic function with concrete algorithmic specification and test accuracy in identifying violating actions across diverse problem instances.

2. Conduct scalability experiments to measure ILP solver performance as number of actions and violation relations increases, establishing clear performance bounds.

3. Test approach on problems known to require infinite ordered copies to verify search terminates correctly with infeasibility results.