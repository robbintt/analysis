---
ver: rpa2
title: A Semantic Approach to Decidability in Epistemic Planning (Extended Version)
arxiv_id: '2307.15485'
source_url: https://arxiv.org/abs/2307.15485
tags:
- epistemic
- logic
- theorem
- lemma
- planning
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper investigates decidability in epistemic planning under
  the logic C-S5n, which adds a commutativity axiom to S5n to control unbounded higher-order
  reasoning. This axiom ensures that states are bounded in size, leading to a finite
  search space and decidability of the plan existence problem.
---

# A Semantic Approach to Decidability in Epistemic Planning (Extended Version)

## Quick Facts
- arXiv ID: 2307.15485
- Source URL: https://arxiv.org/abs/2307.15485
- Reference count: 40
- One-line primary result: The plan existence problem is decidable in C-S5n (S5n + commutativity) but becomes undecidable for certain generalizations of commutativity.

## Executive Summary
This paper investigates decidability in epistemic planning by introducing a commutativity axiom C to the logic S5n, which controls unbounded higher-order reasoning. The key insight is that commutativity ensures states are bounded in size, leading to a finite search space and decidability of plan existence. The authors also study two generalizations of commutativity (b-commutativity and weak commutativity) and show that decidability is preserved for certain parameters but lost for others. Finally, they prove that two well-known epistemic planning systems (mA* and the framework by Kominis and Geffner) fall within their logic, establishing their decidability.

## Method Summary
The authors use a semantic approach to decidability in epistemic planning, focusing on the logic C-S5n (S5n augmented with the commutativity axiom C). They prove that commutativity ensures a finite search space by bounding the size of epistemic states, enabling exhaustive search. The paper also studies two generalizations of commutativity (b-commutativity and weak commutativity) and analyzes their impact on decidability. The decidability results are established through semantic arguments about state space boundedness and bisimulation minimality, rather than syntactic proof-theoretic methods.

## Key Results
- Adding commutativity axiom C to S5n makes the plan existence problem decidable by bounding the state space
- b-commutativity preserves decidability for n=2 and any b>1, and for any n>1 with 1<ℓ≤n in weak commutativity
- The plan existence problem becomes undecidable for n>2 and b>1 in b-commutativity, and for ℓ=1 in weak commutativity
- Two well-known epistemic planning systems (mA* and Kominis & Geffner) fall within the decidable C-S5n framework

## Why This Works (Mechanism)

### Mechanism 1
- Claim: The commutativity axiom C controls unbounded higher-order reasoning by enforcing that the order of nested knowledge operators does not matter.
- Mechanism: By adding axiom C to S5n, the system limits the growth of possible worlds because higher-order knowledge chains collapse into equivalent forms, bounding the state space.
- Core assumption: Agents' reasoning about others' knowledge is symmetric in cooperative domains where all actions are observable.
- Evidence anchors:
  - [abstract] "we augment the logic of knowledge S5n and with an interaction axiom called (knowledge) commutativity, which controls the ability of agents to unboundedly reason on the knowledge of other agents."
  - [section 3] "The commutativity axiom is well-known in many-dimensionalmodal logics where it is part of the axiomatisation of the product of two modal logics [11]."

### Mechanism 2
- Claim: Adding commutativity ensures a finite search space by proving epistemic states have bounded size.
- Mechanism: Corollary 1 shows that in C-S5n any pair of worlds reachable in arbitrary steps are connected by a path of length at most n. Lemma 4 then bounds the number of worlds in a state by n and |P|, making exhaustive search possible.
- Core assumption: Epistemic states are bisimulation minimal, and the product update preserves the commutativity property sufficiently for boundedness.
- Evidence anchors:
  - [section 3] "we prove that our framework admits a finitary non-fixpoint characterization of common knowledge, which is of independent interest."
  - [section 4] "we can perform a breadth-first search on the search space that would only visit a finite number of epistemic states (up to bisimulation contraction)."

### Mechanism 3
- Claim: Generalizing commutativity to b-commutativity and weak commutativity preserves decidability for certain parameters.
- Mechanism: Theorems 4 and 6 show that for n=2 any b>1 and for any n>1 with 1<ℓ≤n, the plan existence problem remains decidable because the boundedness arguments adapt to these weaker axioms.
- Core assumption: The generalized axioms still enforce enough structure to bound reachable worlds, though less strictly than full commutativity.
- Evidence anchors:
  - [section 4.1] "we show that the plan existence problem remains decidable for any 1<ℓ≤n" and "we show that the plan existence problem remains decidable in the presence of two agents (n=2), for any b>1."

## Foundational Learning

- Concept: Dynamic Epistemic Logic (DEL) product update
  - Why needed here: The plan existence problem relies on iteratively applying actions via product update; understanding how worlds and accessibility relations are updated is critical for reasoning about state size and commutativity preservation.
  - Quick check question: What does the product update do to the set of designated worlds after applying an action?

- Concept: Bisimulation and minimal models
  - Why needed here: The boundedness proofs assume states are bisimulation minimal; without this, the claimed bounds on world count do not hold.
  - Quick check question: Why does bisimulation minimality ensure that two worlds are equivalent iff they are n+1-bisimilar in C-S5n?

- Concept: Axiomatization of modal logics (S5n, KD45n)
  - Why needed here: The semantic approach hinges on which axioms are enforced; knowing how axioms translate to frame properties helps understand why commutativity yields boundedness.
  - Quick check question: How does the commutativity axiom correspond to a frame property, and what does that property enforce?

## Architecture Onboarding

- Component map: Epistemic models -> Event models -> Product update -> Logic layer (S5n + commutativity variants) -> Decidability checker (bounded BFS search)
- Critical path:
  1. Parse planning task (initial state, action set, goal)
  2. Validate that initial state and actions conform to chosen logic (S5n + commutativity variant)
  3. Iteratively apply applicable actions via product update
  4. After each update, contract state by bisimulation and check commutativity property
  5. Stop when goal is reached or search space exhausted
- Design tradeoffs:
  - Full commutativity (C) gives strongest boundedness but may be too restrictive for some domains
  - Weak commutativity (wCℓ) offers more flexibility at the cost of larger (but still bounded) state spaces
  - B-commutativity is only safe for two agents; using it with more agents leads to undecidability
- Failure signatures:
  - Infinite BFS loop: likely commutativity property not enforced after updates
  - Incorrect goal detection: goal formula not evaluated correctly in updated states
  - State explosion: logic variant chosen is too weak for boundedness
- First 3 experiments:
  1. Verify that the coordinated attack example yields "no" in C-S5n by running BFS and confirming the second state violates C
  2. Test b-commutativity with n=2 and b=2 on a simple two-agent planning task to confirm decidability holds
  3. Run weak commutativity with ℓ=2 on a three-agent task and measure state space size versus full commutativity

## Open Questions the Paper Calls Out

### Open Question 1
- Question: Is the plan existence problem decidable for Cb-S5n with 2 agents and b=1 (i.e., the commutativity axiom C)?
- Basis in paper: [explicit] The paper proves decidability for Cb-S5n with 2 agents and any b>1, but does not explicitly address the case b=1.
- Why unresolved: The proof for b>1 relies on specific properties of b-commutativity that may not hold for b=1. The paper does not provide a direct proof or counterexample for this case.
- What evidence would resolve it: A proof that the plan existence problem for C-S5n (i.e., b=1) with 2 agents is decidable, or a counterexample showing it is undecidable.

### Open Question 2
- Question: Can the semantic approach be extended to handle belief logics like KD45n, where the axioms are not necessarily preserved by the product update?
- Basis in paper: [explicit] The paper discusses the challenge of preserving axioms like D in KD45n after the product update, but does not provide a solution for belief logics.
- Why unresolved: The preservation of axioms in belief logics is a complex problem that requires sophisticated techniques beyond the rollback-style approach used in the paper.
- What evidence would resolve it: A technique for handling the preservation of axioms in belief logics during planning, or a proof that such preservation is impossible in general.

### Open Question 3
- Question: What is the computational complexity of the plan existence problem in C-S5n?
- Basis in paper: [inferred] The paper establishes decidability for C-S5n but does not analyze the complexity of the decision problem.
- Why unresolved: Determining the exact complexity class (e.g., PSPACE, EXPTIME) requires a detailed analysis of the search space and the reasoning power of the logic, which is not provided in the paper.
- What evidence would resolve it: A proof that the plan existence problem in C-S5n is in a specific complexity class (e.g., PSPACE-complete), or a lower bound showing it is at least as hard as a known hard problem.

## Limitations
- The undecidability proofs for generalized commutativity variants rely on complex reductions from Minsky two-counter machines with incomplete technical details
- The approach is limited to epistemic planning with knowledge operators and may not extend to belief logics like KD45n
- The computational complexity of the plan existence problem in C-S5n remains unknown

## Confidence
- High confidence: The boundedness arguments for C-S5n and the corresponding decidability result (Theorem 3)
- Medium confidence: The generalizations to b-commutativity and weak commutativity for the decidable cases (Theorems 4 and 6)
- Low confidence: The undecidability results for n>2 with b>1 in b-commutativity (Theorem 5) and the application to mA* and Kominis & Geffner frameworks

## Next Checks
1. Implement a bounded BFS search algorithm for C-S5n and verify it terminates on all test cases while correctly identifying plan existence
2. Construct explicit two-agent examples demonstrating b-commutativity with b=2 where plan existence is decidable but would be undecidable under full commutativity
3. Formalize the frame correspondence of commutativity and verify that the product update preserves the required frame properties in all cases