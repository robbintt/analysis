---
ver: rpa2
title: Dual Box Embeddings for the Description Logic EL++
arxiv_id: '2301.11118'
source_url: https://arxiv.org/abs/2301.11118
tags:
- box2el
- embeddings
- embedding
- axioms
- prediction
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper proposes a novel ontology embedding method, Box2EL,
  for the Description Logic EL++. Unlike previous methods that use single translation
  vectors to model roles, Box2EL represents both concepts and roles as boxes (axis-aligned
  hyperrectangles) and uses bump vectors to dynamically model the relationship between
  related concepts.
---

# Dual Box Embeddings for the Description Logic EL++

## Quick Facts
- arXiv ID: 2301.11118
- Source URL: https://arxiv.org/abs/2301.11118
- Reference count: 17
- This paper proposes Box2EL, a novel ontology embedding method for EL++ that achieves state-of-the-art results in subsumption prediction, protein-protein interaction prediction, and deductive reasoning tasks.

## Executive Summary
This paper introduces Box2EL, a novel ontology embedding method for the Description Logic EL++. Unlike previous methods that use single translation vectors to model roles, Box2EL represents both concepts and roles as boxes (axis-aligned hyperrectangles) and uses bump vectors to dynamically model the relationship between related concepts. The method theoretically proves its soundness and achieves state-of-the-art results in various tasks across different real-life ontologies, demonstrating significant improvements over previous methods like ELEm, EmEL++, and ELBE.

## Method Summary
Box2EL is an ontology embedding method for EL++ that represents concepts and roles as axis-aligned boxes and uses bump vectors to dynamically model relationships between related concepts. The method transforms ABox axioms into semantically equivalent TBox axioms, normalizes the ontology into normal forms, and trains using Adam optimizer with combined loss functions. Box2EL theoretically proves its soundness and achieves state-of-the-art results in subsumption prediction, protein-protein interaction prediction, and deductive reasoning tasks across various real-life ontologies.

## Key Results
- Box2EL achieves median rank improvements of over 60% on the GALEN ontology
- Box2EL achieves median rank improvements of over 80% on the Gene Ontology
- Box2EL achieves median rank improvements of over 40% on the Anatomy ontology

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Box2EL represents both concepts and roles as boxes to overcome one-to-many, many-to-one, and many-to-many relation limitations.
- Mechanism: Instead of using a single translation vector per role (as in TransE), Box2EL assigns a head box and tail box to each role, and uses bump vectors to dynamically model the relationship between related concepts.
- Core assumption: The geometric space of axis-aligned hyperrectangles can capture the logical semantics of EL++ relations better than point or ball representations.
- Evidence anchors:
  - [abstract]: "Unlike previous methods that use single translation vectors to model roles, Box2EL represents both concepts and roles as boxes... and uses bump vectors to dynamically model the relationship between related concepts."
  - [section 2.3]: "While most existing EL ++ embedding models represent roles... via simple translations... we instead follow the idea of the BoxE KGE model... That is, we associate every role... with a head box and a tail box."
- Break condition: If the bump vectors cannot correctly model the association between concepts, the one-to-many relation expressiveness is lost.

### Mechanism 2
- Claim: The bump vector mechanism dynamically adjusts concept embeddings to model co-occurring concepts in axioms.
- Mechanism: For a subsumption C ⊑ ∃r.D, Box2EL checks if Box(C) + Bump(D) ⊆ Head(r) and Box(D) + Bump(C) ⊆ Tail(r), where + denotes translation along the bump vector.
- Core assumption: Bump vectors can encode the necessary relational semantics without breaking the geometric closure properties.
- Evidence anchors:
  - [section 3.1]: "we introduce bump vectors Bump (C) for every concept C, which model the interactions between concepts and dynamically move the position of the embeddings of related concepts."
  - [section 3.2]: "We introduce another hyperparameter, the negative sampling distance δ >0, and define the loss for a negative training example C̸⊑∃r.D as L̸⊑(C,r,D ) = (δ−µ(Box(C) + Bump(D), Head(r)))2 + (δ−µ(Box(D) + Bump(C), Tail(r)))2."
- Break condition: If bump vectors are set to zero or regularized away too strongly, the model loses its ability to handle one-to-many relations.

### Mechanism 3
- Claim: The axis-aligned box representation ensures closure under intersection, enabling faithful modeling of EL++ axioms.
- Mechanism: Concepts are represented as boxes with lower and upper corner vectors; intersection of boxes is itself a box, allowing exact modeling of C⊓D⊑E.
- Core assumption: The intersection of two boxes is always representable as another box, preserving logical structure.
- Evidence anchors:
  - [section 2.3]: "To ensure the closure of concept representations under intersection, BoxEL [Xiong et al., 2022] and ELBE [Peng et al., 2022 ] extend ELEm by representing concepts as axis-parallel boxes..."
  - [section 3.2]: "The intersection of Box(C) and Box(D) is itself a box with lower corner max{lC, lD} and upper corner min{uC, uD}."
- Break condition: If concept boxes are allowed to be non-axis-aligned or degenerate, intersection may no longer be representable as a box.

## Foundational Learning

- Concept: Description Logic EL++ and its semantics
  - Why needed here: Understanding the formal semantics of EL++ is essential to see why Box2EL's geometric representation preserves logical structure.
  - Quick check question: What is the difference between an atomic concept and a complex concept in EL++?

- Concept: Knowledge Graph Embeddings and their limitations
  - Why needed here: Knowing why traditional KGEs like TransE fail on one-to-many relations helps explain the need for Box2EL's role representation.
  - Quick check question: How does TransE model a triple (h, r, t), and why does this fail for many-to-many relations?

- Concept: Box embeddings and geometric interpretation
  - Why needed here: Understanding how boxes and bump vectors work geometrically is key to grasping Box2EL's expressiveness.
  - Quick check question: In Box2EL, what does it mean for one box to be contained within another box?

## Architecture Onboarding

- Component map:
  - Concept embedding: each concept C → (lC, uC) defining a box
  - Role embedding: each role r → (Head(r), Tail(r)) boxes
  - Bump vector: each concept C → Bump(C) vector
  - Loss functions: one per normal form (NF1-NF7)
  - Negative sampling: for NF3 axioms only
  - Regularization: on bump vectors

- Critical path:
  1. Transform ABox axioms into TBox axioms using nominals
  2. Normalize ontology into normal forms
  3. Initialize embeddings randomly
  4. Train using Adam optimizer with combined loss
  5. Evaluate on test set using ranking metrics

- Design tradeoffs:
  - Box representation vs. ball representation: Boxes ensure closure under intersection but are more complex to compute
  - Bump vectors vs. fixed translations: Bump vectors enable dynamic modeling but require careful regularization
  - Negative sampling frequency: More samples improve robustness but increase training time

- Failure signatures:
  - Loss doesn't decrease: Check learning rate, gradient clipping, or box dimension constraints
  - Poor performance on NF3/NF4: Bump vectors may be too small or regularized away
  - Exploding box sizes: Check margin γ and regularization strength

- First 3 experiments:
  1. Train on a tiny ontology (e.g., 10 concepts) with no negative sampling to verify loss decreases
  2. Test box containment logic manually on a few axioms to ensure geometric soundness
  3. Vary γ and λ to observe their effect on box sizes and bump vector magnitudes

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How can Box2EL be extended to support the full range of EL++ axioms, such as role chains and role inclusions?
- Basis in paper: explicit - The paper mentions that Box2EL currently does not support all EL++ axioms and suggests future work could extend it to cover the full range.
- Why unresolved: The paper does not provide a detailed methodology for extending Box2EL to handle role chains and role inclusions.
- What evidence would resolve it: A proposed extension of Box2EL that includes algorithms or models for representing role chains and role inclusions, along with experimental results demonstrating improved performance on these tasks.

### Open Question 2
- Question: How can Box2EL be adapted to support more expressive Description Logics, such as ALC or SROIQ?
- Basis in paper: explicit - The paper suggests future work could apply Box2EL to more expressive DLs like ALC or SROIQ.
- Why unresolved: The paper does not provide a detailed methodology for adapting Box2EL to these more expressive DLs.
- What evidence would resolve it: A proposed adaptation of Box2EL that includes algorithms or models for handling the additional constructs in ALC or SROIQ, along with experimental results demonstrating improved performance on these DLs.

### Open Question 3
- Question: How can Box2EL be applied to other life science applications, such as gene-disease association prediction?
- Basis in paper: explicit - The paper suggests future work could apply Box2EL to other life science applications.
- Why unresolved: The paper does not provide a detailed methodology for applying Box2EL to gene-disease association prediction or other specific life science applications.
- What evidence would resolve it: A proposed application of Box2EL to gene-disease association prediction, along with experimental results demonstrating improved performance on this task compared to existing methods.

## Limitations
- The theoretical soundness proof relies on specific assumptions about box dimensions and bump vector regularization that may not hold in practice
- The evaluation focuses primarily on biomedical ontologies, raising questions about generalizability to other domains
- The comparison doesn't account for computational complexity differences, and the training procedures for baseline methods aren't fully specified

## Confidence
- Claim that Box2EL "overcomes one-to-many relation limitations": Medium
- Claim of superior performance over state-of-the-art methods (ELEm, EmEL++, ELBE): High for subsumption prediction; Medium for protein-protein interaction prediction

## Next Checks
1. **Geometric Soundness Verification**: Manually verify box containment relationships on a small ontology (10-15 concepts) to ensure the theoretical soundness claims hold empirically. Test edge cases where boxes are tangent or overlapping.

2. **Generalization Test**: Apply Box2EL to a non-biomedical ontology (e.g., DBpedia or YAGO) to assess performance beyond the evaluated domains. Compare against baseline methods using identical hyperparameters.

3. **Ablation Study**: Systematically disable bump vectors and alternative box representations to quantify their individual contributions to performance gains. Measure the impact on one-to-many relation modeling specifically.