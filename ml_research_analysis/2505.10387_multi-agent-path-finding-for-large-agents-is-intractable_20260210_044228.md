---
ver: rpa2
title: Multi-Agent Path Finding For Large Agents Is Intractable
arxiv_id: '2505.10387'
source_url: https://arxiv.org/abs/2505.10387
tags:
- agents
- solution
- problem
- mapf
- vertex
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper addresses the computational complexity of multi-agent
  path finding (MAPF) for large agents (LA-MAPF), where agents have non-negligible
  sizes and occupy physical space. The core method is a reduction from the 3-SAT problem
  to LA-MAPF, constructing a graph with specialized gadgets representing variables,
  clauses, and blocking mechanisms.
---

# Multi-Agent Path Finding For Large Agents Is Intractable

## Quick Facts
- arXiv ID: 2505.10387
- Source URL: https://arxiv.org/abs/2505.10387
- Authors: Artem Agafonov; Konstantin Yakovlev
- Reference count: 16
- Primary result: LA-MAPF is NP-hard

## Executive Summary
This paper proves that Multi-Agent Path Finding for Large Agents (LA-MAPF) is NP-hard by constructing a polynomial-time reduction from the 3-SAT problem. The reduction encodes logical variables, clauses, and their relationships as geometric constraints between disk-shaped agents moving on a graph embedded in Euclidean space. The key insight is that spatial conflicts between agents (when their distance is less than twice their radius) correspond to logical conflicts in the 3-SAT formula, making valid LA-MAPF solutions equivalent to satisfying assignments.

## Method Summary
The method involves a reduction from 3-SAT to LA-MAPF that constructs specialized graph gadgets: variable gadgets where agent position encodes True/False values, clause gadgets that must be traversed by satisfying literals, and blocking gadgets that enforce temporal ordering. The reduction takes a 3-CNF formula with n variables and m clauses and produces a graph with 5n + 8m + 1 vertices and 2n + m + 1 agents. The proof establishes correctness through four lemmas showing that agent conflicts enforce the logical constraints of 3-SAT, and provides algorithms to convert between 3-SAT solutions and LA-MAPF solutions in polynomial time.

## Key Results
- LA-MAPF is NP-hard, proven via reduction from 3-SAT
- No polynomial-time algorithm exists for solving LA-MAPF unless P=NP
- The reduction works for disk-shaped agents on graphs embedded in Euclidean space with radius r=m
- Conflicts include both vertex conflicts and edge conflicts (agents within 2r distance)

## Why This Works (Mechanism)

### Mechanism 1: Graph-based Problem Encoding
The reduction encodes any 3-SAT instance as an LA-MAPF problem by constructing three gadget types: variable gadgets (n copies) where agent position at Bi/Ci encodes True/False, clause gadgets (m copies) that must route through F vertices corresponding to satisfying literals, and blocking gadgets that enforce temporal ordering. Spatial proximity constraints (agents within 2r distance conflict) encode logical dependencies.

### Mechanism 2: Spatial Conflict as Logical Constraint Enforcement
Geometric overlap constraints mechanically enforce clause satisfaction requirements. Each clause agent must traverse through one of three F-zone vertices to reach its goal. A c-agent at F_xi^j conflicts with v-agent at Ci (xi=False), and at F_¬xi^j conflicts with v-agent at Bi (xi=True). Thus, only paths through vertices corresponding to satisfied literals are conflict-free.

### Mechanism 3: Blocking-mediated Temporal Decomposition
Blocking agents force variable commitments before clause verification. n+1 blocking agents occupy zone J initially, then move to zones K and L. Any b-agent at Li conflicts with v-agent at Ai, preventing v-agents from returning to A vertices while clause agents traverse. This locks variable assignments during clause verification phase.

## Foundational Learning

- **Computational complexity and NP-completeness**: Why needed - the paper hinges on understanding why polynomial reduction from 3-SAT proves NP-hardness. Quick check - Can you explain why a polynomial-time reduction from a known NP-complete problem to LA-MAPF proves LA-MAPF is NP-hard?

- **Graph embeddings in Euclidean space**: Why needed - LA-MAPF differs from classical MAPF because vertices have coordinates and agents have spatial extent, creating edge conflicts not present in abstract graphs. Quick check - In classical MAPF, two agents at adjacent vertices can both traverse their respective edges simultaneously. Why might this fail in LA-MAPF?

- **Conflict-Based Search (CBS) and its limitations**: Why needed - the paper motivates LA-MAPF study by noting CBS adaptations exist but lack completeness guarantees. Quick check - Why does the NP-hardness result imply that no complete polynomial-time LA-MAPF algorithm can exist (assuming P≠NP)?

## Architecture Onboarding

- **Component map**: Parser → 3-CNF formula extraction → Gadget generator → constructs variable/clause/blocking subgraphs with computed coordinates → Agent initializer → sets start/goal positions and radius r=m → Conflict checker → validates distance < 2r for all agent pairs → Solution verifier → runs Algorithms 1/2 to confirm equivalence

- **Critical path**: Understanding the reduction requires tracing: variable assignment → v-agent position → spatial conflict at F-vertices → clause satisfaction. The blocking agent deployment (lines 9-13 of Algorithm 1) is the synchronization point ensuring variable positions are fixed before clause traversal begins.

- **Design tradeoffs**: The reduction uses radius r=m which grows with problem size - this is a proof artifact, not practical guidance. Real LA-MAPF solvers would use fixed agent sizes but face the same fundamental intractability. The single-move assumption simplifies analysis but Section 7 notes it may not hold for all simultaneous-move scenarios.

- **Failure signatures**:
  - If clause agents fail to reach goals despite valid 3-SAT solutions, check distance calculations between F-vertices and B/C zones
  - If variable agents can switch positions during clause verification, blocking gadget placement is incorrect
  - If reduction produces unsolvable instances from satisfiable formulas, verify coordinate calculations preserve Lemma 1/2 distance constraints

- **First 3 experiments**:
  1. Implement the reduction for the provided example (x₁ ∨ ¬x₂ ∨ x₃) and trace Algorithm 1 execution step-by-step
  2. Generate random 3-SAT instances (n=3-5 variables, m=2-4 clauses), apply the reduction, and verify satisfiable instances produce valid LA-MAPF solutions
  3. Test boundary conditions: try r < m (should violate Lemma 1), try simultaneous multi-agent moves on the constructed graph

## Open Questions the Paper Calls Out

### Open Question 1
Does LA-MAPF belong to the complexity class NP, making it NP-complete? The authors state, "we still do not know whether it belongs to NP. If one shows that LA-MAPF is in NP, this would also imply that it is NP-complete." This is unresolved because while the proof establishes NP-hardness via reduction from 3-SAT, verifying a solution in polynomial time requires proving that a polynomial-length solution always exists for solvable instances.

### Open Question 2
Is LA-MAPF tractable on restricted graph topologies such as planar graphs or grids? The authors suggest, "A prosperous direction of future research is to focus on specific graph embeddings and layouts that may make the problem simpler... Examples of such graphs are planar graphs... or grids." This is unresolved because the paper's reduction constructs a generic graph that does not adhere to planar or grid constraints.

### Open Question 3
What is the computational complexity of LA-MAPF when joint simultaneous moves (e.g., "closed-chain" rotations) are allowed and cannot be decomposed into single-agent moves? Section 7 identifies "Estimating LA-MAPF tractability in this case is a possible direction of future work" regarding simultaneous moves that cannot be decomposed. This is unresolved because the current reduction relies on transitions being decomposable into atomic single-agent moves.

## Limitations
- The reduction uses radius r=m, which grows with problem size - a proof artifact rather than practical guidance
- The single-agent-move assumption may not hold for all simultaneous-move scenarios
- The reduction's spatial encoding technique is highly specialized and may not generalize to other MAPF variants

## Confidence
- **High confidence**: The NP-hardness proof structure and gadget design are sound (Lemmas 1-4, Algorithms 1-2 correctness)
- **Medium confidence**: The single-agent-move decomposition in Section 7 is sketched but not fully proven for all cases
- **Medium confidence**: Coordinate calculations are explicit but verification requires careful arithmetic

## Next Checks
1. Trace execution on the provided example (x₁ ∨ ¬x₂ ∨ x₃) to confirm Algorithms 1/2 produce equivalent solutions
2. Test distance calculations for Lemma 1 (distance(Ci, F_xi^j) = j + m - 1 < 2r) with multiple variable/clause counts
3. Verify blocking mechanism by checking that v-agents cannot return to A vertices during clause verification phase (distance(Ai, Li) = 1 < 2r)