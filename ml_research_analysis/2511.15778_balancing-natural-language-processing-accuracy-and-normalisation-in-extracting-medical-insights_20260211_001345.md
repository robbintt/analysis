---
ver: rpa2
title: Balancing Natural Language Processing Accuracy and Normalisation in Extracting
  Medical Insights
arxiv_id: '2511.15778'
source_url: https://arxiv.org/abs/2511.15778
tags:
- information
- doctor
- language
- rule-based
- llms
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This study compares rule-based methods and large language models
  (LLMs) for extracting structured clinical information from unstructured Polish electronic
  health records. Rule-based methods achieved superior accuracy in extracting age
  and sex, with precision above 0.95 and mean absolute error below 0.15 years, while
  LLMs excelled at drug name recognition, scoring 0.858 versus 0.843 for rule-based
  approaches.
---

# Balancing Natural Language Processing Accuracy and Normalisation in Extracting Medical Insights

## Quick Facts
- arXiv ID: 2511.15778
- Source URL: https://arxiv.org/abs/2511.15778
- Reference count: 0
- Primary result: Rule-based methods achieved superior accuracy in extracting age and sex from Polish EHRs, while LLMs excelled at drug name recognition

## Executive Summary
This study compares rule-based methods and large language models (LLMs) for extracting structured clinical information from unstructured Polish electronic health records. The authors evaluate age, sex, drug names, and skin lesion extraction using SpaCy-based rule-based systems and Llama-3-8B-it/Gemma-7b-it LLMs on 1,679 pediatric allergy patient records. Rule-based methods achieved superior accuracy for demographic extraction (age precision >0.95, sex accuracy >0.98), while LLMs demonstrated better performance for drug name recognition (0.858 vs 0.843 for rule-based). Translation from Polish to English slightly improved drug extraction but reduced sex identification accuracy due to loss of grammatical gender cues.

## Method Summary
The study extracts patient demographics (age, sex), clinical findings (skin lesions), and medications from unstructured Polish pediatric EHR epicrisis documents. Rule-based methods use SpaCy Matcher with Polish models for age/sex extraction (first 6 words), fuzzy matching with fuzzywuzzy token_set_ratio threshold ≥80 for drugs against a Polish drug database, and keyword matching for skin lesions. LLMs (Llama-3-8B-it, Gemma-7b-it) use structured key-value prompts for extraction. The authors compare performance across three physicians' records, testing both native Polish text and Llama CPP-translated English versions.

## Key Results
- Rule-based methods achieved age extraction precision above 0.95 with mean absolute error below 0.15 years
- Sex identification accuracy exceeded 0.98 for rule-based methods versus 0.92-0.94 for LLMs
- LLMs outperformed rule-based methods for drug name recognition (0.858 vs 0.843 average score)
- Translation from Polish to English improved drug extraction (+3-4%) but degraded sex identification (-4-6%) due to loss of grammatical gender cues

## Why This Works (Mechanism)

### Mechanism 1
Rule-based methods with morphological analysis achieve superior accuracy for demographic extraction in morphologically rich languages like Polish, where grammatical gender is encoded in word forms. SpaCy Matcher exploits Polish's grammatical gender system (masculine/feminine/neuter inflections on nouns, adjectives, verbs) to infer patient sex without explicit mention. For age, regex-based patterns capture medical-specific formats like "5 4/12" (5 years, 4 months).

### Mechanism 2
LLMs outperform rule-based methods for drug name recognition when entity vocabularies are large and variable, as they leverage semantic knowledge without requiring exhaustive dictionaries. LLMs use pre-trained medical knowledge to recognize drug names contextually, avoiding the need for handcrafted databases with thousands of entries and fuzzy matching thresholds.

### Mechanism 3
Translation from morphologically rich languages to English creates asymmetric information loss, preserving some semantic content (drug names) while eliminating grammatical signals (gender markers). Polish-to-English translation simplifies inflected drug names to canonical forms but neutralizes grammatical gender markers ("pacjent"/"pacjentka" → "patient", "był"/"była" → "was").

## Foundational Learning

- Concept: **Morphological richness and grammatical gender**
  - Why needed here: Polish has complex inflection based on grammatical gender (masculine/feminine/neuter), affecting nouns, adjectives, pronouns, and verbs. This enables sex inference without explicit mention—but translation eliminates this signal.
  - Quick check question: Given the Polish sentence fragment "Pacjent był przyjęty" (patient was admitted), can you identify the patient's sex? What about "Pacjentka była przyjęta"?

- Concept: **Fuzzy string matching with Levenshtein distance**
  - Why needed here: Rule-based drug extraction uses token_set_ratio from fuzzywuzzy (modified Levenshtein distance) with an 80% threshold to handle typos and word variations in clinical text.
  - Quick check question: Why would exact string matching fail for drug names in clinical notes? What threshold would you use to balance false positives and false negatives?

- Concept: **Prompt engineering for structured extraction**
  - Why needed here: LLM extraction used a specific prompt format: `< key1 = value1 | key2 = value2 | ... >` with instructions to return "key=None" for missing information. Prompt structure directly affects extraction quality.
  - Quick check question: If an LLM returns a hallucinated drug name not in the source text, is this a prompt design issue or a model limitation? How would you modify the prompt to reduce hallucinations?

## Architecture Onboarding

- Component map:
  [EHR Data Source] → [Preprocessing: Anonymization] → [Branch A: Rule-Based Pipeline] → SpaCy Matcher (demographics) → Regex patterns + morphological analysis → Fuzzy Matcher (drugs/lesions) → Drug database + Levenshtein threshold → [Branch B: LLM Pipeline] → Llama-3-8B-it / Gemma-7b-it → Optional: Translation layer (Polish→English via Llama CPP) → [Output: Structured tabular format]

- Critical path:
  1. Text normalization assessment: Analyze variability across providers (word count, sentence structure) before selecting approach
  2. Demographic extraction: Use rule-based for age/sex (proven superior)
  3. Drug extraction: Use LLM for flexibility or rule-based for consistency
  4. If using LLM on non-English text: Evaluate whether translation helps or hurts for specific extraction targets

- Design tradeoffs:
  - **Accuracy vs. compute cost**: Rule-based methods achieve higher demographic accuracy with minimal compute; LLMs require GPU resources but reduce manual dictionary maintenance
  - **Precision vs. adaptability**: Rule-based fails when physicians introduce new terminology; LLMs adapt but hallucinate
  - **Monolingual vs. translated**: Translation improves drug recognition but degrades sex extraction in grammatical gender languages

- Failure signatures:
  - **Age extraction failure (LLM)**: Returns rounded years instead of "X Y/12" format—model doesn't recognize medical notation
  - **Sex extraction failure (translated)**: Accuracy drops ~4-6% due to loss of grammatical gender in translation
  - **Drug extraction failure (rule-based)**: New drug names or synonyms not in database are missed entirely
  - **Hallucination (LLM)**: Extracting non-existent drugs or inferring sex from age ("13-year-old" → female)

- First 3 experiments:
  1. **Baseline comparison**: Run rule-based and LLM pipelines on a held-out sample (100-200 records) for each extraction target (age, sex, drugs, lesions). Measure accuracy, MAE (for age), and Adjusted Accuracy (for drugs). Expected: rule-based wins on demographics, LLM wins or ties on drugs.
  2. **Translation ablation**: For LLM pipeline, compare extraction performance on original Polish vs. English-translated text for each target. Document where translation helps vs. hurts. Expected: +3-4% on drugs, -4-6% on sex.
  3. **Hybrid assembly test**: Combine rule-based demographic extraction with LLM drug extraction. Measure end-to-end accuracy and computational cost. Compare against pure rule-based and pure LLM baselines. Expected: best overall accuracy with moderate compute overhead.

## Open Questions the Paper Calls Out

### Open Question 1
How can hybrid architectures effectively integrate rule-based precision with LLM adaptability to maximize extraction accuracy? The conclusion states the authors aim to explore hybrid models to "increase the accuracy and reliability of information extraction from unstructured medical data." This remains unresolved as the current study evaluated rule-based and LLM methods independently without constructing a combined architecture.

### Open Question 2
Can translation-induced information loss, specifically the loss of grammatical gender cues for sex identification, be mitigated in multilingual NLP pipelines? The authors identify "mitigating information loss during medical text translation" as a focus for future research to improve information retrieval. This is unresolved because while the study found translation improved drug extraction but reduced sex accuracy by removing gendered word endings, no mitigation strategies were tested.

### Open Question 3
Do the comparative trade-offs between low-compute rule-based methods and LLMs hold true across diverse medical datasets and clinical environments? The authors note that "expanding the scope to include more diverse medical datasets will enable broader validation of these methods' capabilities in varied clinical environments." This is unresolved because findings are derived from a specific dataset of 1,679 pediatric allergy patients from a single hospital, which may not represent broader clinical documentation styles.

### Open Question 4
Is domain-specific fine-tuning of LLMs a feasible solution for correcting age extraction errors (e.g., interpreting "5 4/12" as 5 years, 4 months) given resource constraints? The discussion suggests that fine-tuning could solve LLM misinterpretation of medical age formats but notes that "significant funding" is a barrier for hospitals. This remains unresolved because the authors identified the potential of fine-tuning but could not evaluate it due to high computational costs and lack of resources typical of the target setting.

## Limitations

- The study is limited to 1,679 records from three physicians at a single Polish rehabilitation hospital, restricting generalizability to other clinical settings and languages
- Rule-based methods rely on strict structural assumptions (demographics in first sentence/first six words) that may not hold in other clinical environments
- LLM performance is sensitive to prompt engineering details not fully specified, and hallucination risks remain a concern despite modest performance advantages
- Translation effects are underexplored with limited evidence on whether asymmetric effects generalize beyond Polish-to-English scenarios

## Confidence

- **Rule-based demographic extraction superiority (age/sex)**: High confidence - Multiple performance metrics consistently reported across physicians with clear mechanistic explanation
- **LLM drug extraction superiority**: Medium confidence - Modest performance margin (0.858 vs 0.843) with unspecified drug database content and documented hallucination risks
- **Translation effects**: Low confidence - Asymmetric effects reported but lack mechanistic depth and broader validation across languages or translation systems

## Next Checks

1. **Cross-institutional validation**: Test the rule-based demographic extraction pipeline on 500-1000 records from different Polish hospitals and clinical specialties to assess whether the first-sentence assumption holds beyond the rehabilitation setting.

2. **Prompt engineering ablation study**: Systematically vary the LLM extraction prompts (temperature, prompt structure, instructions to avoid hallucinations) on a held-out Polish clinical text sample to quantify impact on drug extraction accuracy and hallucination frequency.

3. **Translation mechanism analysis**: Conduct controlled experiments translating clinical texts from multiple languages with grammatical gender (e.g., Polish, German, Russian) to English, measuring specific information loss patterns for demographics versus medications to validate the asymmetric translation hypothesis.