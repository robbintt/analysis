---
ver: rpa2
title: 'DIA: The Adversarial Exposure of Deterministic Inversion in Diffusion Models'
arxiv_id: '2510.00778'
source_url: https://arxiv.org/abs/2510.00778
tags:
- image
- diffusion
- inversion
- editing
- methods
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces DDIM Inversion Attack (DIA), a method to
  disrupt real-image editing by attacking the deterministic inversion process in diffusion
  models. The core idea leverages differentiable DDIM trajectories to interfere with
  the retrieval of high-fidelity latent codes used for editing.
---

# DIA: The Adversarial Exposure of Deterministic Inversion in Diffusion Models

## Quick Facts
- arXiv ID: 2510.00778
- Source URL: https://arxiv.org/abs/2510.00778
- Reference count: 40
- Key outcome: Introduces DDIM Inversion Attack (DIA) that disrupts real-image editing by targeting deterministic DDIM inversion trajectories, achieving state-of-the-art disruption across various inversion-editing combinations.

## Executive Summary
This paper introduces DIA (DDIM Inversion Attack), a method to protect images from malicious diffusion-based editing by adding adversarial perturbations that disrupt the deterministic DDIM inversion process. The core innovation targets the full DDIM trajectory rather than partial denoising steps, using two variants: DIA-PT (Process Trajectory) and DIA-R (Reconstruction). Experiments on PIE-Bench demonstrate that DIA achieves superior disruption across various inversion-editing combinations, with DIA-R showing better stealthiness while maintaining strong performance. The method is robust to different sampling steps, noise budgets, and purification techniques, highlighting the importance of targeting inversion trajectories for effective defense against malicious image editing.

## Method Summary
DIA attacks the deterministic DDIM inversion process in diffusion models by adding adversarial perturbations to input images. The method uses two variants: DIA-PT maximizes the L2 distance between the reconstructed image and the perturbed original along the full DDIM trajectory, while DIA-R accumulates residual error across the forward-and-reverse path. Both variants employ PGD optimization with ε=0.05, 20 iterations, and 10 DDIM steps. To reduce computational cost, DIA uses decomposed VJP backpropagation instead of storing full activation graphs. The attack specifically targets the inversion-to-editing pipeline, corrupting the latent code retrieval process that editing methods depend on.

## Key Results
- DIA-R achieves lowest CLIP similarity scores across most inversion-edit pairs, demonstrating superior disruption effectiveness
- DIA-R shows better stealthiness with PSNR scores close to baseline methods while maintaining strong performance
- DIA methods outperform baselines across different noise budgets (ε) and remain effective against purification techniques like JPEG compression and AdverseCleaner

## Why This Works (Mechanism)

### Mechanism 1
Attacking the integrated DDIM trajectory yields stronger disruption because inversion-based editing depends on the chained path from image to latent and back. DIA optimizes adversarial perturbations to maximize divergence across the full inversion-and-reconstruction trajectory, corrupting the latent code retrieval process. This breaks the fundamental assumption that deterministic DDIM inversion produces usable latent codes for editing.

### Mechanism 2
Decomposing backpropagation via Vector-Jacobian Products makes full-trajectory attacks memory-feasible. Instead of storing activations across all timesteps, DIA computes timestep-wise VJPs, chaining gradients step-by-step. This reduces VRAM while preserving gradient fidelity for effective adversarial optimization through the entire DDIM path.

### Mechanism 3
DIA-R accumulates residual error across the full forward-and-reverse path, yielding stronger semantic disruption and better stealthiness. By maximizing L2 reconstruction loss after a full DDIM round-trip, errors compound along the trajectory, producing greater output deviation while keeping perturbations less perceptible to human observers.

## Foundational Learning

- Concept: DDIM inversion and sampling (ODE vs. SDE)
  - Why needed here: DIA's attack is defined on the deterministic DDIM trajectory; understanding how inversion maps images to latents and back is essential
  - Quick check question: Can you explain why setting σ_t = 0 makes DDIM deterministic and how this enables inversion?

- Concept: Adversarial attacks via Projected Gradient Descent (PGD)
  - Why needed here: DIA uses PGD to optimize perturbations within an ε-ball; knowing PGD's projection and step-size mechanics clarifies constraint enforcement
  - Quick check question: What does the projection operator Π_{x+S} ensure after each PGD step?

- Concept: Vector-Jacobian Product (VJP) for memory-efficient backprop
  - Why needed here: DIA reduces VRAM by chaining VJPs instead of materializing full Jacobians; understanding VJP clarifies why trajectory attacks become practical
  - Quick check question: How does a VJP avoid storing all intermediate activations while still computing ∇_{h_t} L?

## Architecture Onboarding

- Component map: Input image x_0 + encoder E → latent z_0 → DDIM inversion path (z_T) → DDIM reconstruction path (x̂_0) → loss computation → VJP backprop → PGD update

- Critical path:
  1. Encode perturbed image to latent
  2. Run differentiable DDIM inversion (t=0→T) with VJP chaining
  3. (For DIA-R) Run DDIM sampling back to image space
  4. Compute chosen loss (PT or reconstruction)
  5. Backprop via VJP, update perturbation via PGD projection

- Design tradeoffs:
  - DIA-PT vs. DIA-R: DIA-PT is faster and simpler; DIA-R is more disruptive and stealthier but more expensive (~1m50s vs ~40s)
  - Trajectory length: Longer trajectories can improve DIA-R but may hurt DIA-PT due to loss computation at z_0 vs. x_0
  - Noise budget ε: Higher ε improves disruption but reduces imperceptibility; DIA methods outperform baselines across ε

- Failure signatures:
  - Over-aggressive editing methods may already fail to preserve original content, making immunization metrics noisy
  - Model transferability drops when moving from SD v1.4 to v2.x, though some disruption remains
  - Purification techniques can partially restore editing capability

- First 3 experiments:
  1. Reproduce DIA-PT vs. DIA-R CLIP similarity and PSNR differences on a small PIE-Bench subset to validate relative disruption and stealthiness claims
  2. Ablate trajectory length (5/10/20 steps) for both variants and measure CLIP, PSNR, LPIPS to confirm optimal settings
  3. Test robustness to JPEG compression (quality 80) on DIA-R vs. top baseline to quantify resilience gaps

## Open Questions the Paper Calls Out

### Open Question 1
Can the immunization process be optimized to significantly reduce computational cost and latency required for generating protective noise? The paper acknowledges DIA-PT takes 40 seconds and DIA-R takes nearly 2 minutes per image, noting room for improvement regarding computational resources.

### Open Question 2
How can defense methods be designed to withstand future inversion techniques that operate orthogonally to the current DDIM formulation? The paper states that future image inversion methods may evolve with operations orthogonal to DDIM, causing performance decay.

### Open Question 3
Can cross-model transferability of perturbations be improved to maintain high disruption effectiveness across significantly different diffusion architectures? The paper identifies inherent limitations in cross-model transferability, noting that attack is less disruptive on SD v2.0/2.1 compared to SD v1.4.

## Limitations
- Computational cost is significant, with DIA-R taking nearly 2 minutes per image compared to 40 seconds for DIA-PT
- Performance decays when future image inversion methods evolve orthogonally to current DDIM formulation
- Cross-model transferability is limited, with reduced effectiveness when moving between different diffusion model versions

## Confidence
- Mechanism 1 (Trajectory attack): Medium-High - well-grounded in established diffusion theory but limited external validation
- Mechanism 2 (VJP decomposition): High - standard technique for memory-efficient backpropagation
- Mechanism 3 (DIA-R superiority): Medium - supported by PIE-Bench results but lacks broader validation

## Next Checks
1. Implement DIA-R from scratch and reproduce CLIP similarity/PSNR metrics on a 50-image subset of PIE-Bench across DDIM-to-DDIM and DDIM-to-P2P editing pairs
2. Ablate trajectory length (5/10/20 steps) and measure CLIP similarity, PSNR, LPIPS to confirm optimal settings and disruption vs. stealthiness tradeoffs
3. Test robustness to JPEG compression (quality 80) on DIA-R protected images vs. baseline methods to quantify purification resilience