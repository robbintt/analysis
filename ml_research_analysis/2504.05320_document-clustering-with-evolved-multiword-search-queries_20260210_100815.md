---
ver: rpa2
title: Document clustering with evolved multiword search queries
arxiv_id: '2504.05320'
source_url: https://arxiv.org/abs/2504.05320
tags:
- documents
- clustering
- query
- queries
- cluster
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper presents eSQ, a novel document clustering method based
  on evolved multi-word search queries using a genetic algorithm. Unlike traditional
  clustering algorithms that rely on similarity measures between documents, eSQ generates
  clusters by evolving search queries where each query returns a set of documents
  as a cluster.
---

# Document clustering with evolved multiword search queries

## Quick Facts
- arXiv ID: 2504.05320
- Source URL: https://arxiv.org/abs/2504.05320
- Reference count: 40
- Outperforms k-means++ and other clustering methods with higher V-measure and Adjusted Rand Index scores

## Executive Summary
This paper introduces eSQ, a novel document clustering method that uses evolved multi-word search queries generated through a genetic algorithm. Unlike traditional clustering approaches that rely on pairwise document similarities, eSQ defines clusters through search queries where each query retrieves a set of documents as a cluster. The method aims to provide interpretable and modifiable clustering results suitable for information retrieval applications. A second stage using KNN assigns all documents to clusters, achieving superior performance on 8 datasets compared to k-means++ and other traditional methods.

## Method Summary
eSQ uses a genetic algorithm to evolve search queries where each chromosome represents a disjunctive query (OR-combination of terms). The fitness function evaluates how well each query retrieves documents belonging to a specific ground-truth category. For each category, the algorithm evolves a query that retrieves the maximum number of relevant documents while minimizing irrelevant ones. The process repeats for all categories, generating a query for each cluster. A final KNN stage assigns any remaining documents to the closest cluster based on cosine similarity in the evolved query space.

## Key Results
- eSQ achieves higher V-measure and Adjusted Rand Index scores than k-means++ and other clustering methods on 8 datasets
- The search query format provides transparency and allows human modification of clustering results
- The method is particularly suitable for information retrieval applications where interpretable cluster definitions are valuable

## Why This Works (Mechanism)
The method works by transforming the clustering problem into an optimization problem where search queries are evolved to optimally separate document categories. By using a genetic algorithm, eSQ can discover complex term combinations that traditional clustering methods might miss. The fitness function directly optimizes for cluster purity by rewarding queries that retrieve relevant documents while penalizing irrelevant ones. This approach leverages the well-established effectiveness of search queries in document retrieval while applying evolutionary computation to discover optimal query formulations.

## Foundational Learning
- **Genetic Algorithms**: Evolutionary optimization technique needed for evolving search queries
  - Why needed: To systematically explore the space of possible multi-word queries
  - Quick check: Verify GA parameters (population size, mutation rate) affect convergence

- **Document Similarity Measures**: Vector space model and cosine similarity
  - Why needed: To evaluate document-query relevance and KNN assignments
  - Quick check: Test with different similarity metrics (Jaccard, Euclidean)

- **Search Query Formulation**: Disjunctive queries as cluster definitions
  - Why needed: Provides interpretable and modifiable cluster boundaries
  - Quick check: Evaluate query complexity vs. clustering accuracy tradeoff

- **Fitness Function Design**: Balance between precision and recall in query retrieval
  - Why needed: Guides the evolution toward meaningful cluster definitions
  - Quick check: Test alternative fitness formulations (F1-score, harmonic mean)

- **KNN for Final Assignment**: Assignment of unassigned documents to clusters
  - Why needed: Ensures all documents are clustered
  - Quick check: Test with different K values and distance metrics

## Architecture Onboarding

**Component Map**: Documents -> Vectorization -> GA Evolution -> Evolved Queries -> KNN Assignment -> Final Clusters

**Critical Path**: The core workflow follows: preprocessing → vectorization → genetic algorithm evolution → query generation → KNN assignment → evaluation

**Design Tradeoffs**: The method trades computational complexity (GA evolution) for interpretability and modifiability. The disjunctive query format is simpler but less expressive than complex Boolean queries. The KNN stage adds robustness but may introduce arbitrary assignments for ambiguous documents.

**Failure Signatures**: Poor performance may result from: insufficient GA evolution time, overly restrictive fitness functions, or datasets where meaningful queries cannot be formed. The KNN stage may fail when documents are equidistant from multiple cluster centroids.

**First Experiments**:
1. Test eSQ on a simple binary classification dataset to verify basic functionality
2. Compare single-query vs. multi-query evolution strategies
3. Evaluate the impact of different GA parameters on clustering quality

## Open Questions the Paper Calls Out

### Open Question 1
- Question: Can the eSQ algorithm be extended to generate more complex queries with conjunction, negation, and other search operators rather than only disjunctive queries?
- Basis in paper: [explicit] "Currently the algorithm only generates disjunctive queries... We would like to experiment with more complex queries which include conjunction, negation and other search query types that have successfully been used in text classification."
- Why unresolved: The current eSQ implementation only supports disjunctive (OR) queries, limiting expressiveness. Complex queries could potentially create more precise clusters but would require modifications to the chromosome representation and fitness evaluation.
- What evidence would resolve it: Comparative experiments on the same datasets showing V-measure and ARI scores for conjunctive/negation queries versus disjunctive-only queries.

### Open Question 2
- Question: How does eSQ perform on datasets requiring a large number of clusters (e.g., more than 8 categories)?
- Basis in paper: [explicit] "The datasets we have used have a maximum number of 8 categories and we have not tested the system where a large number of clusters would be required for a good solution."
- Why unresolved: The fitness function and GA parameters were only validated on datasets with few categories. Scalability to many clusters is unknown and may require parameter tuning or fitness function modifications.
- What evidence would resolve it: Testing eSQ on datasets with 20+ ground-truth categories and reporting cluster count error, V-measure, and computational cost.

### Open Question 3
- Question: Can the eSQ approach be adapted for clustering non-text media such as images?
- Basis in paper: [explicit] "We are investigating the possibility of applying the algorithm to cluster other media such as images."
- Why unresolved: The query-based approach assumes documents are sets of terms. Images require feature extraction and a query mechanism over visual features, which is fundamentally different from keyword search.
- What evidence would resolve it: A modified eSQ implementation for image datasets (e.g., CIFAR or ImageNet subsets) with performance metrics compared against standard image clustering baselines.

## Limitations
- No comparative evaluation against modern clustering approaches like DBSCAN or hierarchical clustering
- Limited scalability testing on larger document collections (100K+ documents)
- Interpretability of complex multi-word queries may be challenging without domain expertise

## Confidence
- **High Confidence**: Novelty of evolved search queries as cluster definitions and superior performance metrics compared to traditional clustering methods
- **Medium Confidence**: Interpretability and modifiability claims require user study validation
- **Low Confidence**: Generalizability across diverse document types and domains without additional testing

## Next Checks
1. Benchmark eSQ against modern clustering algorithms including DBSCAN, hierarchical clustering, and recent neural-based document clustering methods on the same datasets to establish relative performance.

2. Conduct user studies with domain experts to evaluate the practical interpretability and modifiability of evolved search queries in real-world information retrieval tasks.

3. Perform scalability testing with larger document collections (e.g., 100K+ documents) to assess computational efficiency and clustering quality degradation, if any.