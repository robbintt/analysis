---
ver: rpa2
title: 'PCN-Rec: Agentic Proof-Carrying Negotiation for Reliable Governance-Constrained
  Recommendation'
arxiv_id: '2601.09771'
source_url: https://arxiv.org/abs/2601.09771
tags:
- slate
- constraints
- deterministic
- pcn-rec
- recommendation
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: PCN-Rec introduces a proof-carrying negotiation pipeline for governance-constrained
  recommendation that separates LLM-based reasoning from deterministic enforcement.
  The method uses a base recommender to generate a candidate window, which is negotiated
  by a User Advocate (optimizing relevance) and a Policy Agent (enforcing constraints)
  under LLM mediation, producing a slate and structured certificate.
---

# PCN-Rec: Agentic Proof-Carrying Negotiation for Reliable Governance-Constrained Recommendation

## Quick Facts
- **arXiv ID:** 2601.09771
- **Source URL:** https://arxiv.org/abs/2601.09771
- **Reference count:** 24
- **Primary result:** 98.55% feasibility pass rate on MovieLens-100K with head/tail and genre diversity constraints

## Executive Summary
PCN-Rec introduces a proof-carrying negotiation pipeline for governance-constrained recommendation that separates LLM-based reasoning from deterministic enforcement. The method uses a base recommender to generate a candidate window, which is negotiated by a User Advocate (optimizing relevance) and a Policy Agent (enforcing constraints) under LLM mediation, producing a slate and structured certificate. A deterministic verifier recomputes all constraints from the slate and accepts only verifier-checked certificates; if verification fails, a deterministic constrained-greedy repair produces a compliant slate for re-verification. On MovieLens-100K with head/tail and genre diversity constraints, PCN-Rec achieves a 98.55% pass rate on feasible users (n=551, W=80) versus a one-shot single-LLM baseline without verification/repair, while preserving utility with only a 0.021 absolute drop in NDCG@10 (0.403 vs. 0.424); differences are statistically significant (p<0.05).

## Method Summary
PCN-Rec introduces a proof-carrying negotiation pipeline for governance-constrained recommendation that separates LLM-based reasoning from deterministic enforcement. The method uses a base recommender to generate a candidate window, which is negotiated by a User Advocate (optimizing relevance) and a Policy Agent (enforcing constraints) under LLM mediation, producing a slate and structured certificate. A deterministic verifier recomputes all constraints from the slate and accepts only verifier-checked certificates; if verification fails, a deterministic constrained-greedy repair produces a compliant slate for re-verification. On MovieLens-100K with head/tail and genre diversity constraints, PCN-Rec achieves a 98.55% pass rate on feasible users (n=551, W=80) versus a one-shot single-LLM baseline without verification/repair, while preserving utility with only a 0.021 absolute drop in NDCG@10 (0.403 vs. 0.424); differences are statistically significant (p<0.05).

## Key Results
- Achieves 98.55% feasibility pass rate on MovieLens-100K with head/tail and genre diversity constraints
- Only 0.021 absolute drop in NDCG@10 compared to single-LLM baseline (0.403 vs. 0.424)
- Statistical significance achieved (p<0.05) in utility preservation

## Why This Works (Mechanism)
The paper separates LLM-based reasoning from deterministic enforcement to create a reliable governance-constrained recommendation system. By using LLM-mediated negotiation between User Advocate and Policy Agent, it leverages AI's reasoning capabilities while the deterministic verifier ensures constraint compliance through recomputation. The repair mechanism provides a fallback for infeasible cases, maintaining high feasibility rates without sacrificing utility.

## Foundational Learning
- **Proof-Carrying Negotiation**: Separates LLM reasoning from deterministic enforcement to ensure reliability - needed because LLMs can hallucinate constraint compliance; quick check: verify certificate against recomputed constraints
- **Deterministic Verification**: Recomputes all constraints from final slate to validate compliance - needed to catch LLM errors; quick check: compare certificate claims against actual slate properties
- **Constrained-Greedy Repair**: Fallback mechanism for infeasible cases - needed to maintain feasibility rates; quick check: measure repair impact on utility metrics
- **Agentic Mediation**: LLM facilitates negotiation between relevance and policy objectives - needed to balance competing goals; quick check: examine negotiation transcripts for convergence patterns
- **Certificate Structure**: Formal representation of constraint satisfaction - needed for verifiable governance; quick check: validate certificate schema against verification logic
- **Base Recommender Window**: Initial candidate generation before negotiation - needed as negotiation starting point; quick check: analyze base recommender performance metrics

## Architecture Onboarding

**Component Map:** Base Recommender -> Candidate Window -> LLM Negotiation (User Advocate + Policy Agent) -> Slate + Certificate -> Deterministic Verifier -> (if fail) Constrained-Greedy Repair -> Re-verification

**Critical Path:** The most critical sequence is: Base Recommender → LLM Negotiation → Deterministic Verifier → (optional) Repair → Final Slate. Any failure in verification triggers the repair path.

**Design Tradeoffs:** The system trades computational overhead (LLM calls + verification + potential repair) for reliability and compliance guarantees. The separation of reasoning and enforcement increases complexity but reduces risk of non-compliant recommendations.

**Failure Signatures:** Primary failure modes include LLM hallucination of constraint satisfaction (caught by verifier), negotiation deadlock between User Advocate and Policy Agent, and repair mechanism inability to find feasible solutions for highly constrained cases.

**First Experiments:**
1. Run base recommender alone to establish baseline NDCG@10 without constraints
2. Execute LLM negotiation with verifier disabled to measure negotiation-only performance
3. Test deterministic verifier on negotiation output to quantify hallucination rate

## Open Questions the Paper Calls Out
None

## Limitations
- Relies on single dataset (MovieLens-100K) and limited constraint set, limiting generalizability
- Deterministic repair overhead and performance under multiple simultaneous constraints not characterized
- No ablation studies on individual components' contributions to 98.55% pass rate
- LLM-mediated negotiation behavior with larger slate sizes or complex constraint combinations untested

## Confidence

- **High confidence**: 98.55% feasibility pass rate is verifiable through deterministic verification that recomputes constraints from slate
- **Medium confidence**: NDCG@10 comparison (0.403 vs. 0.424) is statistically significant but narrow margin may not generalize
- **Low confidence**: Generalizability of proof-carrying negotiation framework to complex, multi-dimensional governance requirements

## Next Checks

1. **Ablation Study on Component Necessity**: Test PCN-Rec variants with (a) negotiation only, (b) verification only, and (c) repair only to quantify individual component contributions to 98.55% pass rate

2. **Scalability Assessment**: Evaluate PCN-Rec on MovieLens-1M or real-world e-commerce dataset with larger slate sizes (n=100+) and complex constraint combinations to assess computational overhead and performance degradation

3. **Cross-Constraint Generalization**: Design experiments with overlapping or conflicting constraints (e.g., budget + diversity + freshness) to test whether deterministic repair maintains high feasibility rates without significant utility loss