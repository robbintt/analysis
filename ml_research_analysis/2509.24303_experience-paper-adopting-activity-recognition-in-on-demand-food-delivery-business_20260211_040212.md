---
ver: rpa2
title: 'Experience Paper: Adopting Activity Recognition in On-demand Food Delivery
  Business'
arxiv_id: '2509.24303'
source_url: https://arxiv.org/abs/2509.24303
tags:
- data
- activity
- delivery
- recognition
- limu-bert
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper presents the first nationwide deployment of human activity
  recognition (HAR) technology in the on-demand food delivery industry. The authors
  successfully adapted the state-of-the-art LIMU-BERT foundation model to the delivery
  platform, progressing from a feasibility study in Yangzhou City to nationwide adoption
  involving 500,000 couriers across 367 cities in China.
---

# Experience Paper: Adopting Activity Recognition in On-demand Food Delivery Business

## Quick Facts
- **arXiv ID:** 2509.24303
- **Source URL:** https://arxiv.org/abs/2509.24303
- **Authors:** Huatao Xu; Yan Zhang; Wei Gao; Guobin Shen; Mo Li
- **Reference count:** 40
- **Primary result:** Nationwide deployment of LIMU-BERT achieves >90% accuracy across 500K couriers in 367 cities

## Executive Summary
This paper presents the first nationwide deployment of human activity recognition (HAR) technology in the on-demand food delivery industry, successfully adapting the LIMU-BERT foundation model for delivery platform operations. The authors progress from a feasibility study in Yangzhou City to nationwide adoption involving 500,000 couriers across 367 cities in China, enabling downstream applications including trajectory segmentation, navigation, elevation change detection, and Estimated Time of Stop (ETS) estimation. Large-scale tests demonstrate significant operational and economic benefits, with the implementation of a new pricing strategy enabled by LIMU-BERT saving an average of 0.06 yuan per delivery, translating to an estimated annual savings of approximately 0.44 billion RMB.

## Method Summary
The authors adapted LIMU-BERT, a self-supervised foundation model for HAR, to the delivery platform through a multi-phase approach. The model was pretrained via masked reconstruction on 847M unlabeled IMU samples from couriers, then fine-tuned on a small labeled dataset from Yangzhou City. The system uses smartphone IMU data (accelerometer + gyroscope at 10Hz) with 6-second windows, employing dynamic library loading to minimize APK size overhead. A device collaboration strategy enables cross-device feature transfer, using iOS devices with barometers to generate labels for Android devices lacking these sensors. Rule-based label generation from GPS speed and indoor/outdoor classification enables large-scale evaluation without manual annotation.

## Key Results
- LIMU-BERT achieves >90% recognition accuracy in nationwide deployment across 500,000 couriers
- Elevation detection model achieves 82.5% accuracy using device collaboration training
- New pricing strategy enabled by LIMU-BERT saves 0.06 yuan per delivery, estimated 0.44 billion RMB annually
- Coverage rate reaches 86% across 1,095 device models in deployment

## Why This Works (Mechanism)

### Mechanism 1
Self-supervised pretraining on domain-specific unlabeled IMU data substantially improves HAR performance when labeled data is scarce. LIMU-BERT is pretrained via masked reconstruction on 847M unlabeled IMU samples from couriers, learning generalizable motion representations. Fine-tuning then adapts these representations to specific activity classes with minimal labeled data. The unlabeled pretraining data distribution sufficiently covers the variation encountered during deployment (devices, users, environments).

### Mechanism 2
Rule-based label generation from complementary sensors enables large-scale HAR evaluation without costly manual annotation. The system derives coarse-grained activity labels by combining IODetector (indoor/outdoor classification using light, magnetometer) with GPS speed thresholds (>4 m/s outdoor = riding; indoor = non-riding), creating scalable pseudo-ground-truth for evaluation. The rule-based labels are sufficiently accurate for evaluating relative model performance, even if imperfect for absolute metrics.

### Mechanism 3
Device collaboration training—using well-equipped devices to generate labels for less-equipped devices—enables cross-device feature transfer when sensors are heterogeneous. iOS devices with barometers generate vertical movement labels; these labels train IMU-only models deployable on Android devices lacking barometers (92% of Android phones). The IMU patterns associated with vertical movement are device-invariant enough to transfer across manufacturers and models.

## Foundational Learning

- **Concept: Self-supervised learning for sensor data**
  - Why needed here: The deployment has abundant unlabeled IMU data but labeling is prohibitively expensive; SSL bridges this gap
  - Quick check question: Can you explain why masking-and-reconstruction (BERT-style) is appropriate for IMU sequences versus contrastive learning?

- **Concept: Transfer learning with domain shift**
  - Why needed here: Models trained on public datasets (Shoaib) fail on real courier data (28.2% accuracy); domain adaptation is critical
  - Quick check question: What quantitative signal would indicate that pretraining data distribution matches deployment distribution well enough?

- **Concept: IMU sensor characteristics and preprocessing**
  - Why needed here: The system uses 10Hz accelerometer + gyroscope; sensor synchronization issues required explicit handling
  - Quick check question: Why might reducing sampling rate from 20Hz to 10Hz have minimal performance impact for this use case?

## Architecture Onboarding

- **Component map:** Data Collection SDK (Android) -> Edge Computing Module -> Control Module -> Cloud Pipeline -> Pretraining Pipeline -> Fine-tuning Pipeline
- **Critical path:** 1) Collect domain-specific unlabeled IMU data from target population 2) Pretrain LIMU-BERT via masked reconstruction 3) Collect small labeled dataset in realistic conditions 4) Fine-tune with classifier head jointly 5) Validate with rule-based large-scale evaluation 6) Deploy SDK with dynamic library loading
- **Design tradeoffs:** Window size 60 samples (6s) chosen over 120 for timeliness; sampling rate 10Hz reduces transmission/computation costs; model size 137K parameters balances accuracy and mobile inference; dynamic library loading adds runtime complexity but reduces APK bloat
- **Failure signatures:** Low coverage on specific device models (check gyroscope availability); high false-negative rate on "riding" (likely constant-speed flat terrain); SDK crashes on uncommon brands (check Android API compatibility); elevation detection false positives (elevator constant-speed phase)
- **First 3 experiments:** 1) Pretraining data scaling test: Train with 10%, 30%, 60%, 100% of unlabeled data 2) Labeled data efficiency test: Fine-tune with 0.1%, 1%, 10%, 100% of labeled data 3) Cross-device generalization test: Train on subset of phone models, test on held-out models

## Open Questions the Paper Calls Out

- **Open Question 1:** How can HAR models effectively distinguish between "stationary" and "constant-velocity" states (e.g., riding an elevator or e-scooter at constant speed) using IMU data alone? The physics of constant velocity result in zero acceleration relative to the moving frame, making IMU data indistinguishable from true stillness without external references.

- **Open Question 2:** To what extent does a foundation model pre-trained on courier-specific data generalize to other domains with distinct motion patterns? The working patterns of couriers are distinct from those in other professions, making the generalization of the model to other domains uncertain and requiring fine-tuning.

- **Open Question 3:** Can a unified model architecture handle hardware heterogeneity (specifically missing gyroscopes) without the significant performance drops observed in single-sensor variants? Current model designs typically assume a fixed sensor set, and modality-specific dropouts that can dynamically adapt to missing modalities while retaining learned feature correlations are not yet standard.

## Limitations

- Rule-based labeling approach introduces potential systematic bias in reported performance metrics, particularly for stop-and-go urban traffic scenarios
- Cross-device generalization relies on implicit assumptions about sensor calibration and placement consistency across 1,000+ phone models
- Economic savings calculation assumes uniform distribution of delivery patterns across all couriers and cities

## Confidence

- **High Confidence:** LIMU-BERT's superior performance over baseline models (Shoaib dataset comparison showing 61.8%→89.2% accuracy gain) is well-supported by quantitative results across multiple experiments
- **Medium Confidence:** The 0.44 billion RMB annual savings estimate is methodologically sound but depends on assumptions about delivery volume distribution and pricing elasticity
- **Medium Confidence:** Device collaboration training effectiveness is demonstrated (82.5% elevation accuracy) but the generalization mechanism across heterogeneous IMU sensors lacks rigorous ablation studies

## Next Checks

1. Conduct ablation study on pretraining data composition to quantify the contribution of domain-specific vs. general IMU data to final performance
2. Perform cross-device validation using controlled experiments with systematic sensor calibration variations to isolate device-specific performance factors
3. Implement A/B testing of the pricing strategy in limited markets to validate the projected economic benefits before full-scale rollout