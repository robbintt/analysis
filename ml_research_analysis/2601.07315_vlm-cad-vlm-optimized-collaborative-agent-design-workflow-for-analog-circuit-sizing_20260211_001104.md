---
ver: rpa2
title: 'VLM-CAD: VLM-Optimized Collaborative Agent Design Workflow for Analog Circuit
  Sizing'
arxiv_id: '2601.07315'
source_url: https://arxiv.org/abs/2601.07315
tags:
- circuit
- sizing
- phase
- design
- optimization
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper addresses the challenge of automatic analog circuit
  sizing by proposing a Vision Language Model-optimized collaborative agent design
  workflow (VLM-CAD) that effectively integrates circuit schematics into the optimization
  process. The method uses Image2Net to annotate circuit schematics and generate structured
  JSON descriptions for accurate interpretation by Vision Language Models, while introducing
  an Explainable Trust Region Bayesian Optimization method (ExTuRBO) that provides
  dual-granularity sensitivity analysis.
---

# VLM-CAD: VLM-Optimized Collaborative Agent Design Workflow for Analog Circuit Sizing

## Quick Facts
- arXiv ID: 2601.07315
- Source URL: https://arxiv.org/abs/2601.07315
- Reference count: 25
- Method achieves excellent or satisfactory optimization results while maintaining low power consumption with total runtime under 66 minutes

## Executive Summary
This paper addresses the challenge of automatic analog circuit sizing by proposing a Vision Language Model-optimized collaborative agent design workflow (VLM-CAD) that effectively integrates circuit schematics into the optimization process. The method uses Image2Net to annotate circuit schematics and generate structured JSON descriptions for accurate interpretation by Vision Language Models, while introducing an Explainable Trust Region Bayesian Optimization method (ExTuRBO) that provides dual-granularity sensitivity analysis. Experimental results on two amplifiers using 180nm, 90nm, and 45nm PTM nodes demonstrate that VLM-CAD achieves excellent or satisfactory optimization results while maintaining low power consumption, with total runtime under 66 minutes. The approach successfully meets all specification requirements and provides quantified sensitivity analysis for industrial sign-off, marking a significant advancement in reliable automatic analog circuit sizing.

## Method Summary
VLM-CAD implements a 5-phase collaborative workflow for analog circuit sizing. Phase A uses Image2Net (YOLOv8-Pose + CV algorithms) to convert schematic images to annotated JSON netlists. Phase B employs 4 VLM agents for circuit analysis and initial parameter generation. Phase C performs DC operating point sizing with convergence checking. Phase D uses inference-only sizing with a Universal Cost Function to generate candidate seeds. Phase E applies ExTuRBO with collaborative warm-start from Phase D seeds for final optimization, providing dual-granularity sensitivity analysis via ARD lengthscales. The system uses Gemini 3 Flash, GPT-5.2, or Qwen3-VL VLMs with Ngspice simulation.

## Key Results
- VLM-CAD achieves excellent or satisfactory optimization results on both test amplifiers while maintaining low power consumption
- Total optimization runtime stays under 66 minutes across all tested technology nodes
- All specification requirements (Gain ≥65dB, UGBW ≥10MHz, PM ≥50°, THD ≤-26dB, Offset ≤1mV, Power <10mW) are met
- Dual-granularity sensitivity analysis provides quantified explainability suitable for industrial sign-off

## Why This Works (Mechanism)

### Mechanism 1
Structured schematic-to-JSON conversion enables VLMs to reason about circuit topology. Image2Net combines YOLOv8-Pose component detection with heuristic corner detection algorithms (Harris, Shi-Tomaki, ORB, SIFT) and DBSCAN clustering to extract component connectivity graphs from pixel-level schematics, outputting JSON descriptions that VLMs can process reliably. Core assumption: VLMs struggle with geometric intersection detection in line diagrams but excel at structured JSON reasoning. Evidence: [abstract] confirms JSON output for precise VLM interpretation; [Section III-A] details the detection pipeline; corpus lacks direct validation of Image2Net's specific approach. Break condition: Schematics with non-standard component symbols may exceed YOLOv8-Pose's detection training.

### Mechanism 2
Collaborative warm-start exponentially reduces Bayesian optimization search volume. ExTuRBO seeds trust regions around high-performing candidates from inference-only sizing phase rather than using Latin Hypercube Sampling over the global space. For a D-dimensional problem with contraction ratio r, search volume reduces by approximately r^D. Core assumption: Language model inference produces topologically correct seeds in high-probability regions of the design space. Evidence: [Section III-E] shows 48-dimensional problem with r=0.4 reduces search space by factor ~10^19; [Table V] ablation shows Phase E accounts for 79-91% of total runtime without Image2Net-provided seeds. Break condition: If inference phase seeds are in disconnected feasible regions, warm-start may trap optimizer in poor local minima.

### Mechanism 3
ARD lengthscale-based dual-granularity sensitivity provides quantified explainability for industrial sign-off. Post-optimization, ExTuRBO fits two Gaussian Process models: (1) Global Sensitivity on all data identifies survival parameters via inverse lengthscale (small lengthscale = high sensitivity), (2) Elite Sensitivity on top 15% designs identifies performance-tuning parameters. Core assumption: ARD lengthscales reliably indicate parameter importance in analog circuit design spaces. Evidence: [Section III-E] defines Feature Importance S_d ∝ 1/ℓ_d and describes dual GP fitting strategy; [Fig. 3] shows sample design sign-off report. Break condition: Highly correlated parameters may produce misleading individual lengthscales.

## Foundational Learning

- Concept: **Bayesian Optimization with Trust Regions**
  - Why needed here: ExTuRBO extends standard BO; understanding GP surrogates, acquisition functions, and trust region constraints is prerequisite to modifying the optimization layer.
  - Quick check question: Given a GP posterior with mean μ(x) and variance σ²(x), how would you construct an acquisition function that balances exploration and exploitation?

- Concept: **MOSFET DC Operating Points and Small-Signal Parameters**
  - Why needed here: The DC-OP Sizing phase (Phase C) requires understanding overdrive voltage (Vov = Vgs - Vth), drain-source saturation, and how biasing affects gain/bandwidth tradeoffs.
  - Quick check question: Why does increasing Vov improve current source output impedance but reduce voltage headroom?

- Concept: **VLM/LLM Agent Workflow Patterns**
  - Why needed here: VLM-CAD decomposes sizing into 10 specialized agents; understanding chain-of-thought, tool-use, and agent handoff patterns enables workflow modification.
  - Quick check question: What failure mode occurs when an agent's output schema doesn't match the downstream agent's expected input format?

## Architecture Onboarding

- Component map: Phase A (Image2Net) → Phase B (4 VLM agents) → Phase C (DC-OP) → Phase D (Inference-Only) → Phase E (ExTuRBO)
- Critical path: Phase A → Phase B (agents must understand topology) → Phase C (DC convergence required for Phase D simulations) → Phase D (produces seeds) → Phase E (final optimization). Phase B failures propagate through entire workflow.
- Design tradeoffs:
  - Phase D iteration limit (40) vs. seed quality: More iterations improve seeds but increase latency
  - Universal Cost weights (w_gain=1.0, w_offset=10.0) directly control which specs are prioritized
  - VLM selection (Gemini 3 Flash vs. GPT-5.2 vs. Qwen3-VL) affects Phase B analysis quality and Phase D inference quality
- Failure signatures:
  - 45nm short-channel failure: Gain/PM specs missed, power exceeded (Table IIIb) due to LLM training on long-channel heuristics
  - Phase E dominates runtime: In ablations, Phase E reaches 79-91% of total time, indicating poor seed quality
  - Inference deadlock: Phase D requires 5% random perturbation mechanism to break when LM suggests identical parameters
- First 3 experiments:
  1. Reproduce Table IIIa (180nm complementary input amplifier): Run full VLM-CAD pipeline with Gemini 3 Flash; verify UC < 0.1 and total time < 300s
  2. Ablation on Phase A: Run VLM-CAD without Image2Net JSON (only raw schematic image) on 180nm circuit; compare Phase E runtime and final UC to quantify Image2Net contribution
  3. Stress test on 45nm: Attempt two-stage Miller op-amp with modified DC Goal Setter prompts mentioning short-channel effects; measure if gain spec compliance improves from 0/3 to ≥1/3

## Open Questions the Paper Calls Out

- **Open Question 1**: How can VLM-based agents be adapted to effectively navigate design spaces dominated by short-channel effects where standard long-channel heuristics fail?
  - Basis: The authors note VLM-CAD failed to meet 45nm Miller amplifier specs because long-channel heuristics don't work against short-channel effects like velocity saturation.
  - Unresolved: Paper identifies mismatch but doesn't propose mechanism to update agents' "knowledge" for advanced nodes.
  - Resolution evidence: Successful optimization of sub-45nm circuits using agents fine-tuned with short-channel physics models.

- **Open Question 2**: Can VLMs be trained to interpret raw circuit schematics robustly, or is an intermediate annotation tool strictly required?
  - Basis: Ablation study revealed raw schematics (Ablation 1) performed worse than no schematic (Ablation 2), as raw image acted as "adversarial attack."
  - Unresolved: Paper relies on external Image2Net tool, leaving VLM's inherent inability to parse circuit diagrams unaddressed.
  - Resolution evidence: VLM parsing complex netlists from raw images with accuracy comparable to Image2Net pipeline.

- **Open Question 3**: How does Image2Net annotation accuracy degrade when applied to significantly denser or irregularly drawn circuit schematics?
  - Basis: While successful on two amplifiers, Image2Net relies on YOLOv8-Pose and specific feature detection heuristics (Harris, Shi-Tomasi) which may be sensitive to drawing style variations.
  - Unresolved: Evaluation limited to specific topologies; robustness against dense industrial schematics or varying drawing standards is not quantified.
  - Resolution evidence: Benchmark results of Image2Net component detection precision/recall across diverse dataset of mixed-signal and RF schematics.

## Limitations
- VLM-CAD struggles with short-channel effects at advanced technology nodes (45nm), where long-channel heuristics fail due to velocity saturation
- Image2Net's annotation accuracy may degrade with non-standard component symbols or heavily annotated schematics
- The workflow's performance heavily depends on VLM training data and may not generalize across technology nodes without prompt engineering modifications

## Confidence

- **High Confidence**: Collaborative agent workflow architecture (5-phase structure), Universal Cost Function formulation, dual-granularity sensitivity analysis concept
- **Medium Confidence**: Image2Net component detection pipeline, ExTuRBO optimization mechanism with warm-start, overall workflow integration
- **Low Confidence**: Exact performance metrics on test circuits (particularly 45nm case), VLM agent prompt effectiveness across different technology nodes

## Next Checks

1. **Image2Net Ablation Study**: Run complete VLM-CAD pipeline on 180nm complementary input amplifier with and without Image2Net JSON annotations. Compare Phase E runtime and final Universal Cost to quantify structured schematic representation contribution. Expect ~3x runtime increase with raw schematic images only.

2. **45nm Technology Transfer Test**: Attempt two-stage Miller op-amp optimization with modified DC Goal Setter prompts explicitly mentioning short-channel effects and velocity saturation. Measure whether gain specification compliance improves from 0/3 to at least 1/3.

3. **Agent Prompt Schema Validation**: Test workflow with simplified agent prompt templates enforcing strict input/output schema compliance. Measure failure rates and optimization performance to identify if schema mismatches are significant failure mode.