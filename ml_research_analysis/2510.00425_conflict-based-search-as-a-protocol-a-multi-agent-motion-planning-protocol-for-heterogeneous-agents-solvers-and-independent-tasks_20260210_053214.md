---
ver: rpa2
title: 'Conflict-Based Search as a Protocol: A Multi-Agent Motion Planning Protocol
  for Heterogeneous Agents, Solvers, and Independent Tasks'
arxiv_id: '2510.00425'
source_url: https://arxiv.org/abs/2510.00425
tags:
- protocol
- planning
- constraints
- agents
- single-agent
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: "This paper introduces the CBS Protocol, which applies Conflict-Based\
  \ Search (CBS) to enable collision-free multi-agent motion planning with algorithmically\
  \ heterogeneous agents\u2014robots using different single-agent planners. The core\
  \ idea is to abstract each agent\u2019s motion planning into a plan() API that takes\
  \ space-time constraints and returns a path, volume, and cost."
---

# Conflict-Based Search as a Protocol: A Multi-Agent Motion Planning Protocol for Heterogeneous Agents, Solvers, and Independent Tasks

## Quick Facts
- arXiv ID: 2510.00425
- Source URL: https://arxiv.org/abs/2510.00425
- Reference count: 40
- Primary result: CBS Protocol solves 54% of conflict instances with heterogeneous agents using different planners

## Executive Summary
This paper introduces the CBS Protocol, which applies Conflict-Based Search (CBS) to enable collision-free multi-agent motion planning with algorithmically heterogeneous agentsâ€”robots using different single-agent planners. The core idea is to abstract each agent's motion planning into a `plan()` API that takes space-time constraints and returns a path, volume, and cost. CBS then centrally resolves collisions without needing access to internal solver logic. The protocol supports various planners (A*, RRT, optimization, diffusion, RL) and independent tasks (coverage, surveillance, start-goal). Experiments show CBS solving 54% of instances with conflicts across diverse settings, though success depends heavily on underlying solver performance. The approach bridges single-agent and multi-agent planning and opens new directions for heterogeneous robot coordination.

## Method Summary
The CBS Protocol implements a two-level planning architecture where a central coordinator manages a Constraint Tree (CT) to resolve inter-agent conflicts, while each agent exposes a `plan()` API for intra-agent path planning. The central planner detects collisions by checking space-time volume overlaps and generates mutually exclusive constraints. These constraints are passed to individual agents through the standardized API, which returns feasible paths satisfying the constraints. The protocol supports heterogeneous solvers (A*, RRT, optimization, diffusion, RL) and various task types by maintaining abstraction between the central coordination and agent-specific planning logic.

## Key Results
- CBS Protocol successfully solves 54% of instances with conflicts across heterogeneous agent configurations
- Success rate varies significantly with solver performance: individual API success rates range from 35% to 94%
- Protocol demonstrates ability to handle 2-10 agents with diverse footprints (circles, rectangles, triangles) on complex maps
- High root conflicts (>4) drastically reduce success rate to approximately 40%

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Centralized conflict resolution via a Constraint Tree (CT) decouples inter-agent coordination from intra-agent planning logic.
- Mechanism: The protocol uses a high-level search over a tree of "Constraint Nodes." When a collision is detected between agent volumes, the system branches the search by appending mutually exclusive space-time constraints to child nodes. This forces specific agents to avoid the collision region in subsequent iterations.
- Core assumption: Underlying single-agent solvers can find valid paths satisfying increasingly tight space-time constraints if such paths exist.
- Evidence anchors: [abstract] "CBS uses a central planner to find collision-free paths - independent of how the API is implemented." [Page 3] "CBS is a two-level heuristic search algorithm... generates two child CT nodes... with mutually disjunctive constraints."

### Mechanism 2
- Claim: A standardized `plan()` API enables "Algorithmic Heterogeneity" by abstracting solver implementation details behind a common interface.
- Mechanism: Each agent exposes `plan(constraints) -> (path, volume, cost)`. CBS treats these as black boxes, querying them with updated constraint lists. This allows mixing fundamentally different planners in the same fleet without central planner needing internal access.
- Core assumption: Internal solver can correctly interpret workspace-space-time constraints and that "experience" reuse is feasible to keep query times low.
- Evidence anchors: [abstract] "...abstract each agent's motion planning into a `plan()` API that takes space-time constraints and returns a path, volume, and cost." [Page 4] "CBS as a protocol solely requires each agent to have the ability to plan a path that satisfies the CT node's constraints."

### Mechanism 3
- Claim: Space-time volume constraints prevent "near-miss" loops in continuous planning where agents satisfy instantaneous point constraints but immediately recollide.
- Mechanism: Instead of forbidding a single point $(p, t)$, the protocol applies constraints over a duration and spatial volume $(p, t, t+\delta)$. This forces the low-level planner to make a meaningful deviation in space or time.
- Core assumption: Suitable constraint duration/volume size can be determined that balances strictness and feasibility.
- Evidence anchors: [abstract] "...returns a path, volume, and cost." [Page 5] "Constraints... should use constrain space-time volumes... that force meaningful changes in agents' paths."

## Foundational Learning

### Concept: Two-Level Planning (CBS)
- Why needed here: The protocol relies on separating "where" (high-level conflict search over constraints) from "how" (low-level single-agent path planning).
- Quick check question: Does the high-level search in CBS plan the actual trajectories for the agents?

### Concept: Space-Time Planning
- Why needed here: The API and collision detection operate in 4D (x, y, z, time). Understanding that a constraint blocks a specific volume of space at a specific time is crucial for implementing the `plan()` API correctly.
- Quick check question: If Agent A is at location X at t=5, and Agent B has a constraint to avoid location X at t=5, can Agent B be at location X at t=5.1?

### Concept: Heuristic Search / A*
- Why needed here: The paper uses A* as a baseline solver and the high-level CT search is a best-first search. Knowing how heuristics guide search helps in understanding why "experience" speeds up the process.
- Quick check question: In A*, what is the role of the heuristic function $h(n)$?

## Architecture Onboarding

- Component map: Central Coordinator -> Collision Detector -> Constraint Generator -> Agent APIs -> plan() -> (path, volume, cost) -> Collision Detector
- Critical path: The replanning loop: Pop CT Node -> Detect Collisions -> Generate Constraints -> Query Agent API -> Push new CT Nodes
- Design tradeoffs:
  - **Optimality vs. Speed**: Uses "Greedy" CBS variant prioritizing fewer conflicts rather than strict cost-based sorting to improve success rates within timeout
  - **Abstraction vs. Control**: Gains heterogeneity by hiding solver internals but loses ability to explicitly coordinate joint dynamics
- Failure signatures:
  - **High Root Conflicts**: Large number of initial conflicts (>4) drastically reduces success rate (down to ~40%)
  - **Solver Timeout**: Individual `plan()` calls taking >5s prevent CBS from exploring enough nodes within time limit
  - **Infeasibility**: API returns `None` for all child nodes, causing branch to die
- First 3 experiments:
  1. **Baseline Integration**: Implement `plan()` API for standard A* solver on empty map to verify CT expansion and collision detection logic
  2. **Heterogeneity Test**: Swap one agent's A* solver for RRT or RL solver to confirm protocol handles different `plan()` implementations
  3. **Stress Test**: Run protocol on "IN2D" maps to measure correlation between "Root Conflicts" and failure rate

## Open Questions the Paper Calls Out

### Open Question 1
- Question: Can mutually disjunctive constraints be designed for continuous space-time CBS that preserve both theoretical completeness and practical performance?
- Basis in paper: The authors state: "in continuous time planning, designing meaningful mutually disjunctive constraints for CBS is an unsolved question [35]. Thus, the CBS Protocol is not theoretically complete in the continuous space-time context."
- Why unresolved: Single-point constraints can be trivially satisfied by negligible deviations, and constraint volumes are not mutually disjunctive, breaking theoretical completeness proof.
- What evidence would resolve it: Formal constraint design guaranteeing mutual disjunction in continuous domains while forcing meaningful path changes, with proofs or empirical demonstration of completeness.

### Open Question 2
- Question: How can the CBS Protocol intelligently reason about heterogeneous API characteristics to improve performance?
- Basis in paper: The authors state: "Enabling the CBS Protocol to intelligently reason about this would likely boost performance" and note different APIs had success rates ranging from 35% to 94% with query times up to 10 seconds.
- Why unresolved: Current protocol treats all APIs uniformly without adapting constraint ordering, agent prioritization, or search strategy based on which agents have reliable or fast planners.
- What evidence would resolve it: Enhanced CBS Protocol that dynamically weights or reorders constraint resolution based on per-API performance profiles, demonstrating improved success rates.

### Open Question 3
- Question: Can modern CBS enhancements be integrated into the CBS Protocol without violating API abstraction?
- Basis in paper: The authors state: "We envision bringing more enhancements (e.g., better space-time constraints, an ECBS version [42], interleaving planning and execution [44]) as important steps for increasing the practicality of the CBS Protocol."
- Why unresolved: Many CBS enhancements require access to internal solver information that the protocol abstraction explicitly hides.
- What evidence would resolve it: Protocol extensions with new API requirements enabling enhancements while preserving heterogeneity, with empirical gains on AH-MAMP benchmarks.

### Open Question 4
- Question: What minimal API extensions enable interleaved planning and execution for the CBS Protocol?
- Basis in paper: The authors state interleaving "could also replace the need for a single long planning time in the beginning with interspersed planning throughout. Achieving this would likely require expanding the single-agent plan() API inputs."
- Why unresolved: Current protocol computes full-horizon paths before execution; real-time deployment requires partial-commitment execution with ongoing planning.
- What evidence would resolve it: Formalized extended API supporting partial paths and time-bounded replanning, demonstrated in simulated or real execution loops.

## Limitations
- Success rate highly sensitive to underlying solver performance, ranging from 35% to 94% across different APIs
- Constraint volume parameters (0.1m spatial, 2.5s temporal) appear somewhat arbitrary and not optimized for different agent dynamics
- Limited experimental validation of protocol's generality to independent tasks beyond start-goal planning

## Confidence
- **High Confidence**: Fundamental CBS algorithm structure and concept of using centralized constraint tree to resolve multi-agent conflicts
- **Medium Confidence**: Specific constraint volume parameters and their effectiveness in preventing near-miss loops
- **Medium Confidence**: Generalization to independent tasks (coverage, surveillance) beyond start-goal planning

## Next Checks
1. **Solver Performance Isolation**: Conduct experiments where central CBS coordinator uses fixed, high-performance solver for all agents, then gradually introduce heterogeneous solvers to quantify exact impact on success rate and node expansion count

2. **Constraint Parameter Sensitivity**: Systematically vary spatial (0.05m, 0.2m) and temporal (1s, 5s) constraint parameters across different agent speeds and map complexities to identify regimes where CBS Protocol succeeds or fails

3. **Task Type Validation**: Implement comprehensive test suite covering all claimed task types (start-goal, coverage, surveillance) with heterogeneous agents, measuring not just success rate but also solution quality (path length, coverage time) to validate protocol's generality