---
ver: rpa2
title: 'SAMSA: Segment Anything Model Enhanced with Spectral Angles for Hyperspectral
  Interactive Medical Image Segmentation'
arxiv_id: '2507.23673'
source_url: https://arxiv.org/abs/2507.23673
tags:
- spectral
- samsa
- segmentation
- image
- https
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces SAMSA, a novel interactive segmentation framework
  that combines the Segment Anything Model (SAM2) with spectral analysis techniques
  for hyperspectral medical image segmentation. The method addresses challenges in
  hyperspectral imaging (HSI) segmentation, including data limitations and hardware
  variations across different imaging systems.
---

# SAMSA: Segment Anything Model Enhanced with Spectral Angles for Hyperspectral Interactive Medical Image Segmentation

## Quick Facts
- **arXiv ID:** 2507.23673
- **Source URL:** https://arxiv.org/abs/2507.23673
- **Reference count:** 25
- **Primary result:** Novel interactive segmentation framework combining SAM2 with spectral angle measurements for hyperspectral medical imaging

## Executive Summary
SAMSA introduces a novel interactive segmentation framework that combines the Segment Anything Model (SAM2) with spectral analysis techniques for hyperspectral medical image segmentation. The method addresses key challenges in hyperspectral imaging (HSI) segmentation, including data limitations and hardware variations across different imaging systems. By leveraging user clicks to guide both RGB segmentation through SAM2 and spectral similarity computations using Spectral Angle (SA) measurements, SAMSA uniquely integrates spectral information directly into the upscaling process of SAM2's mask decoder.

The framework demonstrates significant effectiveness across multiple scenarios, achieving high DICE scores on neurosurgical and intraoperative porcine datasets. SAMSA's ability to seamlessly integrate datasets with different spectral characteristics and band counts makes it the first HSI machine learning framework that functions independently of spectral band count and wavelength variations. This flexibility allows combining heterogeneous HSI datasets into unified training approaches, addressing a key limitation in current HSI segmentation methods.

## Method Summary
SAMSA is an interactive segmentation framework that enhances the Segment Anything Model (SAM2) with spectral analysis for hyperspectral medical images. The method uses user-provided clicks as input, which simultaneously guide SAM2's RGB segmentation and spectral similarity computations using Spectral Angle measurements. A critical innovation is the integration of spectral information directly into the upscaling process of SAMSA's mask decoder, allowing it to leverage spectral characteristics invisible in pseudo RGB images while maintaining spatial precision. The framework is designed to handle datasets with varying spectral characteristics and band counts, enabling the combination of heterogeneous HSI datasets into unified training approaches. SAMSA demonstrates strong performance in both few-shot and zero-shot learning scenarios, maintaining high accuracy even with minimal training examples.

## Key Results
- Achieves 81.0% 1-click and 93.4% 5-click DICE on neurosurgical datasets
- Achieves 81.1% 1-click and 89.2% 5-click DICE on intraoperative porcine datasets
- Enables seamless integration of datasets with different spectral characteristics and band counts

## Why This Works (Mechanism)
SAMSA works by combining spatial and spectral information in a unified framework. The user clicks provide both spatial and spectral cues that are processed simultaneously. SAM2 handles the spatial segmentation in RGB space, while Spectral Angle measurements capture the spectral similarity information. By integrating spectral data directly into the mask decoder's upscaling process, SAMSA can leverage spectral characteristics that are invisible in the pseudo RGB images generated from hyperspectral data. This dual-modality approach allows the system to maintain spatial precision while incorporating rich spectral information, resulting in more accurate segmentation than either modality alone.

## Foundational Learning

**Hyperspectral Imaging (HSI):** Imaging technique capturing data across multiple spectral bands beyond visible light. *Why needed:* HSI provides rich spectral information for medical applications but creates challenges for standard segmentation methods. *Quick check:* Verify understanding of spectral bands vs. spatial resolution trade-offs.

**Spectral Angle (SA) Measurement:** Metric for comparing spectral similarity between pixels by measuring the angle between spectral vectors. *Why needed:* SA provides a hardware-independent way to measure spectral similarity across different imaging systems. *Quick check:* Confirm understanding of SA computation and its invariance to illumination changes.

**Few-shot Learning:** Machine learning approach that achieves good performance with minimal training examples. *Why needed:* Medical HSI datasets are typically small, making traditional deep learning approaches challenging. *Quick check:* Verify understanding of transfer learning principles in few-shot contexts.

**Interactive Segmentation:** Approach where user input guides the segmentation process in real-time. *Why needed:* Allows precise segmentation of complex structures with minimal user effort. *Quick check:* Confirm understanding of click-based interaction paradigms.

**Mask Decoder Upscaling:** Process of refining coarse segmentation masks into higher resolution outputs. *Why needed:* Essential for producing precise segmentation boundaries in medical imaging. *Quick check:* Verify understanding of multi-scale feature fusion in decoder architectures.

## Architecture Onboarding

**Component Map:** User Clicks -> SAM2 Spatial Encoder -> Spectral Angle Computation -> Mask Decoder Upscaling -> Segmentation Output

**Critical Path:** User clicks are the primary input that drives both SAM2's spatial processing and spectral angle computations. These two streams are then fused in the mask decoder's upscaling process, which produces the final segmentation output. The spectral information is integrated at the decoder stage rather than earlier in the network, allowing SAM2 to maintain its spatial processing strengths while adding spectral context.

**Design Tradeoffs:** The framework trades some computational complexity for improved spectral-spatial integration. By keeping SAM2's spatial processing intact and adding spectral processing at the decoder stage, the system maintains SAM2's spatial accuracy while incorporating spectral information. This design choice prioritizes precision over speed but enables better handling of heterogeneous datasets.

**Failure Signatures:** Poor performance may occur when spectral characteristics are highly similar between target and background classes, when user clicks provide insufficient spectral context, or when the spectral angle computation fails to capture relevant spectral differences due to hardware variations.

**3 First Experiments:**
1. Test SAMSA on a simple binary segmentation task with clearly distinct spectral signatures to verify basic functionality.
2. Evaluate SAMSA's performance with varying numbers of user clicks (1, 3, 5, 10) to understand the interaction efficiency.
3. Test SAMSA on datasets with different spectral band counts to verify its hardware-independent capabilities.

## Open Questions the Paper Calls Out

The paper does not explicitly call out specific open questions, but the research suggests several implicit areas for future investigation, including extending SAMSA to non-medical hyperspectral applications, exploring different spectral similarity metrics beyond Spectral Angle, and investigating the framework's performance with extremely large numbers of spectral bands.

## Limitations

- Limited validation to neurosurgical and porcine applications, raising questions about generalizability to other medical domains
- Reliance on SAM2 introduces potential performance constraints given its original design for RGB rather than hyperspectral data
- Lack of comprehensive testing across a broader range of few-shot scenarios despite claims of effectiveness with minimal training examples

## Confidence

**High Confidence:**
- Framework's ability to integrate heterogeneous HSI datasets
- Maintaining segmentation accuracy across different spectral characteristics
- Strong DICE scores on validated datasets

**Medium Confidence:**
- Superiority over existing HSI segmentation methods
- Robustness to hardware variations and spectral differences
- Effectiveness in few-shot learning scenarios

**Low Confidence:**
- Universal applicability across all hyperspectral imaging domains
- Performance with extreme spectral variations
- Long-term generalization to unseen spectral characteristics

## Next Checks

1. Test SAMSA on hyperspectral datasets from diverse medical and non-medical domains (e.g., remote sensing, industrial inspection) to assess generalizability.

2. Conduct ablation studies to quantify the individual contributions of spectral angle measurements versus SAM2's spatial segmentation to overall performance.

3. Evaluate SAMSA's performance with extreme spectral variations, such as datasets with significantly different band counts or wavelength ranges, to confirm robustness claims.