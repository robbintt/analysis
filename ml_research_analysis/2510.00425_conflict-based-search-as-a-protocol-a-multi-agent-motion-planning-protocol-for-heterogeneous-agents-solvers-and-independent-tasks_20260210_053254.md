---
ver: rpa2
title: 'Conflict-Based Search as a Protocol: A Multi-Agent Motion Planning Protocol
  for Heterogeneous Agents, Solvers, and Independent Tasks'
arxiv_id: '2510.00425'
source_url: https://arxiv.org/abs/2510.00425
tags:
- protocol
- planning
- constraints
- agents
- single-agent
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: "This paper introduces the CBS Protocol, which applies Conflict-Based\
  \ Search (CBS) to enable collision-free multi-agent motion planning with algorithmically\
  \ heterogeneous agents\u2014robots using different single-agent planners. The core\
  \ idea is to abstract each agent\u2019s motion planning into a plan() API that takes\
  \ space-time constraints and returns a path, volume, and cost."
---

# Conflict-Based Search as a Protocol: A Multi-Agent Motion Planning Protocol for Heterogeneous Agents, Solvers, and Independent Tasks

## Quick Facts
- arXiv ID: 2510.00425
- Source URL: https://arxiv.org/abs/2510.00425
- Reference count: 40
- Primary result: CBS Protocol achieves 54% success rate in coordinating algorithmically heterogeneous agents using diverse single-agent planners (A*, RRT, optimization, diffusion, RL).

## Executive Summary
This paper introduces the CBS Protocol, which applies Conflict-Based Search (CBS) to enable collision-free multi-agent motion planning with algorithmically heterogeneous agents—robots using different single-agent planners. The core idea is to abstract each agent's motion planning into a `plan()` API that takes space-time constraints and returns a path, volume, and cost. CBS then centrally resolves collisions without needing access to internal solver logic. The protocol supports various planners (A*, RRT, optimization, diffusion, RL) and independent tasks (coverage, surveillance, start-goal). Experiments show CBS solving 54% of instances with conflicts across diverse settings, though success depends heavily on underlying solver performance. The approach bridges single-agent and multi-agent planning and opens new directions for heterogeneous robot coordination.

## Method Summary
The CBS Protocol implements a two-level search where a central planner maintains a Constraint Tree (CT) of candidate solutions. Each CT node contains a set of space-time constraints and corresponding agent paths that satisfy them. When collisions are detected between agents' occupied space-time volumes, the protocol generates child nodes with mutually disjunctive constraints—each child forces one conflicting agent to avoid a specific space-time volume. Only the constrained agent needs replanning, keeping other agents' paths fixed. The protocol requires each agent to implement a plan() API: given a list of constraints, return a path, its occupied space-time volume, and cost (or None if no solution exists). Five heterogeneous solvers were tested: A*, RRT, trajectory optimization (Collocation), diffusion models, and RL. Experiments used 675 instances across five maps with 2-10 agents having diverse dynamics and footprints.

## Key Results
- CBS Protocol achieved 54% success rate in solving multi-agent motion planning instances with conflicts
- Single-agent solvers showed wide variation in constraint satisfaction: A* and RRT succeeded 75-100% of the time, while RL achieved 35% and trajectory optimization 46%
- Experience reuse reduced median API query times by 10-300% (20x for trajectory optimization)
- Success depended heavily on underlying solver performance, with CBS failing when solvers couldn't find constraint-satisfying paths

## Why This Works (Mechanism)

### Mechanism 1
The CBS Protocol resolves inter-agent collisions by searching over a tree of constraint assignments rather than jointly optimizing over all agents. A central planner maintains a Constraint Tree (CT) where each node represents a candidate solution. When collisions are detected between agents, the protocol generates child nodes with mutually disjunctive space-time constraints—each child forces one conflicting agent to avoid a specific space-time volume. Only the constrained agent needs replanning, keeping other agents' paths fixed. This decomposition converts an intractable joint planning problem into a series of single-agent queries.

### Mechanism 2
The plan() API abstraction enables algorithmic heterogeneity by treating single-agent solvers as black boxes. Each agent exposes a plan() function with inputs (list of space-time constraints) and outputs (path, space-time volume, cost). The CBS Protocol never accesses solver internals—it only queries this API and performs collision detection on returned volumes. This allows A*, RRT, optimization, diffusion, and RL solvers to coexist in the same multi-agent system.

### Mechanism 3
Reusing experience from prior plan() calls accelerates CBS iterations by warm-starting replanning. CBS repeatedly queries the same agent API with incrementally modified constraints. Solvers can cache previous solutions and reuse valid portions—for example, A* can store solution path nodes, RRT can prune and reuse the tree, optimization can warm-start from previous solutions, and RL can cache solutions up to the earliest violated constraint.

## Foundational Learning

- **Concept**: Conflict-Based Search (CBS) two-level architecture
  - Why needed here: The entire protocol is built on CBS's constraint tree search. Without understanding CT nodes, successor generation via constraints, and best-first search, the protocol mechanics are opaque.
  - Quick check question: Given two agents colliding at position p at time t, what two child CT nodes would CBS generate?

- **Concept**: Space-time collision detection and volume representation
  - Why needed here: The protocol requires agents to return their occupied space-time volumes, and collision detection operates on these volumes. Understanding continuous vs. discrete time collision checking and compact volume representations (path + footprint) is essential.
  - Quick check question: If an agent returns a path as a sequence of (x, y, θ, t) states and has a rectangular footprint, how would you compute its occupied space-time volume?

- **Concept**: Single-agent motion planning paradigms (search, sampling, optimization, learning)
  - Why needed here: The protocol coordinates heterogeneous solvers, so understanding how A*, RRT, trajectory optimization, diffusion models, and RL policies work—and their limitations—helps predict where CBS will struggle.
  - Quick check question: Which of these solvers is inherently incomplete (may fail to find solutions even when they exist), and why might that matter for CBS?

## Architecture Onboarding

- **Component map**:
  - Central CBS Planner -> Collision Detector -> Constraint Generator -> Agent APIs (A*, RRT, Collocation, Diffusion, RL) -> Experience Cache (optional)

- **Critical path**:
  1. Root node generation: Query all agent APIs without constraints → detect initial conflicts
  2. CT node expansion: Pop lowest-cost node, detect conflicts
  3. Constraint generation: For first conflict, create (agent_id, p₀, t₀, δ) constraints blocking space-time volumes
  4. Replanning: Query constrained agent's API with updated constraint list
  5. Loop until conflict-free or timeout

- **Design tradeoffs**:
  - Constraint duration (δ): Larger values force more meaningful path changes but may over-constrain and reduce solution existence; paper used δ=2.5s semi-arbitrarily
  - CT node priority: Cost-based (optimal but slower) vs. conflict-count-based (greedy, faster but suboptimal); paper used greedy variant prioritizing fewer conflicts
  - API timeout: Longer timeouts increase per-node success rates but limit CT nodes explored within overall budget (paper: 5-10s per query, 120s total)

- **Failure signatures**:
  - High root conflicts + slow APIs → timeout before exploring enough CT nodes
  - Low single-agent constraint-satisfaction rate (e.g., RL at 35%) → many child nodes skipped, search stalls
  - Overly tight constraints (small δ) → near-identical replanned paths, same collision recurs at slightly offset time
  - Inaccurate space-time volumes → undetected collisions or false positives

- **First 3 experiments**:
  1. Homogeneous grid-world validation: Implement 2-3 agents with simple A* on a grid, verify CBS finds collision-free paths and CT search terminates correctly. This isolates the CBS logic from API complexity.
  2. Heterogeneous solver integration: Add one RRT agent and one optimization agent, test on a simple 2D map. Measure per-query times and success rates under constraints to identify bottlenecks.
  3. Stress test with increasing conflicts: Systematically increase the number of root conflicts (by choosing start-goal pairs that cross) and plot CT nodes explored vs. success rate. Compare against the paper's 54% success rate baseline.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How can mutually disjunctive constraints be designed for continuous space-time planning to ensure the theoretical completeness of the CBS Protocol?
- Basis in paper: The authors state: "In continuous time planning, designing meaningful mutually disjunctive constraints for CBS is an unsolved question [35]."
- Why unresolved: Current constraints used in the protocol (space-time volumes) are not mutually disjunctive, meaning the protocol lacks theoretical completeness in continuous settings, though it remains practical.
- What evidence would resolve it: A formal constraint formulation for continuous space-time that guarantees mutual disjunctiveness, or a proof of completeness for the protocol under a new continuous constraint model.

### Open Question 2
- Question: How can the high-level CBS search be modified to intelligently reason about and leverage the varying success rates and computational costs of heterogeneous single-agent APIs?
- Basis in paper: The authors note that "the use of heterogeneous plan() APIs opens up interesting questions on how to best leverage their strengths and weaknesses," specifically suggesting that reasoning about API performance would boost results.
- Why unresolved: The current protocol treats all APIs uniformly (simple best-first search on conflict count), ignoring the fact that some solvers (like RL or Collocation) may have lower success rates or higher latency than others (like A*).
- What evidence would resolve it: An adaptive search strategy that prioritizes splitting conflicts involving agents with fast/reliable APIs, or weights the CT node cost function based on the historical reliability of the associated solvers.

### Open Question 3
- Question: How can single-agent solvers be optimized to specifically exploit the structure of space-time constraints used in the CBS Protocol?
- Basis in paper: The authors posit that "space-time constraints are a special subcategory of 'dynamic' obstacles whose structure could be exploited for efficient planning."
- Why unresolved: The tested solvers generally treat constraints as generic validity checks. They do not currently utilize the specific spatio-temporal structure of the constraints (which are often just "avoid this small region at this specific time") to speed up the search or optimization process.
- What evidence would resolve it: A specialized single-agent planner that uses the temporal structure of constraints to prune the search space more aggressively than a generic validity checker, resulting in reduced query times.

## Limitations
- The protocol's success heavily depends on single-agent solver performance under constraints, with RL (35%) and Collocation (46%) solvers frequently failing to find constraint-satisfying paths
- Constraint design parameters (spatial size 0.1m, temporal duration 2.5s) were chosen semi-arbitrarily and may not generalize across different agent dynamics and problem scales
- No empirical validation that heterogeneous solvers (e.g., RRT + RL + optimization) can work together in practice, particularly for corner cases where solvers interpret constraints differently

## Confidence
- **High confidence**: CBS as a protocol for homogeneous agent sets with reliable solvers (A*, RRT). The mechanism of constraint tree search with replanning is well-established.
- **Medium confidence**: CBS Protocol's ability to coordinate heterogeneous solvers in practice. While the abstraction is sound, empirical validation is limited to specific solver combinations and map configurations.
- **Medium confidence**: Experience reuse benefits. The 10-300% per-query speedup is demonstrated, but its impact on overall CBS performance and generalizability to different solver types remains unclear.

## Next Checks
1. **Solver heterogeneity stress test**: Implement the CBS Protocol with three heterogeneous solvers (e.g., A*, RL, and optimization) on a simple 2D map. Systematically vary constraint difficulty and measure: (a) constraint satisfaction rates per solver, (b) CBS success rate, and (c) whether inconsistent constraint interpretations cause collisions.

2. **Constraint parameter sensitivity analysis**: Using the same heterogeneous solver setup, sweep the spatial (0.05-0.5m) and temporal (1-5s) constraint parameters. Plot CBS success rate and CT nodes explored against constraint size to identify optimal values and robustness boundaries.

3. **Incomplete solver bottleneck validation**: Run CBS with increasingly difficult constraint scenarios where one solver (e.g., RL) is known to fail frequently. Measure the correlation between that solver's constraint satisfaction rate and overall CBS success rate to quantify the bottleneck effect.