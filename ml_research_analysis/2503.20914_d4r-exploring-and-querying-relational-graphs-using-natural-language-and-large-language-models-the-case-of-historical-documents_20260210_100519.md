---
ver: rpa2
title: D4R -- Exploring and Querying Relational Graphs Using Natural Language and
  Large Language Models -- the Case of Historical Documents
arxiv_id: '2503.20914'
source_url: https://arxiv.org/abs/2503.20914
tags:
- language
- historical
- relationships
- natural
- data
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: D4R enables non-technical users to explore relational graphs extracted
  from historical texts through natural language queries translated into Cypher by
  an LLM. The system combines a Neo4j graph database with a user-friendly interface,
  supporting both novice and expert modes.
---

# D4R -- Exploring and Querying Relational Graphs Using Natural Language and Large Language Models -- the Case of Historical Documents

## Quick Facts
- arXiv ID: 2503.20914
- Source URL: https://arxiv.org/abs/2503.20914
- Reference count: 6
- Enables non-technical users to explore relational graphs from historical texts through natural language queries translated into Cypher

## Executive Summary
D4R is a system that allows non-technical users to explore relational graphs extracted from historical documents using natural language queries. The system translates natural language questions into Cypher queries using an LLM, enabling users to interact with Neo4j graph databases without requiring technical expertise. The platform supports both novice and expert modes, making it accessible to historians and researchers while providing advanced capabilities for experienced users. The system was evaluated using a Spanish Inquisition trial dataset and demonstrated adaptability to other domains through testing with the CoNLL04 news dataset.

## Method Summary
D4R combines a Neo4j graph database with a user-friendly interface that supports natural language query translation through an LLM. The system extracts named entities and relationships from historical texts, creating a relational graph structure that can be queried using either natural language or traditional Cypher syntax. The platform processes historical documents to identify key entities and their relationships, storing them in a graph database. Users can then explore this graph through an intuitive interface that handles the translation between natural language questions and database queries, maintaining traceability to original sources.

## Key Results
- Successfully extracts and represents named entities and relationships from Spanish Inquisition trial documents
- Supports both novice (natural language) and expert (Cypher) modes of interaction
- Demonstrated flexibility by processing CoNLL04 news dataset beyond historical documents
- Enables historians to incrementally explore and validate research hypotheses

## Why This Works (Mechanism)
D4R works by leveraging LLMs to bridge the gap between natural language queries and graph database operations. The LLM translates user questions into Cypher queries, which are then executed against a Neo4j database containing the extracted relationships. This approach eliminates the need for users to learn complex query languages while maintaining the power and flexibility of graph-based exploration. The system's dual-mode interface accommodates users with varying technical expertise, while the underlying graph structure preserves the contextual relationships essential for historical analysis.

## Foundational Learning
- Graph databases (Neo4j): Essential for storing and querying relationship-rich historical data; quick check: verify basic Cypher query execution
- Named entity recognition: Critical for extracting historical actors and events from text; quick check: test entity extraction accuracy on sample documents
- Natural language processing: Required for understanding and translating user queries; quick check: validate query translation accuracy
- LLM integration: Enables sophisticated query translation; quick check: test translation of complex multi-step queries
- Historical document analysis: Provides domain context for entity and relationship extraction; quick check: verify relevance of extracted entities to historical research questions

## Architecture Onboarding

**Component Map:**
Natural Language Input -> LLM Query Translator -> Cypher Query Generator -> Neo4j Database -> Result Visualizer -> User Interface

**Critical Path:**
User question → LLM translation → Cypher execution → Graph traversal → Result presentation

**Design Tradeoffs:**
- Accuracy vs. query complexity: LLM translations may struggle with highly complex queries
- Speed vs. comprehensiveness: Graph exploration may be slower for large datasets
- User simplicity vs. query power: Natural language limits available query operations

**Failure Signatures:**
- Incorrect query results: LLM translation errors or entity recognition failures
- Slow response times: Graph database performance issues with large datasets
- Missing entities: Named entity recognition model limitations

**First 3 Experiments:**
1. Test basic entity extraction from sample historical documents
2. Verify natural language to Cypher translation for simple queries
3. Evaluate graph traversal and relationship visualization

## Open Questions the Paper Calls Out
None

## Limitations
- Dependency on LLM-generated Cypher queries may introduce errors in complex scenarios
- Limited evaluation on modest graph size (600 nodes, 3,000 relationships)
- Insufficient detail on expert mode capabilities beyond basic Cypher editing

## Confidence

**High confidence:** Core architecture (Neo4j + LLM query translation + dual-interface design) is technically sound

**Medium confidence:** Effectiveness for historical research hypothesis generation relies on qualitative assessment

**Medium confidence:** Cross-domain adaptability demonstrated through brief CoNLL04 dataset testing

## Next Checks
1. Conduct stress testing with graphs containing 10,000+ nodes and 50,000+ relationships
2. Implement blind testing with historians using real research questions
3. Perform A/B testing comparing D4R against existing graph query tools in both novice and expert modes