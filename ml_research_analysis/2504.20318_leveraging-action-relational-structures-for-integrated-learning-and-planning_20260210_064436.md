---
ver: rpa2
title: Leveraging Action Relational Structures for Integrated Learning and Planning
arxiv_id: '2504.20318'
source_url: https://arxiv.org/abs/2504.20318
tags:
- search
- action
- heuristics
- state
- planning
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces partial-space search, a novel search space
  for classical planning that leverages the relational structure of PDDL action schemas.
  Unlike traditional state-space search, partial-space search explores the hierarchy
  of partially instantiated actions, allowing earlier pruning of poor actions and
  reducing branching factors.
---

# Leveraging Action Relational Structures for Integrated Learning and Planning

## Quick Facts
- arXiv ID: 2504.20318
- Source URL: https://arxiv.org/abs/2504.20318
- Reference count: 10
- Key outcome: Introduces partial-space search that outperforms state-of-the-art ML-based heuristics on IPC 2023 learning track benchmarks

## Executive Summary
This paper presents a novel approach to classical planning by introducing partial-space search, which leverages the relational structure of PDDL action schemas to reduce branching factors and improve search efficiency. Unlike traditional state-space search, partial-space search explores partially instantiated actions hierarchically, allowing earlier pruning of poor actions. The authors propose action set heuristics that evaluate sets of actions rather than individual actions, and demonstrate how to convert existing heuristics into this form while also introducing novel graph representations for learning action set heuristics from scratch. The resulting planner, LazyLifted, outperforms the state-of-the-art ML-based heuristic on IPC 2023 learning track benchmarks and surpasses LAMA on combined benchmarks.

## Method Summary
The paper introduces partial-space search as an alternative to traditional state-space search in classical planning. This approach explores the hierarchy of partially instantiated actions rather than fully grounded actions, reducing the branching factor by considering action schemas at different levels of instantiation. To guide this search, the authors propose action set heuristics that evaluate sets of actions in a state rather than individual actions. They show how to convert existing state-based heuristics into action set heuristics and introduce novel graph representations for learning action set heuristics from scratch. The LazyLifted planner integrates these components, using learned action set heuristics to guide partial-space search through a combination of learned guidance and traditional heuristic evaluation.

## Key Results
- LazyLifted outperforms the state-of-the-art ML-based heuristic on IPC 2023 learning track benchmarks
- LazyLifted surpasses LAMA on combined IPC 2023 learning track and high-branching factor benchmarks
- Partial-space search demonstrates reduced branching factors compared to traditional state-space search approaches

## Why This Works (Mechanism)
The core mechanism works by shifting from state-space to partial-space search, which exploits the hierarchical structure of action schemas in PDDL. By exploring partially instantiated actions, the search can prune poor actions earlier in the process, reducing the effective branching factor. Action set heuristics evaluate sets of actions simultaneously rather than individual actions, capturing relational dependencies that would be missed by state-based heuristics. The graph representations for learning action set heuristics encode the relational structure of actions and their interactions with states, enabling more effective learning of heuristic values.

## Foundational Learning
- **Classical Planning and PDDL**: Understanding of planning domains represented in PDDL and the distinction between action schemas and grounded actions is essential for grasping why partial-space search is advantageous.
- **Heuristic Search**: Familiarity with how heuristics guide search in classical planning, including the difference between state-based and action-based heuristics, is necessary to understand the proposed action set heuristics.
- **Relational Structure in Planning**: Knowledge of how actions and states relate through variables and parameters in PDDL is crucial for understanding the graph representations used for learning action set heuristics.

## Architecture Onboarding
**Component Map**: PDDL Domain -> Action Schemas -> Partial-Space Search -> Action Set Heuristics -> LazyLifted Planner

**Critical Path**: The planner first parses the PDDL domain to extract action schemas, then performs partial-space search guided by action set heuristics. The heuristics are computed using either converted existing heuristics or learned graph representations, with lazy evaluation ensuring efficiency.

**Design Tradeoffs**: The choice between partial-space and state-space search involves balancing reduced branching factors against potentially more complex heuristic computation. Action set heuristics capture relational dependencies but require more sophisticated computation than state-based heuristics.

**Failure Signatures**: Poor performance may occur when action schemas have very few parameters (limiting partial-space benefits) or when the learned heuristics fail to generalize across different states due to insufficient training data.

**3 First Experiments**: 
1. Test LazyLifted on a simple domain with clear relational structure to verify basic functionality
2. Compare partial-space search performance against state-space search on a domain with high branching factors
3. Evaluate the conversion of a simple state-based heuristic to an action set heuristic on a toy problem

## Open Questions the Paper Calls Out
The paper does not explicitly call out specific open questions, focusing instead on demonstrating the effectiveness of the proposed approach.

## Limitations
- Evaluation primarily focuses on IPC 2023 benchmarks, which may not represent the full diversity of planning domains
- The generalizability of results to domains with high numerical complexity and non-linear constraints is not thoroughly explored
- Scalability of graph representations for learning action set heuristics in larger, more complex domains requires further investigation

## Confidence
- **High**: The core concept of partial-space search and its potential benefits in reducing branching factors
- **Medium**: The effectiveness of action set heuristics and their conversion from existing heuristics
- **Low**: The generalizability of results across diverse planning domains and the scalability of graph representations

## Next Checks
1. Evaluate LazyLifted on a broader range of planning domains, including those with high numerical complexity and non-linear constraints
2. Conduct scalability tests to assess the performance of LazyLifted on larger instances and compare its efficiency with existing planners
3. Investigate the robustness of the graph representations by testing them on domains with varying action structures and relational complexities