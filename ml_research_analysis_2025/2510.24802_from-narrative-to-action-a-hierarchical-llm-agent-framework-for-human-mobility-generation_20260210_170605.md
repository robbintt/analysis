---
ver: rpa2
title: 'From Narrative to Action: A Hierarchical LLM-Agent Framework for Human Mobility
  Generation'
arxiv_id: '2510.24802'
source_url: https://arxiv.org/abs/2510.24802
tags:
- mobility
- activity
- narrative
- human
- agent
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces a hierarchical LLM-agent framework for human
  mobility simulation that integrates high-level narrative reasoning, mid-level reflective
  planning, and low-level behavioral execution. The system generates synthetic trajectories
  by first producing diary-style narratives from personal profiles, then parsing these
  into structured activity plans, and finally executing them adaptively using an occupation-aware
  rethinking mechanism called Mobility Entropy by Occupation (MEO).
---

# From Narrative to Action: A Hierarchical LLM-Agent Framework for Human Mobility Generation

## Quick Facts
- arXiv ID: 2510.24802
- Source URL: https://arxiv.org/abs/2510.24802
- Authors: Qiumeng Li; Chunhou Ji; Xinyue Liu
- Reference count: 23
- Primary result: Achieves 0.672 composite score on Jensen-Shannon Divergence for intention sequences, locations, travel modes, and turning radius

## Executive Summary
This paper presents a hierarchical LLM-agent framework that generates synthetic human mobility trajectories by integrating narrative reasoning, reflective planning, and behavioral execution. The system takes personal profiles as input and produces diary-style narratives, which are then parsed into structured activity plans. These plans are executed adaptively using an occupation-aware rethinking mechanism called Mobility Entropy by Occupation (MEO). The framework achieves high fidelity with real-world mobility patterns and produces interpretable representations of human decision logic, advancing mobility simulation from data-driven to cognition-driven modeling.

## Method Summary
The framework operates through three hierarchical layers: a narrative generation layer that produces diary-style text from personal profiles using LLM-based agents; a parsing and planning layer that extracts structured activity sequences and travel modes from the narrative; and an execution layer that simulates trajectories with adaptive route planning and time adjustment. The MEO mechanism introduces occupation-specific flexibility thresholds (e.g., 0.30 for factory workers, 0.70 for business owners) to determine when agents should stick to plans versus rethink them in response to constraints. Validation uses the China Travel Survey dataset from Guangzhou, comparing generated trajectories against real data using Jensen-Shannon Divergence across four dimensions: intention sequences, visited locations, travel modes, and turning radius.

## Key Results
- Achieved a composite score of 0.672 on Jensen-Shannon Divergence evaluation
- Ablation studies show narrative-to-parsing approach improves location fidelity by 17.3%
- MEO-driven reflective mechanism increases behavioral diversity by 23.8%
- Framework generates interpretable representations of human decision logic

## Why This Works (Mechanism)
The framework works by mimicking human cognitive processes through a hierarchical structure. High-level narrative reasoning allows agents to construct coherent daily plans by considering context and constraints. Mid-level reflective planning enables adaptive decision-making when plans encounter conflicts or unexpected changes. Low-level behavioral execution translates abstract plans into concrete trajectories using route planning and mode selection. The MEO mechanism captures occupation-specific flexibility patterns, allowing different agent types to respond appropriately to disruptions. This cognitive modeling approach produces trajectories that better match real-world patterns than traditional data-driven methods.

## Foundational Learning
- **Jensen-Shannon Divergence**: Measures similarity between probability distributions; needed to quantify how closely generated trajectories match real-world patterns across multiple dimensions
- **Mobility Entropy by Occupation (MEO)**: Quantifies schedule flexibility by occupation type; needed to model realistic adaptation behaviors for different agent profiles
- **Hierarchical reasoning**: Decomposes complex decision-making into narrative generation, plan parsing, and execution; needed to mirror human cognitive processes
- **LLM-based narrative generation**: Transforms structured profiles into natural language diaries; needed to create interpretable and coherent activity plans
- **Trajectory parsing**: Extracts spatial-temporal information from narratives; needed to convert qualitative descriptions into quantitative movement data
- **Adaptive route planning**: Dynamically adjusts paths based on constraints; needed to simulate realistic responses to real-world obstacles

## Architecture Onboarding

### Component Map
Personal Profile -> Narrative Generation -> Plan Parsing -> Route Planning -> Trajectory Execution -> Evaluation Metrics

### Critical Path
The critical path flows from personal profile through narrative generation to plan parsing, then to route planning and trajectory execution. The MEO mechanism operates as a feedback loop within the execution phase, triggering re-planning when schedule flexibility thresholds are exceeded.

### Design Tradeoffs
The framework prioritizes interpretability and cognitive realism over pure computational efficiency. Using narrative generation creates interpretable decision traces but adds computational overhead compared to direct sampling methods. The unified GLM-4 Flash backbone balances cost and performance but may limit the diversity of reasoning patterns compared to specialized models for different tasks.

### Failure Signatures
- Low JSD scores across multiple metrics indicate poor alignment with real-world patterns
- Excessive plan revisions suggest MEO thresholds are too restrictive or narrative generation produces unrealistic plans
- Unrealistic turning radii or travel modes indicate issues in the execution layer's constraint handling
- Narrative incoherence suggests problems in the initial profile-to-narrative transformation

### First Experiments
1. Generate trajectories for a single agent type (e.g., students) and compare location visitation patterns against ground truth
2. Test MEO sensitivity by varying flexibility thresholds across occupation types and measuring impact on behavioral diversity
3. Validate narrative parsing accuracy by having humans rate coherence between generated narratives and extracted activity sequences

## Open Questions the Paper Calls Out
### Open Question 1
- Question: Can the hierarchical LLM-agent framework generalize to cities with different urban forms, cultural norms, and mobility patterns beyond Guangzhou?
- Basis in paper: Authors state "the dataset used for constructing personal profiles and for validation is from a specific area and is relatively limited in scale, which may affect the generalizability of the results. Future work should focus on validating and extending this framework with more diverse datasets from different cultural backgrounds and city sizes."
- Why unresolved: The current study validates only on ~2000 records from seven residential communities in the Tangxia area of Guangzhou (2018â€“2019).
- What evidence would resolve it: Replication studies applying the framework to mobility datasets from diverse cities (e.g., North American, European) with different built environments and cultural travel behaviors, showing comparable JSD scores.

### Open Question 2
- Question: How would incorporating explicit social network structures (family, colleagues, friends) affect the fidelity of group-level mobility patterns in the simulation?
- Basis in paper: Authors note "the agent interaction mechanisms in the current model are simplified and do not fully capture complex social network dependencies. Future research could incorporate social network structures, such as family and colleague relationships, to simulate more realistic group co-decision-making."
- Why unresolved: Current framework treats agents as independent decision-makers without modeling inter-agent coordination or shared activity scheduling.
- What evidence would resolve it: Extended framework experiments with relational ties, comparing generated joint activity patterns (e.g., household trips) against real-world co-mobility data.

### Open Question 3
- Question: Can smaller, locally deployable language models achieve comparable behavioral realism while reducing computational costs for city-scale simulations?
- Basis in paper: Authors identify "an important future direction is to explore the use of smaller, locally deployable, and specialized language models to further enhance simulation scalability and reduce costs while maintaining behavioral realism."
- Why unresolved: The study uses GLM-4 Flash as a unified backbone for cost and concurrency but does not benchmark against smaller or specialized models.
- What evidence would resolve it: Systematic comparison of framework performance (Final Score, JSD metrics) across varying model sizes and architectures on the same mobility generation task.

### Open Question 4
- Question: Are the occupation-specific MEO values empirically grounded, and how sensitive is framework performance to their calibration?
- Basis in paper: MEO values (e.g., 0.30 for factory workers, 0.70 for business owners) are assigned based on "domain knowledge and observed flexibility patterns" rather than quantitatively derived from behavioral data.
- Why unresolved: The paper provides no sensitivity analysis on how different MEO parameterizations affect trajectory fidelity or agent-level behavioral diversity.
- What evidence would resolve it: Empirical estimation of schedule flexibility from longitudinal diary data across occupations, plus ablation experiments varying MEO values to measure impact on evaluation metrics.

## Limitations
- Validation dataset covers only Beijing, Shanghai, and Guangzhou with small sample sizes per city
- Evaluation relies on a composite metric based on internal similarity measures and small-scale qualitative feedback (6 participants)
- Jensen-Shannon Divergence may not fully capture the richness of human mobility dynamics
- Occupation-specific MEO values are assigned based on domain knowledge rather than empirical behavioral data

## Confidence
- Hierarchical framework architecture and workflow: High
- Narrative generation and parsing approach: Medium
- MEO-driven reflective mechanism: Medium
- Evaluation metrics and results: Low
- Interpretability and cognitive modeling claims: Low

## Next Checks
1. Conduct cross-validation with independent mobility datasets from multiple countries and urban/rural contexts to test generalizability
2. Implement blind comparison studies where human experts evaluate synthetic vs. real trajectories without knowing which is which
3. Develop and validate quantitative metrics specifically designed to measure narrative coherence and cognitive plausibility of generated trajectories