---
ver: rpa2
title: Towards Generating Controllable and Solvable Geometry Problem by Leveraging
  Symbolic Deduction Engine
arxiv_id: '2506.02565'
source_url: https://arxiv.org/abs/2506.02565
tags:
- problem
- problems
- knowledge
- geometry
- points
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper introduces a novel task for generating high-quality,
  solvable geometry problems with controllable knowledge points and difficulty levels.
  The proposed Symbolic Deduction Engine-based Geometry Problem Generation framework
  (SDE-GPG) leverages a symbolic deduction engine and a knowledge point-to-extended
  definition mapping table to generate problems that are both readable and solvable.
---

# Towards Generating Controllable and Solvable Geometry Problem by Leveraging Symbolic Deduction Engine

## Quick Facts
- arXiv ID: 2506.02565
- Source URL: https://arxiv.org/abs/2506.02565
- Reference count: 40
- The framework achieves near-perfect solvability (1.00 on JGEX-AG-231) and high controllability scores (CKP: 0.62, CD: 0.63) through symbolic deduction engine-based generation

## Executive Summary
This paper introduces a novel framework for generating high-quality geometry problems with controllable knowledge points and difficulty levels. The Symbolic Deduction Engine-based Geometry Problem Generation (SDE-GPG) framework leverages a knowledge point-to-extended definition mapping table and a symbolic deduction engine to generate problems that are both readable and solvable. The approach ensures proper correlation between knowledge points and definitions, avoiding inherent biases in translation. Human evaluation demonstrates significant improvements over baseline methods like GPT-4o, achieving near-perfect solvability and high controllability scores across two datasets.

## Method Summary
The SDE-GPG framework operates in three phases: offline construction of a knowledge point-to-extended definition mapping table (K2exD-MT) through 100,000 iterations of definition sampling and symbolic deduction; online generation using lookup, sampling, symbolic deduction, qualification checking, and template-based translation; and output rendering of textual problems, diagrams, and reasoning paths. The system uses predefined templates to translate formal language to natural language and integrates with AlphaGeometry's symbolic deduction engine for logical validity checking.

## Key Results
- Achieves near-perfect native solvability (1.00) on JGEX-AG-231 dataset compared to 0.72 baseline
- High controllability scores: CKP 0.62 and CD 0.63 versus baseline 0.53 and 0.44
- Significant improvements across readability metrics (Grammatical Fluency, Logical Correctness, Diagram Correctness) on 1-5 scale

## Why This Works (Mechanism)

### Mechanism 1
Pre-computing K2exD-MT mapping reduces search space and ensures logical validity by sampling valid formal definitions associated with target knowledge points from a pre-built table, guaranteeing symbolic deduction paths exist before natural language generation.

### Mechanism 2
Generating natural language and diagrams from formal language is more reliable than reverse (Autoformalization) by avoiding ambiguity and errors inherent in parsing natural language into strict geometric logic through deterministic template translation.

### Mechanism 3
Rigorous qualification checking function is the primary driver of high controllability scores by filtering generated reasoning paths based on shortest path, completeness of knowledge points, completeness of clauses, and consistency of difficulty (reasoning length).

## Foundational Learning

- **Concept**: Symbolic Deduction Engine (SDE)
  - Why needed: Core "solver" ensuring problems are logically valid through strict axiom-based derivation
  - Quick check: Can you explain why an SDE requires a "minimal set of definitions" rather than all possible definitions to start a deduction?

- **Concept**: Knowledge Point-to-Extended Definition Mapping (K2exD-MT)
  - Why needed: "Control knob" bridging abstract educational goals and formal logic requirements
  - Quick check: How would K2exD-MT prevent generating problems about "circles" when targeting "isosceles triangles"?

- **Concept**: Template-based Translation vs. Neural Generation
  - Why needed: Ensures accuracy through templates while acknowledging tradeoff of rigid, non-human-like text
  - Quick check: What is the risk of using an LLM for translation without formal constraints?

## Architecture Onboarding

- **Component map**: Offline Constructor -> K2exD-MT -> Online Sampler -> SDE -> Checker -> Renderer
- **Critical path**: The Checking Function determines quality; too strict reduces yield, too loose reduces solvability/controllability
- **Design tradeoffs**: Sacrifices linguistic variety for logical solvability, leaving LLM refinement for future work
- **Failure signatures**: Missing theorems producing non-shortest paths, clause completeness failures, diagram-text inconsistencies
- **First 3 experiments**: 
  1. Recreate Table with T=1000 iterations to verify K2exD-MT mappings
  2. Ablate Checker to confirm difficulty threshold filtering
  3. Stress Test Diagrams to verify visual-formal logic alignment

## Open Questions the Paper Calls Out

- **Open Question 1**: How to adapt framework for geometric inequalities or combinatorial geometry? Authors explicitly state focus on Euclidean plane geometry, leaving complex domains for future work.
- **Open Question 2**: Can framework integrate semantic control variables like narrative context while maintaining solvability? Authors suggest exploring situations with more control variables.
- **Open Question 3**: Extent to which LLMs can refine template-based text generation without compromising correctness? Authors note template variety could be improved by any LLM.

## Limitations

- K2exD-MT repository coverage may limit diversity of generated problems due to fixed 68 definitions and 43 knowledge points
- Template-based natural language generation produces rigid text lacking human-authored nuance
- Framework currently focuses on Euclidean plane geometry, excluding geometric inequalities and combinatorial geometry

## Confidence

- Solvability claims: High (validated through rigorous human evaluation showing 1.00 native solvability)
- Controllability claims: High (validated through systematic ablation studies)
- Linguistic diversity claims: Medium (acknowledged as limitation not primary focus)

## Next Checks

1. **Coverage Analysis**: Test which knowledge point combinations cannot be satisfied by current K2exD-MT and measure failure percentage

2. **Template Diversity Audit**: Compare generated text against human-authored problems using BLEU/ROUGE/perplexity metrics to identify template limitations

3. **Rule Completeness Validation**: Test SDE with competition edge cases to identify missing intermediate theorems and measure non-shortest path frequency