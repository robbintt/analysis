---
ver: rpa2
title: 'Building a Stable Planner: An Extended Finite State Machine Based Planning
  Module for Mobile GUI Agent'
arxiv_id: '2505.14141'
source_url: https://arxiv.org/abs/2505.14141
tags:
- task
- plan
- mobile
- execution
- splanner
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper addresses the challenge of task planning in mobile GUI
  agents, which often struggle to navigate applications effectively due to limited
  understanding of operational logic. To solve this, the authors propose SPlanner,
  a plug-and-play planning module that leverages Extended Finite State Machines (EFSMs)
  to model mobile applications and generate structured execution plans.
---

# Building a Stable Planner: An Extended Finite State Machine Based Planning Module for Mobile GUI Agent

## Quick Facts
- **arXiv ID:** 2505.14141
- **Source URL:** https://arxiv.org/abs/2505.14141
- **Reference count:** 8
- **Primary result:** SPlanner achieves 63.8% task success rate on AndroidWorld, a 28.8 percentage point improvement over baseline

## Executive Summary
This paper addresses the challenge of task planning in mobile GUI agents, which often struggle to navigate applications effectively due to limited understanding of operational logic. To solve this, the authors propose SPlanner, a plug-and-play planning module that leverages Extended Finite State Machines (EFSMs) to model mobile applications and generate structured execution plans. The EFSMs capture states, transitions, and primary functions, enabling the agent to decompose user instructions into actionable paths. These paths are refined into natural language plans using a large language model (LLM) to guide vision-language models (VLMs) in executing tasks. SPlanner achieves a 63.8% task success rate on the AndroidWorld benchmark when paired with Qwen2.5-VL-72B, representing a 28.8 percentage point improvement over the baseline without planning assistance.

## Method Summary
SPlanner is a planning module that integrates EFSM-based modeling with LLM-refined execution plans. The method involves three main steps: (1) EFSM modeling, where states and transitions of mobile applications are captured, (2) path extraction, where the model decomposes user instructions into feasible paths within the EFSM, and (3) plan refinement, where the extracted paths are transformed into natural language instructions using an LLM. These refined plans guide VLMs to execute tasks with improved accuracy and stability. The approach is designed to be plug-and-play, enhancing existing mobile GUI agents without requiring architectural changes.

## Key Results
- SPlanner achieves 63.8% task success rate on AndroidWorld benchmark
- Represents a 28.8 percentage point improvement over baseline without planning
- Demonstrates strong performance on dynamic, real-world mobile scenarios

## Why This Works (Mechanism)
SPlanner works by addressing the core challenge of mobile GUI agents: the lack of structured understanding of application logic. Traditional agents often fail because they lack explicit models of application states and transitions. EFSMs provide a structured representation of application behavior, capturing states, transitions, and functions. By decomposing user instructions into paths within the EFSM, SPlanner ensures that tasks are broken down into actionable steps. The LLM refines these paths into natural language plans, which are more interpretable and executable by VLMs. This combination of structured modeling and natural language refinement bridges the gap between abstract user instructions and concrete execution steps, leading to improved task success rates.

## Foundational Learning

**Extended Finite State Machines (EFSMs):** Why needed: To model the states and transitions of mobile applications. Quick check: Verify that the EFSM captures all relevant states and transitions for a given application.

**Path Extraction:** Why needed: To decompose user instructions into feasible execution paths. Quick check: Ensure that the extracted paths align with the user's intent and are executable.

**Large Language Models (LLMs):** Why needed: To refine extracted paths into natural language plans. Quick check: Confirm that the LLM-generated plans are clear and actionable for VLMs.

**Vision-Language Models (VLMs):** Why needed: To execute tasks based on refined plans. Quick check: Validate that VLMs can accurately interpret and execute the natural language instructions.

## Architecture Onboarding

**Component Map:** EFSM Modeling -> Path Extraction -> LLM Plan Refinement -> VLM Execution

**Critical Path:** The critical path involves EFSM modeling to capture application logic, followed by path extraction to decompose user instructions, and LLM refinement to generate actionable plans for VLM execution.

**Design Tradeoffs:** The use of EFSMs provides structured modeling but may require manual effort to define states and transitions. LLM refinement adds interpretability but introduces potential errors in plan generation.

**Failure Signatures:** Failures may arise from incomplete EFSM modeling, incorrect path extraction, or misinterpretation of plans by VLMs. Edge cases and dynamic application behaviors may also pose challenges.

**Three First Experiments:**
1. Validate EFSM modeling by testing its ability to capture states and transitions for a simple application.
2. Evaluate path extraction by ensuring that user instructions are correctly decomposed into executable paths.
3. Test LLM refinement by verifying that generated plans are clear and actionable for VLMs.

## Open Questions the Paper Calls Out
None

## Limitations
- Lack of ablation studies to isolate contributions of EFSM modeling, LLM refinement, and their interaction
- Absence of detailed error analysis for failed cases
- Absolute success rate of 63.8% suggests room for improvement in complex scenarios

## Confidence

| Claim | Confidence |
|-------|------------|
| EFSM-based planning improves task success rates significantly | Medium |
| SPlanner is a plug-and-play module for existing mobile GUI agents | Medium |
| Approach demonstrates strong performance on dynamic, real-world mobile scenarios | Medium |

## Next Checks
1. Conduct ablation studies to quantify the individual contributions of EFSM modeling, LLM plan refinement, and their interaction.
2. Perform detailed error analysis categorizing failure modes to identify whether failures stem from planning deficiencies or execution challenges.
3. Test SPlanner's generalization by integrating it with multiple different vision-language models and GUI agents beyond the Qwen2.5-VL-72B baseline.