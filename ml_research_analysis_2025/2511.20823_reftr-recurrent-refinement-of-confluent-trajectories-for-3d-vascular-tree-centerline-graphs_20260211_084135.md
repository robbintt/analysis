---
ver: rpa2
title: 'RefTr: Recurrent Refinement of Confluent Trajectories for 3D Vascular Tree
  Centerline Graphs'
arxiv_id: '2511.20823'
source_url: https://arxiv.org/abs/2511.20823
tags:
- reftr
- trajectories
- each
- tree
- centerline
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: "RefTr is a 3D image-to-graph model for vascular centerline extraction\
  \ that uses recurrent refinement of confluent trajectories to improve recall while\
  \ maintaining precision. It employs a Producer-Refiner Transformer architecture\
  \ with many-to-one matching and a novel Tree Non-Max Suppression algorithm, achieving\
  \ superior recall and comparable precision to prior state-of-the-art methods while\
  \ using 2.4\xD7 fewer decoder parameters and offering faster inference."
---

# RefTr: Recurrent Refinement of Confluent Trajectories for 3D Vascular Tree Centerline Graphs
## Quick Facts
- arXiv ID: 2511.20823
- Source URL: https://arxiv.org/abs/2511.20823
- Reference count: 40
- Primary result: Achieves superior recall and comparable precision for 3D vascular centerline extraction using recurrent refinement and Tree Non-Max Suppression

## Executive Summary
RefTr is a 3D image-to-graph model for vascular centerline extraction that improves recall while maintaining precision through recurrent refinement of confluent trajectories. The approach employs a Producer-Refiner Transformer architecture with many-to-one matching and introduces a novel Tree Non-Max Suppression algorithm. It achieves state-of-the-art recall performance with 2.4× fewer decoder parameters and faster inference compared to existing methods, while introducing radius-aware evaluation thresholds to account for anatomical variability across datasets.

## Method Summary
RefTr uses a two-stage architecture where a Producer network generates initial centerline trajectories from 3D medical images, followed by a Refiner network that improves these predictions through recurrent refinement. The model employs many-to-one matching between producer and refiner outputs to identify confluent trajectories for refinement. A novel Tree Non-Max Suppression algorithm helps eliminate redundant predictions while preserving anatomical accuracy. The system is trained end-to-end with a custom loss function that accounts for vessel radius variability, enabling more accurate evaluation across different anatomical regions and datasets.

## Key Results
- Superior recall performance compared to state-of-the-art methods (40.3% to 54.1% improvement for iliac vessels)
- Maintains comparable precision while using 2.4× fewer decoder parameters
- Faster inference times while achieving better overall centerline extraction accuracy
- Radius-aware evaluation thresholds improve cross-dataset generalization

## Why This Works (Mechanism)
The method's effectiveness stems from its recurrent refinement approach that iteratively improves initial centerline predictions. By allowing multiple producer trajectories to be refined into single improved trajectories (many-to-one matching), the system can better handle ambiguous or noisy initial predictions. The Tree Non-Max Suppression algorithm specifically addresses the challenge of eliminating redundant predictions in tree-like vascular structures without losing important anatomical details.

## Foundational Learning
- **3D Medical Image Processing**: Essential for understanding volumetric data representation and processing pipelines; quick check: can you explain how 3D convolutions differ from 2D in medical imaging?
- **Graph Neural Networks**: Needed to understand centerline graph representations and their processing; quick check: can you describe message passing in graph neural networks?
- **Transformer Architectures**: Critical for understanding the Producer-Refiner network design; quick check: can you explain self-attention and its role in sequence processing?
- **Non-Maximum Suppression**: Important for understanding trajectory refinement and redundancy elimination; quick check: can you describe how traditional NMS works in object detection?
- **Medical Image Segmentation Metrics**: Necessary for evaluating centerline extraction performance; quick check: can you differentiate between precision and recall in segmentation tasks?
- **Vascular Anatomy**: Helpful for contextualizing evaluation results across anatomical regions; quick check: can you identify major vessel types and their typical radius ranges?

## Architecture Onboarding
**Component Map**: 3D Input Volume -> Producer Transformer -> Initial Trajectories -> Refiner Transformer -> Refined Trajectories -> Tree NMS -> Final Centerlines

**Critical Path**: The most critical path is from initial producer output through the refiner network to final refined trajectories. The many-to-one matching between producer and refiner outputs is essential for identifying which trajectories need refinement and how multiple noisy predictions can be combined into accurate ones.

**Design Tradeoffs**: The two-stage architecture adds computational overhead but enables superior recall. The recurrent refinement approach trades inference speed for accuracy gains. Using fewer decoder parameters reduces model size but requires careful training to maintain performance.

**Failure Signatures**: The model may struggle with extremely small vessels where radius information is noisy, pathological cases with vascular abnormalities, and complex bifurcations where confluent trajectories are naturally ambiguous. Performance degradation may be more pronounced in regions with high anatomical variability.

**First Experiments**: 1) Test on synthetic vascular trees with known ground truth to validate basic functionality. 2) Evaluate on a single anatomical region (aorta) to establish baseline performance. 3) Compare producer-only versus full recurrent refinement to quantify improvement from the refiner stage.

## Open Questions the Paper Calls Out
None

## Limitations
- Inconsistent performance across anatomical regions, with stronger recall improvements for iliac vessels than aorta
- Tree Non-Max Suppression algorithm primarily validated on synthetic or controlled datasets, raising questions about pathological case generalization
- Parameter efficiency claims depend on specific architectural choices and may not translate across different design paradigms
- Many-to-one matching approach may introduce biases in naturally complex vascular geometries

## Confidence
- **High**: Precision maintenance during recall improvement (validated across multiple datasets)
- **Medium**: Parameter efficiency claims (dependent on architectural choices)
- **Medium**: Speed improvements (varies with hardware and implementation details)

## Next Checks
1. Test RefTr on pathological cases with vascular abnormalities to assess robustness beyond healthy anatomy
2. Conduct ablation studies removing the recurrent refinement module to quantify its specific contribution to recall gains
3. Compare performance using different matching strategies between producer and refiner outputs to validate the necessity of the many-to-one approach