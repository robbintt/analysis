---
ver: rpa2
title: 'Every Call is Precious: Global Optimization of Black-Box Functions with Unknown
  Lipschitz Constants'
arxiv_id: '2502.04290'
source_url: https://arxiv.org/abs/2502.04290
tags:
- optimization
- lipschitz
- global
- function
- constant
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: "Every Call is Precious (ECP) introduces a global optimization\
  \ algorithm for black-box Lipschitz continuous functions with unknown Lipschitz\
  \ constants. The method eliminates the need for Lipschitz constant estimation by\
  \ using an adaptive acceptance region controlled by a growing parameter \u03B5t,\
  \ ensuring all evaluated points are potential maximizers."
---

# Every Call is Precious: Global Optimization of Black-Box Functions with Unknown Lipschitz Constants

## Quick Facts
- arXiv ID: 2502.04290
- Source URL: https://arxiv.org/abs/2502.04290
- Reference count: 40
- Method eliminates Lipschitz constant estimation by adaptive acceptance region

## Executive Summary
Every Call is Precious (ECP) introduces a global optimization algorithm for black-box Lipschitz continuous functions where the Lipschitz constant is unknown. The method uses an adaptive acceptance region controlled by a growing parameter ε_t to ensure all evaluated points are potential maximizers, eliminating wasted evaluations. ECP provides theoretical guarantees including no-regret convergence for infinite evaluation budgets and minimax-optimal regret bounds for finite budgets, while demonstrating superior empirical performance against 10 benchmark methods across 30 multi-dimensional non-convex problems.

## Method Summary
ECP is a global optimization algorithm that solves black-box Lipschitz continuous optimization without requiring knowledge of the Lipschitz constant k. The algorithm uses rejection sampling with an adaptive acceptance region A_ε,t that ensures candidate points are potential maximizers. The key innovation is the growing parameter ε_t that starts small and monotonically increases when the acceptance region becomes too restrictive, guaranteeing eventual convergence while maintaining computational efficiency through a growth condition that bounds rejection counts.

## Key Results
- ECP achieves top performance in 13 out of 30 benchmark problems
- Theoretical guarantees include no-regret convergence and minimax-optimal regret bounds
- Maintains computational efficiency through controlled rejection growth
- Eliminates need for Lipschitz constant estimation compared to AdaLIPO

## Why This Works (Mechanism)

### Mechanism 1: Proxy-Based Potential Optimality Filtering
The algorithm defines an acceptance region using a proxy slope ε_t, accepting candidate points only if they could theoretically exceed the current maximum under slope constraint. As long as ε_t ≤ k, this region is a strict subset of true potential maximizers, ensuring zero wasted evaluations. The function must be Lipschitz continuous with finite constant k for the bounding cones to validly constrain the function.

### Mechanism 2: Adaptive Expansion via ε_t Growth
The acceptance region shrinks as more points are evaluated, so ECP monotonically increases ε_t by factor τ > 1 after every evaluation and during high-rejection phases. This expands the cone angles until ε_t exceeds the true Lipschitz constant k, ensuring the acceptance region covers all potential maximizers. The growth rate must be sufficient to surpass k within the evaluation budget.

### Mechanism 3: Rejection-Gated Computational Safety Valve
Rejection probability increases as the search narrows, but ECP implements a growth condition that increases ε_t when consecutive rejections exceed threshold C. This bounds waiting time to O(n²C) and prevents infinite loops, balancing strict filtering against computational speed.

## Foundational Learning

- **Concept: Lipschitz Continuity & Geometry**
  - Why needed here: The algorithm constructs geometric "cones" around observed points using the inequality f(x') ≤ f(x) + k‖x-x'‖
  - Quick check question: Given point (x,y) and slope k, what is the equation for the cone of possible values for point x' distance d away?

- **Concept: No-Regret Learning**
  - Why needed here: ECP claims to be "no-regret," meaning the average gap between cumulative reward and optimal reward vanishes as t → ∞
  - Quick check question: Does "no-regret" imply the algorithm finds the global maximum immediately, or that it asymptotically converges?

- **Concept: The Exploration-Exploitation Trade-off in Budgeting**
  - Why needed here: Parameter ε_t acts as a tunable knob for this trade-off between strict smoothness assumptions and budget efficiency
  - Quick check question: If you set ε₁ to be extremely large (effectively ∞), what trivial algorithm does ECP reduce to?

## Architecture Onboarding

- **Component map:** State -> Sampler -> Filter -> Updator
- **Critical path:** The inner loop is rejection sampling, with wall-clock time dominated by rejections before acceptance
- **Design tradeoffs:**
  - ε₁ (Initial Slope): Start small (e.g., 10⁻²) for efficiency vs. Start large for safety
  - τ (Growth Rate): High τ quickly relaxes constraints vs. Low τ maintains strict calls
  - C (Patience): High C allows more rejections vs. Low C rapidly loosens constraints
- **Failure signatures:**
  - "Slow Convergence": ε₁ too small and τ near 1 causes excessive rejections
  - "Pure Random Behavior": ε₁ too large reduces to Pure Random Search
  - "Missed Optimum": Budget runs out before ε_t reaches true Lipschitz constant k
- **First 3 experiments:**
  1. Run ECP on 2D function (e.g., Bukin) with tiny budget (n=5) to visualize acceptance region shrinking/expanding
  2. Ablate ε₁ on high-D synthetic problem (e.g., Ackley) to observe trade-off between regret and rejections
  3. Stress test vs. PRS on function with known Lipschitz constant k to verify regret superiority

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does ECP perform theoretically and empirically when the global Lipschitz continuity assumption is violated?
- Basis in paper: The Discussion section states the Lipschitz assumption may not hold in all real-world scenarios
- Why unresolved: All theoretical guarantees and acceptance region definition rely strictly on finite Lipschitz constant
- What evidence would resolve it: Theoretical analysis for Hölder continuous/discontinuous functions and empirical benchmarks on non-Lipschitz problems

### Open Question 2
- Question: Can the ECP framework be extended to handle stochastic objective functions where evaluations are noisy?
- Basis in paper: Problem Statement explicitly restricts to deterministic black-box functions
- Why unresolved: Acceptance condition requires precise function values, which noise would break
- What evidence would resolve it: Modified acceptance condition using confidence intervals with regret analysis in stochastic setting

### Open Question 3
- Question: How can ECP be adapted to maintain superiority over surrogate-based methods like CMA-ES or Bayesian Optimization in large-budget scenarios?
- Basis in paper: Discussion notes methods allocating evaluations to learning smoothness may perform better for large budgets
- Why unresolved: ECP is optimized for small-budget settings by avoiding space-filling uniform sampling
- What evidence would resolve it: Hybrid algorithm switching from ECP to model-based approach as budget increases

## Limitations
- Computational overhead from rejection sampling could become significant in high-dimensional spaces
- Algorithm's reliance on random sampling means wall-clock performance may vary considerably across runs
- Empirical evaluation focuses on synthetic benchmarks lacking real-world application validation

## Confidence
- **High confidence** in theoretical guarantees (no-regret convergence, minimax-optimal bounds) supported by rigorous proofs
- **Medium confidence** in computational complexity claims, as practical performance depends on parameter tuning
- **Medium confidence** in empirical superiority claims, given limited real-world applications and potential benchmark bias

## Next Checks
1. **High-Dimensional Scaling Analysis**: Test ECP on high-dimensional problems (D > 10) to empirically validate theoretical O(n²C) rejection bound and identify dimensionality threshold where overhead becomes prohibitive

2. **Real-World Application Testing**: Apply ECP to at least two real-world black-box optimization problems (e.g., hyperparameter tuning, engineering design) to assess practical benefit translation

3. **Parameter Sensitivity Study**: Conduct systematic study of parameter space (ε₁, τ, C) across diverse problem types to establish robust defaults and identify failure modes