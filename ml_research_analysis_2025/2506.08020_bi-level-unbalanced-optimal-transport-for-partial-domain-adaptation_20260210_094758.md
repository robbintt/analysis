---
ver: rpa2
title: Bi-level Unbalanced Optimal Transport for Partial Domain Adaptation
arxiv_id: '2506.08020'
source_url: https://arxiv.org/abs/2506.08020
tags:
- domain
- transport
- source
- target
- classes
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper proposes a Bi-level Unbalanced Optimal Transport (BUOT)
  model for Partial Domain Adaptation (PDA), aiming to address the label space inconsistency
  between source and target domains. The core idea is to simultaneously learn sample-level
  and class-level transport plans, where the sample-level plan provides structure
  information for class-level knowledge transfer, while the class-level plan supplies
  discriminative information for outlier identification.
---

# Bi-level Unbalanced Optimal Transport for Partial Domain Adaptation

## Quick Facts
- arXiv ID: 2506.08020
- Source URL: https://arxiv.org/abs/2506.08020
- Authors: Zi-Ying Chen; Chuan-Xian Ren; Hong Yan
- Reference count: 40
- Primary result: BUOT outperforms state-of-the-art PDA methods, achieving 94.7% accuracy on ImageCLEF, 99.5% on Office-31, 93.3% on VisDA-2017, and 76.6% on Office-Home

## Executive Summary
This paper proposes a Bi-level Unbalanced Optimal Transport (BUOT) model for Partial Domain Adaptation (PDA), addressing the label space inconsistency between source and target domains. The core innovation lies in simultaneously learning sample-level and class-level transport plans, where the sample-level plan provides structure information for class-level knowledge transfer, while the class-level plan supplies discriminative information for outlier identification. The framework incorporates UOT to handle class distribution mismatch in PDA, allowing flexible mass transport between domains, and introduces a novel label-aware transport cost to enhance intra-class alignment and penalize inter-class transport.

## Method Summary
The BUOT framework employs a bi-level optimization approach that simultaneously learns two transport plans: a sample-level plan that captures local structure and a class-level plan that enables global knowledge transfer. The method uses unbalanced optimal transport to handle the flexible mass transportation required in PDA scenarios where source and target domains have different label spaces. A novel label-aware transport cost function is introduced that incorporates both feature similarity and label consistency, enhancing intra-class alignment while penalizing inter-class transport. The bi-level weights derived from these transport plans enable effective outlier detection, distinguishing between shared and outlier classes in the source domain.

## Key Results
- Achieves 94.7% accuracy on ImageCLEF dataset
- Achieves 99.5% accuracy on Office-31 dataset
- Achieves 93.3% accuracy on VisDA-2017 dataset
- Achieves 76.6% accuracy on Office-Home dataset

## Why This Works (Mechanism)
The bi-level optimization framework works by decomposing the transport problem into two complementary perspectives: local sample-level matching that preserves fine-grained structure, and global class-level alignment that enables semantic knowledge transfer. The UOT component provides the flexibility needed to handle partial label overlap by allowing partial transportation of source samples. The label-aware transport cost function enhances discriminative capability by incorporating label information into the distance metric, making the model more sensitive to class boundaries during transport. The bi-level weights serve as a natural mechanism for outlier detection, as samples with low transportation probability to the target domain are identified as outliers.

## Foundational Learning
- Optimal Transport Theory: Needed to understand the mathematical foundation of transport plans between probability distributions. Quick check: Verify understanding of Wasserstein distance and its properties.
- Domain Adaptation Fundamentals: Required to grasp the challenges of transferring knowledge across domains with different label spaces. Quick check: Confirm understanding of source-target domain mismatch and adaptation strategies.
- Partial Domain Adaptation: Essential for understanding scenarios where source and target domains have partial label overlap. Quick check: Verify knowledge of outlier detection and class imbalance in domain adaptation.
- Unbalanced Optimal Transport: Important for handling flexible mass transportation when distributions have different total masses. Quick check: Understand how UOT differs from balanced OT in practical applications.

## Architecture Onboarding

**Component Map:**
Label-Aware Cost Function -> Sample-Level Transport Plan -> Class-Level Transport Plan -> Bi-level Weights -> Outlier Detection

**Critical Path:**
The critical path flows from the label-aware cost function through both transport plans to the final bi-level weights. The cost function determines the transportation cost matrix, which drives the sample-level transport plan computation. This plan provides structural constraints for the class-level transport plan, which in turn generates the final bi-level weights used for outlier detection.

**Design Tradeoffs:**
- Computational complexity vs. transport plan accuracy: Bi-level optimization increases computational cost but improves transport quality
- Label information integration vs. flexibility: Label-aware costs improve discrimination but may reduce adaptability to unlabeled target data
- Sample-level vs. class-level focus: Balancing local structure preservation with global semantic alignment

**Failure Signatures:**
- High computational cost leading to scalability issues on large datasets
- Over-reliance on label information causing poor performance when target labels are unavailable
- Suboptimal outlier detection when class distributions have significant overlap

**First Experiments to Run:**
1. Ablation study removing the label-aware component to assess its contribution
2. Runtime analysis comparing BUOT with standard optimal transport approaches
3. Outlier detection evaluation using synthetic datasets with known ground truth

## Open Questions the Paper Calls Out
None identified in the source material.

## Limitations
- Computational complexity may limit scalability to larger datasets
- Effectiveness of label-aware transport cost in complex real-world scenarios remains unverified
- Assumption of known partial overlap between source and target domains may not hold in practical applications

## Confidence
- Methodological novelty: Medium - innovative bi-level formulation but requires further theoretical justification
- Performance claims: High - strong results on benchmark datasets, though lacking statistical significance testing
- Outlier detection capability: Medium - promising results but needs systematic evaluation on diverse datasets

## Next Checks
1. Conduct computational complexity analysis and runtime benchmarking on larger-scale datasets to assess practical scalability
2. Perform ablation studies isolating the contributions of each component (UOT, label-aware cost, bi-level structure) to verify their individual impact
3. Test the method's robustness to unknown domain overlap ratios and varying levels of label space mismatch through controlled synthetic experiments