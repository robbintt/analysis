---
ver: rpa2
title: Reasoning About Knowledge on Regular Expressions is 2EXPTIME-complete
arxiv_id: '2508.09784'
source_url: https://arxiv.org/abs/2508.09784
tags:
- formula
- such
- then
- state
- definition
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper proves that the satisfiability problem for Public Observation
  Logic (POL) with Kleene star is 2EXPTIME-complete. POL is a modal logic where each
  state in an epistemic model is equipped with expected observations represented by
  regular expressions, and agents' knowledge updates based on matching actual and
  expected observations.
---

# Reasoning About Knowledge on Regular Expressions is 2EXPTIME-complete

## Quick Facts
- **arXiv ID:** 2508.09784
- **Source URL:** https://arxiv.org/abs/2508.09784
- **Reference count:** 40
- **Primary result:** The satisfiability problem for Public Observation Logic (POL) with Kleene star is 2EXPTIME-complete

## Executive Summary
This paper establishes the precise complexity of the satisfiability problem for Public Observation Logic (POL) with Kleene star operators. POL is a modal logic where agents' knowledge updates based on matching actual and expected observations, with expectations represented by regular expressions. The authors prove that POL satisfiability is 2EXPTIME-complete, showing both a 2EXPTIME upper bound via translation to Deterministic Propositional Dynamic Logic and 2EXPTIME-hardness via reduction from alternating Turing machines running in exponential space.

## Method Summary
The proof proceeds in two main phases. First, the authors establish a finite model property by showing any satisfiable POL formula can be represented in a model with 2^O(|φ|) states, using filtration to collapse equivalent states and bubble transition structures to encode the epistemic structure. Second, they encode the acceptance problem of an alternating Turing machine that runs in exponential space into POL satisfiability, proving 2EXPTIME-hardness. The 2EXPTIME upper bound is obtained by translating POL formulas to Deterministic Propositional Dynamic Logic (DPDL) formulas and leveraging the known EXPTIME-completeness of DPDL satisfiability.

## Key Results
- POL satisfiability is 2EXPTIME-complete
- Any satisfiable POL formula has a finite model with at most 2^O(|φ|) states
- POL is strictly less complex than related logics like LTLK (non-elementary) and CTLK (undecidable)

## Why This Works (Mechanism)

### Mechanism 1: Finite Model Property via Filtration and Bubble Transition Structures
- Claim: Any satisfiable POL formula has a finite model with at most 2^O(|φ|) states.
- Mechanism: Standard filtration collapses states that agree on all Fischer-Ladner closure formulas into equivalence classes. Bubble transition structures (BTS) then syntactically encode the evolving epistemic structure: each bubble represents a residual model after some observation sequence, labeled with Hintikka sets that track formula truth. Transitions between bubbles capture residuation of regular expression expectations.
- Core assumption: The Fischer-Ladner closure FL(φ) captures all subformulas relevant to satisfiability; Hintikka set conditions (Definition 15) correctly encode local consistency.
- Evidence anchors:
  - [abstract] "establishing a finite model property by showing that any satisfiable POL formula can be represented in a model with 2^O(|φ|) states, using filtration and bubble transition structures"
  - [Section 4.1, Definition 19] "a BTS of φ is a tuple B = ⟨B, δ⟩ where B is the (finite) set of all bubbles wrt φ"
  - [Section 4.2, Theorem 21] "If φ is satisfiable, then there is a BTS of φ"
  - [corpus] Corpus papers discuss epistemic frameworks but do not address BTS-based model bounds
- Break condition: If FL(φ) omits a critical subformula needed for tracking observation prefixes (e.g., ⟨a⟩ψ for ⟨a*b⟩ψ), the equivalence relation may merge states that should differ, breaking the filtration.

### Mechanism 2: 2EXPTIME Upper Bound via DPDL Translation
- Claim: POL satisfiability reduces to DPDL satisfiability in exponential time, yielding 2EXPTIME membership.
- Mechanism: The translation `tr(φ)` encodes the finite epistemic structure into DPDL propositions: @ℓ.ψ means "formula ψ holds at world ℓ", surv(ℓ) means "world ℓ has survived observations so far", and Ri(ℓ,ℓ′) encodes epistemic relations. The structural formula Sφ enforces persistence of propositions, equivalence relation properties, and perfect recall. DPDL's deterministic transitions model the unique-successor property of POL observations.
- Core assumption: The translation is sound and complete (Proposition 27); DPDL satisfiability is EXPTIME-complete.
- Evidence anchors:
  - [Section 5] "we reduce the satisfiability problem of deterministic propositional dynamic logic (DPDL) to that of POL"
  - [Section 5.2, Definition 25] "tr(φ) := surv(ℓ₀) ∧ @ℓ₀.φ ∧ Sφ"
  - [Section 5, Theorem 28] "POL-satisfiability is in 2EXPTIME" via double-exponential algorithm
  - [corpus] Li (2018) studies EPDL with non-deterministic transitions, highlighting POL's deterministic distinction
- Break condition: If the perfect recall constraint (Point 4, Definition 18) is not correctly enforced by Sφ, epistemic relations could change improperly, breaking the reduction.

### Mechanism 3: 2EXPTIME-Hardness via Alternating Turing Machine Reduction
- Claim: POL satisfiability is 2EXPTIME-hard by encoding exponential-space ATM acceptance.
- Mechanism: A full binary tree of depth 3n (n = bits for exponential tape position) is constructed using epistemic modalities. Each leaf encodes three superposed tape cells (positions pos₁, pos₂, pos₃) with symbols α,β,γ. Observation symbols a,b drive transitions between configurations; succₐ/succ_b functions compute next symbols. Existential/universal branching corresponds to existential/universal ATM states; winning propagates via observability of `win`.
- Core assumption: The superposition of three consecutive cells suffices to compute local transitions; the encoding correctly captures ATM semantics.
- Evidence anchors:
  - [Section 6] "encoding a superposition of three configurations of an alternating Turing machine in the leaves of a binary tree"
  - [Section 6, Formula 14] Transition constraint: `(⟨1:α⟩⊤ ∧ ⟨2:β⟩⊤ ∧ ⟨3:γ⟩⊤) → (⟨a⟩⟨2:succₐ(αβγ)⟩⊤ ∧ ⟨b⟩⟨2:succ_b(αβγ)⟩⊤)`
  - [Section 6, Proposition 31] "x is A-positive iff tr(x) is POL-satisfiable"
  - [corpus] TARK proceedings mention rationality/knowledge but not complexity-theoretic reductions
- Break condition: If formula 8 (superposition equality) or 14 (transitions) are mis-specified, the encoding may allow spurious computations or disallow valid ones.

## Foundational Learning

- Concept: **Filtration and Small Model Property**
  - Why needed here: Proves decidability by bounding model size; filtration constructs the bound via equivalence classes over FL(φ).
  - Quick check question: If |FL(φ)| = 5, what is the maximum number of states in a filtered model? (Answer: 2⁵ = 32.)

- Concept: **Hintikka Sets and Maximal Consistent Sets**
  - Why needed here: Provide syntactic characterization of states in BTS; ensure local consistency (e.g., if Kᵢψ ∈ H then ψ ∈ H).
  - Quick check question: If H contains ⟨a+b⟩p, must it contain ⟨a⟩p or ⟨b⟩p? (Answer: Yes, by Hintikka condition 5.)

- Concept: **Residuation of Regular Expressions**
  - Why needed here: Defines how expectations update after observing w: L(π\w) = {u | wu ∈ L(π)}. Critical for model update semantics.
  - Quick check question: For π = a*b and w = aa, what is L(π\w)? (Answer: {b}, since aab ∈ L(a*b) and the remaining suffix is b.)

## Architecture Onboarding

- Component map:
  1. **Formula Parser**: Builds AST for POL formulas; computes FL(φ)
  2. **Filtration Module**: Implements ∼ equivalence, constructs M∼ from arbitrary model
  3. **BTS Constructor**: Generates Hintikka sets, builds bubbles and transition function δ from M∼
  4. **DPDL Translator**: Encodes BTS into tr(φ) with labeled propositions
  5. **ATM Encoder (for hardness)**: Maps ATM instances to POL formulas via superposition encoding

- Critical path:
  1. Parse φ → compute FL(φ) → build Hintikka set candidates
  2. If satisfiability check: attempt BTS construction → translate to DPDL → invoke DPDL solver
  3. If model extraction: construct M_φ from BTS via automata As for expectation function

- Design tradeoffs:
  - **Filtration first vs. direct BTS**: Filtration proves bounds but may produce suboptimal bubbles; direct BTS is tighter but requires separate size analysis
  - **DPDL reuse vs. custom solver**: DPDL translation leverages known EXPTIME algorithms but incurs exponential blowup; custom solver could optimize for epistemic structure
  - **Three-cell superposition**: Enables local transition checks with only O(n) propositions per cell, but requires consistency constraints (Formulas 7-8)

- Failure signatures:
  - **Exp(s) grows unbounded**: BTS must regularize via automata construction; if δ allows infinite distinct bubbles, BTS is not finite
  - **Missing FL(φ) subformula**: States may be incorrectly merged; verify all ⟨π⟩ψ prefixes are included
  - **Perfect recall violation**: If R′ᵢ ≠ Rᵢ ∩ (S′ × S′) in observation successors, knowledge may be lost/gained spuriously

- First 3 experiments:
  1. Implement BTS construction for φ = ⟨(a+b)*⟩p and verify the bubble graph has the expected structure (diamond-labeled states, correct transition graph)
  2. Translate φ = Kᵢ⟨a*⟩p to DPDL and solve with an existing DPDL tool; confirm satisfiability and compare runtime against |φ|
  3. Encode a simple 2-state ATM that accepts strings of the form 0*1* via the hardness reduction; verify the resulting POL formula is satisfiable iff the ATM accepts

## Open Questions the Paper Calls Out

### Open Question 1
- Question: Is the satisfiability problem for POL decidable when the expected observations are defined by context-free grammars rather than regular expressions?
- Basis in paper: [explicit] Section 8 states plans to "study... more expressive extensions of POL, for instance, when expectations are context-free grammars."
- Why unresolved: Context-free languages are strictly more expressive than regular languages, potentially pushing the complexity beyond 2EXPTIME or making the problem undecidable.
- Evidence: A decidability proof or a reduction to an undecidable problem for context-free extensions.

### Open Question 2
- Question: What is the computational complexity of the satisfiability problem for Epistemic Protocol Logic (EPL)?
- Basis in paper: [explicit] Section 8 notes that complexity studies for EPL "are open problems."
- Why unresolved: EPL extends POL with pointed event models and PDL-like regular expressions with Boolean verifiers, adding dynamic operators that complicate the analysis.
- Evidence: A formal classification of EPL satisfiability (e.g., decidable, 2EXPTIME-complete, undecidable).

### Open Question 3
- Question: Are there restricted fragments of POL that admit EXPTIME or PSPACE satisfiability algorithms?
- Basis in paper: [explicit] Section 8 proposes to "study more tractable fragments of POL."
- Why unresolved: While the general case is 2EXPTIME-complete, specific constraints on agents or expression depth might lower the complexity, but these bounds are currently unknown.
- Evidence: A rigorous complexity analysis of specific syntactic fragments showing a lower bound.

### Open Question 4
- Question: How does the expressive power of POL compare to LTLK (Linear Temporal Logic with Knowledge) regarding the interplay of observation sequences and knowledge?
- Basis in paper: [explicit] Section 7 states that "Resolving the intricate relationship between LTLK and POL needs further study."
- Why unresolved: While both handle observations and knowledge, they differ in satisfiability (e.g., ¬p ∧ <a>p is unsat in POL) and complexity (non-elementary vs 2EXPTIME), leaving their relative expressive power formally unresolved.
- Evidence: A proof of relative expressive power or a demonstration of specific properties distinguishable in one logic but not the other.

## Limitations
- The complexity of the hardness reduction relies on a complex superposition encoding that may have subtle edge cases in the transition constraints
- The automata construction for expectation functions in the finite model proof is described but not fully detailed
- The exact construction rules for residuation of regular expressions are not completely specified

## Confidence
- **Upper bound proof (DPDL translation)**: High - The translation rules are explicitly given and the DPDL complexity results are well-established
- **Finite model property**: Medium - The filtration construction is standard, but the bubble transition structure and Hintikka set conditions require careful verification
- **2EXPTIME-hardness reduction**: Medium-Low - The encoding of ATM configurations in POL is intricate, and the correctness of the superposition mechanism needs independent validation

## Next Checks
1. Implement the ATM-to-POL reduction for a simple exponential-space ATM (e.g., accepting strings of the form 0^n1^n) and verify the resulting POL formula's satisfiability matches the ATM's acceptance
2. Construct a BTS for a non-trivial POL formula (e.g., K₁⟨a*b⟩p ∧ K₂⟨b*a⟩p) and verify the equivalence relations and transition structure satisfy all conditions in Definition 17
3. Translate a small satisfiable POL formula to DPDL and solve using an existing DPDL solver; compare the solution with a direct model-checking approach on the original POL formula