---
ver: rpa2
title: Mitigating Individual Skin Tone Bias in Skin Lesion Classification through
  Distribution-Aware Reweighting
arxiv_id: '2512.08733'
source_url: https://arxiv.org/abs/2512.08733
tags:
- skin
- tone
- fairness
- color
- data
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces a distribution-aware reweighting method to
  mitigate individual skin tone bias in skin lesion classification. The authors treat
  skin tone as a continuous attribute using Individual Typology Angle (ITA) values,
  and employ kernel density estimation (KDE) to model skin tone distributions.
---

# Mitigating Individual Skin Tone Bias in Skin Lesion Classification through Distribution-Aware Reweighting

## Quick Facts
- arXiv ID: 2512.08733
- Source URL: https://arxiv.org/abs/2512.08733
- Reference count: 40
- Primary result: Distribution-aware reweighting successfully mitigates individual skin tone bias in skin lesion classification across CNN and Transformer architectures

## Executive Summary
This paper addresses individual-level skin tone bias in skin lesion classification by treating skin tone as a continuous attribute rather than categorical labels. The authors employ Individual Typology Angle (ITA) values and kernel density estimation to model skin tone distributions, then apply a Distance-based Reweighting (DRW) loss function that assigns higher weights to underrepresented skin tones. Tested across ResNet50, MobileNetV2, and ViT architectures on the HAM dataset, DRW consistently reduced correlations between training sample density and accuracy, outperforming traditional categorical reweighting approaches.

## Method Summary
The method treats skin tone as a continuous distribution using ITA values computed from CIELab color space. For each image, skin pixels are isolated and ITA values are computed to form a distribution. A reference distribution is calculated from training data, and distance metrics measure how individual samples differ from this reference. Kernel density estimation estimates the density of these distances, and weights are assigned inversely proportional to density. During training, cross-entropy loss is reweighted by these density-based weights, amplifying gradient signals for underrepresented skin tones. The approach was validated on HAM10000 with ResNet50, MobileNetV2, and ViT-B16 architectures.

## Key Results
- DRW consistently reduced correlations between training sample density and accuracy across all tested architectures
- Fidelity Similarity (FS) emerged as the most effective metric for capturing tonal nuances
- The method successfully mitigated individual-level disparities while maintaining classification performance
- Standalone DRW generally outperformed hybrid approaches combining categorical and distance-based reweighting

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Representing skin tone as a continuous distribution enables detection of individual-level biases that group-based approaches miss.
- Mechanism: ITA converts pixel values to continuous angular measures, and KDE models the distribution across the dataset, capturing within-group variations invisible to categorical analysis.
- Core assumption: Performance disparities correlate with data density in continuous skin tone space, not just categorical group membership.
- Evidence anchors: The abstract states the continuous treatment approach; Section 5.2 shows intra-group disparities in Skin Type 1; "TrustSkin" corroborates discrete classification challenges.

### Mechanism 2
- Claim: Assigning higher loss weights to underrepresented skin tones reduces the correlation between training data density and classification accuracy.
- Mechanism: KDE estimates density at each sample's distance from reference distribution, weights are computed as inverse of normalized density, and these weights multiply cross-entropy loss.
- Core assumption: Underrepresentation in training data is the primary cause of performance disparities, correctable through loss reweighting.
- Evidence anchors: The abstract confirms correlation reduction; Section 5.5 shows Spearman correlation dropping from -0.434 to -0.002 for ResNet; corpus lacks direct evidence for reweighting effectiveness.

### Mechanism 3
- Claim: Fidelity Similarity most effectively captures tonal nuances for both bias detection and mitigation.
- Mechanism: Twelve distance metrics measure distributional differences; FS quantifies overlap robustly handling sparse bins better than asymmetric measures like KL divergence.
- Core assumption: The choice of distance metric materially affects both bias detection sensitivity and reweighting efficacy.
- Evidence anchors: The abstract identifies FS as most effective; Section 5.5 shows FS consistency across architectures; no corpus papers compare distance metrics for skin tone.

## Foundational Learning

- **Concept: Individual Typology Angle (ITA)**
  - Why needed here: ITA is the core representation converting dermatoscopic images to continuous skin tone values. Without understanding ITA computation—arctan((L* − 50) / b*)—one cannot debug preprocessing pipelines or interpret distance metric outputs.
  - Quick check question: Given L* = 60 and b* = 15, what is the approximate ITA? (Answer: ~41°, corresponding to mid-range skin tone.)

- **Concept: Kernel Density Estimation (KDE)**
  - Why needed here: KDE estimates probability density over the distance space, directly driving inverse weight computation. Bandwidth selection critically affects weight calibration—too small produces noisy weights; too large yields near-uniform weights.
  - Quick check question: If KDE bandwidth is set too large, what happens to the density estimates and resulting weights? (Answer: Over-smoothing occurs, reducing discrimination between common and rare tones, yielding uninformative weights.)

- **Concept: Statistical Distance Metrics for Distributions**
  - Why needed here: The paper systematically compares 12 metrics; selecting the appropriate one affects both bias quantification and mitigation quality. Understanding the distinction between similarity measures (FS, HS) and distance measures (WD, KL) is essential for correct interpretation.
  - Quick check question: Why might Fidelity Similarity outperform KL divergence for this application? (Answer: FS measures distributional overlap symmetrically and handles zero-probability bins gracefully, whereas KL is asymmetric and undefined when Q contains zeros.)

## Architecture Onboarding

- **Component map:**
  Preprocessing pipeline: Hair removal (morphological operations, Black Hat filtering, CLAHE) → Lesion mask exclusion → Skin pixel isolation
  Skin tone quantification: RGB → CIELab conversion → Per-pixel ITA computation → Per-image histogram construction
  Reference distribution: Aggregate training histograms → Compute median distribution Q° (Eq. 3)
  Distance computation: For each sample, compute D(x) = Distance(Q_x, Q°) using selected metric (Eq. 4)
  KDE weighting: Estimate density f̂(d) via Gaussian KDE (Eq. 5) → Normalize → Compute inverse weight w(d) (Eq. 6)
  Training loop: Apply weighted cross-entropy loss (Eq. 7) with DRW weights

- **Critical path:**
  1. Accurate skin pixel extraction—incorrect masks corrupt ITA values
  2. Appropriate KDE bandwidth selection—determines weight discriminability
  3. Distance metric selection—FS recommended based on experimental findings
  4. Weight normalization—prevents training instability from extreme values

- **Design tradeoffs:**
  - FS vs. other metrics: FS most robust across architectures; WD, HM, HS acceptable. Avoid Patrick-Fisher (PF), which exhibited instability.
  - DRW alone vs. CARW+DRW: Standalone DRW generally outperforms the combination; hybrid approaches risk overweighting.
  - CNN vs. Transformer: DRW more effective on CNNs (ResNet, MobileNet); ViT shows modest gains, possibly due to patch-based representations reducing sensitivity to pixel-level tone distributions.

- **Failure signatures:**
  - Weights saturating at extremes: Check KDE bandwidth; may require adjustment.
  - Correlation not decreasing: Verify distance metric implementation; confirm reference distribution is computed correctly.
  - Training instability: Examine weight normalization; extreme inverse weights can cause gradient explosion.
  - Type 6 (darkest skin) still underperforming: Only 4 samples exist in HAM; reweighting alone may be insufficient—consider targeted augmentation.

- **First 3 experiments:**
  1. Baseline validation: Train ResNet50 on HAM without reweighting. Compute Spearman correlation between training density and test accuracy using FS. Expected: observe moderate-to-strong negative correlation (|ρ| > 0.3).
  2. DRW implementation with FS: Add DRW using Fidelity Similarity and Gaussian KDE. Compare correlation against baseline. Target: reduce |ρ| below 0.1.
  3. Architecture sensitivity test: Apply identical DRW-FS configuration to MobileNetV2 and ViT-16. Compare correlation reduction magnitude across architectures. Expected: CNNs show stronger improvement than Transformers.

## Open Questions the Paper Calls Out

### Open Question 1
- **Question:** Does the Distance-based Reweighting (DRW) method maintain its efficacy when applied to raw, clinically diverse datasets that have not undergone the digital preprocessing (brightness/hue adjustment) present in the HAM10000 dataset?
- **Basis in paper:** [Explicit] Section 6.2 (Limitations) notes that HAM10000 was digitally preprocessed, potentially distorting true skin tone distributions, and explicitly calls for replication on raw datasets.
- **Why unresolved:** The study relied solely on HAM10000, where neural network preprocessing may have altered the ground truth skin tone distributions the model aims to protect.
- **What evidence would resolve it:** Successful application and validation of the DRW method on unprocessed clinical image datasets showing consistent bias mitigation.

### Open Question 2
- **Question:** Why does the Vision Transformer (ViT) architecture exhibit different responses to fairness interventions compared to CNNs, and can DRW be adapted to better suit patch-based representations?
- **Basis in paper:** [Explicit] Section 6.1 observes that ViT displayed more modest gains from DRW than CNNs (ResNet, MobileNet), suggesting the relationship between model architecture and fairness intervention warrants further investigation.
- **Why unresolved:** The paper identifies the divergence (CNNs benefit more than ViT) but does not fully isolate the mechanism causing ViT's resistance to the reweighting strategy.
- **What evidence would resolve it:** An ablation study or theoretical analysis explaining how ViT's patch-based embeddings interact with continuous skin tone density reweighting compared to local pixel distributions in CNNs.

### Open Question 3
- **Question:** Can the distribution-aware framework be effectively extended to other continuous sensitive variables in medical imaging, such as age-related biomarkers or tissue density?
- **Basis in paper:** [Explicit] Section 6.3 states that future research should extend the approach to other continuous sensitive variables, explicitly naming age-related imaging biomarkers and tissue density.
- **Why unresolved:** The current study validated the method exclusively on skin tone (ITA values); its utility for other continuous, non-visual or structural attributes remains theoretical.
- **What evidence would resolve it:** Demonstrating that kernel density estimation and distance metrics effectively model and mitigate bias for non-skin-tone continuous attributes in other medical imaging modalities.

## Limitations
- The method was validated on a single dermatology dataset (HAM) with seven lesion classes, limiting generalizability to other medical imaging domains.
- Performance on extremely underrepresented skin tones (Type 6) is limited by data scarcity (only 4 samples in HAM).
- The method relies on accurate skin pixel extraction and ITA computation, introducing potential failure points if preprocessing is imperfect.

## Confidence
- **High confidence:** The mechanism of continuous skin tone representation reducing bias detection accuracy is well-supported by empirical results showing intra-group disparities.
- **Medium confidence:** The effectiveness of DRW loss reweighting is demonstrated, though the optimal KDE bandwidth selection remains unspecified and could affect results.
- **Medium confidence:** Fidelity Similarity as the optimal distance metric is supported within this experimental setup, but broader comparative studies across datasets would strengthen this claim.

## Next Checks
1. **Robustness testing:** Evaluate DRW performance across multiple medical imaging datasets with varying skin tone distributions to assess generalizability.
2. **Extreme minority representation:** Test augmentation strategies for skin Type 6 samples to determine if reweighting alone is sufficient for the darkest skin tones.
3. **KDE sensitivity analysis:** Systematically vary KDE bandwidth parameters to establish robustness of weight distributions and identify optimal settings for different dataset sizes.