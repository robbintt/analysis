---
ver: rpa2
title: 'Temporal Knowledge Graph Hyperedge Forecasting: Exploring Entity-to-Category
  Link Prediction'
arxiv_id: '2510.24240'
source_url: https://arxiv.org/abs/2510.24240
tags:
- rule
- rules
- category
- prediction
- entity
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This work extends TLogic, a rule-based framework for temporal knowledge
  graph (TKG) link prediction, to incorporate entity categories and explore category-specific
  predictions. The proposed C-TLogic format integrates entity types into rule mining
  and grounding, limiting rule application to relevant entities.
---

# Temporal Knowledge Graph Hyperedge Forecasting: Exploring Entity-to-Category Link Prediction

## Quick Facts
- arXiv ID: 2510.24240
- Source URL: https://arxiv.org/abs/2510.24240
- Reference count: 9
- Primary result: TLogic with Max+ aggregation outperforms category-specific C-TLogic in temporal KG forecasting

## Executive Summary
This work extends TLogic, a rule-based framework for temporal knowledge graph (TKG) link prediction, to incorporate entity categories and explore category-specific predictions. The proposed C-TLogic format integrates entity types into rule mining and grounding, limiting rule application to relevant entities. A data-driven LLM-based method generates categories for datasets lacking them, and an alternative aggregation method (Max+) is introduced alongside the original Noisy-OR. Experiments on ICEWS18 and FinDKG datasets show that TLogic with Max+ aggregation generally outperforms C-TLogic, suggesting that general patterns across categories are more valuable than category-specific ones. However, category prediction remains feasible with high accuracy, especially when using TLogic on granular category structures like GICS sectors in FinDKG. The study highlights the trade-off between categorization granularity and predictive power, and underscores the importance of rule format and aggregation choice in TKG forecasting.

## Method Summary
The paper introduces C-TLogic as an extension of TLogic that incorporates entity categories into temporal rule mining and grounding. The approach uses constrained temporal random walks to extract sequential patterns, with rules formatted as category-aware hyperedges. Entity-to-category links are generated via LLM-based semantic clustering when datasets lack predefined categories. Two aggregation strategies—Noisy-OR and Max+—are compared for combining rule scores, with Max+ generally outperforming Noisy-OR for TLogic predictions. The framework evaluates MRR and Hits@k metrics on ICEWS18 and FinDKG datasets, demonstrating that general temporal patterns across categories yield better forecasting performance than category-specific rules.

## Key Results
- TLogic + Max+ achieves 79.53 MRR on ICEWS18_12, outperforming C-TLogic + Noisy-OR (60.48)
- Granular category structures (100 clusters) reduce predictive accuracy: 43.10 MRR vs 60.38 for coarser 12 clusters
- LLM-generated categories achieve 96.92% accuracy but C-TLogic still underperforms TLogic
- FinDKG with GICS sectors shows higher category prediction accuracy than ICEWS18 with semantic clusters

## Why This Works (Mechanism)

### Mechanism 1: Temporal Random Walk Rule Mining
- Claim: Sequential patterns in historical TKG data can be extracted as predictive rules via constrained random walks.
- Mechanism: Walk backward in time from a target fact, sampling predecessor facts from an exponential distribution P(v; u, m) = exp(t_v - t_u) / Σ exp(t_ṽ - t_u), enforcing cyclicality (s_{b+1} = o_1) so the predicted entity appears in the rule body.
- Core assumption: Recurring temporal sequences indicate causal or correlative structure predictive of future events.
- Evidence anchors:
  - [abstract]: "TLogic is a rule-based method that predict future events by identifying sequential patterns in data"
  - [Section 2.3.2]: Defines temporal walk W with constraints t_{i+1} ≥ t_i, o_{i+1} = s_i, and cyclicality condition s_{b+1} = o_1
  - [corpus]: Weak direct corpus support for this specific walk mechanism; neighbor papers focus on embedding methods
- Break condition: Sparse graphs with insufficient temporal connectivity prevent complete walks; C-TLogic exacerbates this by constraining walks to category-matching facts (N.C. ratio 8.65–20.50% vs 4.02% for TLogic per Table 3).

### Mechanism 2: Confidence-Based Rule Filtering
- Claim: Rule predictive power can be estimated by the proportion of body groundings followed by matching head facts.
- Mechanism: Sample ζ body groundings, count how many are followed by a valid head within temporal constraints; conf(R) = |successful| / |total groundings|. Retain rules with conf > 0.01 and body support ≥ 2.
- Core assumption: Historical confidence correlates with future predictive accuracy; sampling approximates true confidence adequately.
- Evidence anchors:
  - [Section 2.3.2]: "The confidence of a rule is therefore estimated by attempting to ground the rule body in the training data n∈ℕ times"
  - [Section 3.1]: "discard walks that are not fully completed... quality of the rules, the ones with confidence score above 0.01 and body support of 2 are kept"
  - [corpus]: Not directly validated in corpus; TLogic [6] is the cited foundation
- Break condition: Low-confidence rules from sparse category-specific data may be discarded prematurely, reducing coverage for rare categories.

### Mechanism 3: Aggregation Strategy Determines Category Prediction Quality
- Claim: Max+ aggregation outperforms Noisy-OR for TLogic by prioritizing high-confidence predictions over collective low-confidence accumulation.
- Mechanism: Noisy-OR computes s_final = 1 - Π(1-s), amplifying predictions from many low-scoring rules; Max+ uses lexicographic ordering, comparing highest scores first. For category prediction, aggregate all entity predictions within each category.
- Core assumption: Max+ assumes highest-scoring rules are most reliable; Noisy-OR assumes rule independence.
- Evidence anchors:
  - [Section 2.3.4]: Formal definitions of Noisy-OR (Eq. 8) and Max+ descriptions
  - [Section 4/Table 3]: TLogic + Max+ achieves 79.53 MRR vs 75.79 for Noisy-OR on ICEWS18_12; C-TLogic + Noisy-OR (60.48) outperforms C-TLogic + Max+ (57.87)
  - [corpus]: No direct corpus comparison of aggregation methods for TKG forecasting
- Break condition: Noisy-OR saturates near 1.0 when many rules predict same category, reducing ranking discrimination—especially problematic with few categories.

## Foundational Learning

- **Concept: Temporal Knowledge Graph (TKG) Structure**
  - Why needed here: The entire framework operates on sextuples (s, r, o, t, c_s, c_o); understanding the temporal dimension and entity-relation structure is prerequisite.
  - Quick check question: Given quadruple (Microsoft, acquires, Nuance, April 2021), what is the subject, object, and timestamp?

- **Concept: Rule-Based vs. Embedding-Based TKG Methods**
  - Why needed here: Paper explicitly contrasts interpretability of rule-based TLogic against black-box neural methods (CNNs, embeddings).
  - Quick check question: Why might an explainable rule like "partnership announcement → acquisition" be preferred over an embedding similarity score?

- **Concept: Cyclicality in Temporal Walks**
  - Why needed here: The rule format requires the predicted entity to appear in the rule body; this constraint enables prediction during grounding.
  - Quick check question: In a walk ending with (s_b+1, r_b+1, o_b+1, t_b+1), what condition must hold for cyclicality?

## Architecture Onboarding

- **Component map:**
  - Learner -> Rule bank B -> Retriever -> Final predictions
  - Learner: Samples temporal random walks per (relation, category) pair; instantiates rules; estimates confidence via Monte Carlo grounding; filters by thresholds. Output: rule bank B.
  - Retriever: Given query (s_q, r_q, ?, t_q, c_s^q, ?), retrieves matching rules from B, grounds bodies in historical window [t_q - w, t_q), scores candidates via f(R, k) = α·conf(R) + (1-α)·exp(-λ(t_q - τ)), aggregates via Noisy-OR or Max+.
  - Evaluation: Computes MRR and Hits@k; applies baseline prediction when no rules ground.

- **Critical path:** Quality of rule bank → coverage of query space → aggregation discrimination → final ranking. C-TLogic increases |C| × |R| combinations, requiring more walks to maintain coverage.

- **Design tradeoffs:**
  - Granularity vs. generalization: More categories (100 vs 12) reduce MRR (60.38 → 43.10 for TLogic Max+), suggesting general patterns across categories are more valuable than category-specific ones.
  - Walk count vs. computation: O(|R|·b·n·ζ·D·|C|) complexity; increasing n from 200 to 2000 helps coverage but multiplies runtime.
  - Aggregation: Max+ favors precision; Noisy-OR favors recall via accumulation.

- **Failure signatures:**
  - High N.C. ratio (>10%): Insufficient rule coverage for category-relation pairs; increase n or relax category constraints.
  - Noisy-OR saturation (scores near 1.0): Too few categories or too many overlapping predictions; switch to Max+.
  - C-TLogic underperforms TLogic: Category fragmentation prevents capturing general patterns; consider hierarchical categories or fallback to TLogic.

- **First 3 experiments:**
  1. Reproduce Table 3 on ICEWS18_12 with TLogic + Max+, varying α ∈ {0.3, 0.5, 0.7} to confirm robustness.
  2. Ablate category granularity: Compare 12 vs 50 vs 100 clusters on same data, holding n constant, to quantify the coverage-accuracy tradeoff.
  3. Profile N.C. ratio by relation: Identify which (relation, category) pairs lack rules; target these with increased walk sampling or category merging.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: Does incorporating the temporal distance between rule grounding and the prediction head into confidence estimation improve ranking accuracy?
- Basis in paper: [explicit] The authors note that current confidence estimation ignores time distance and suggest incorporating it could improve ranking.
- Why unresolved: Current methods calculate confidence based on support ratios, ignoring the latency between the rule body and the head event.
- What evidence would resolve it: Modified scoring experiments demonstrating MRR improvements when time distance is weighted.

### Open Question 2
- Question: How can the optimal aggregation method (Noisy-OR vs. Max+) be systematically selected for different rule formats?
- Basis in paper: [explicit] The conclusion states that determining how to optimally choose aggregation methods remains a relevant area for future research.
- Why unresolved: Max+ outperformed Noisy-OR for TLogic, but the performance patterns differed for C-TLogic, creating ambiguity in the selection logic.
- What evidence would resolve it: An ablation study analyzing the relationship between category granularity and aggregation method efficacy.

### Open Question 3
- Question: Does tailoring entity categorization to specific downstream applications improve C-TLogic performance compared to semantic clustering?
- Basis in paper: [explicit] The authors propose looking into a more applied context where application needs steer categorization.
- Why unresolved: C-TLogic underperformed relative to TLogic, possibly because the semantic clustering used did not align with functional patterns.
- What evidence would resolve it: Comparative evaluation using application-driven categories (e.g., financial sectors) versus generic semantic clusters.

## Limitations

- C-TLogic suffers from severe coverage limitations (8.65-20.50% N.C. ratio) due to category constraints fragmenting the rule space
- Optimal categorization scheme remains dataset-dependent, with no systematic method for determining granularity
- Temporal walk mechanism's exponential distribution lacks rigorous validation against alternative temporal sampling strategies

## Confidence

**High Confidence (Likelihood >80%):**
- TLogic with Max+ aggregation outperforms C-TLogic on ICEWS18 and FinDKG datasets
- Granular category structures (100 clusters) reduce predictive accuracy compared to coarser ones (12 clusters)
- Category prediction remains feasible with high accuracy when using TLogic on granular structures

**Medium Confidence (Likelihood 50-80%):**
- General patterns across categories are more valuable than category-specific ones for TKG forecasting
- Noisy-OR aggregation suffers from saturation when few categories exist
- LLM-generated categories achieve comparable performance to established industry taxonomies

**Low Confidence (Likelihood <50%):**
- The exponential distribution is optimal for temporal walk sampling
- C-TLogic's coverage limitations are primarily due to category constraints rather than rule mining parameters
- The 96.92% LLM categorization accuracy translates directly to improved TKG forecasting

## Next Checks

1. **Temporal Sampling Sensitivity Analysis**: Systematically compare exponential distribution-based temporal walks against learned temporal embeddings or alternative decay functions to determine optimal temporal sampling strategy.

2. **Hierarchical Category Structure Evaluation**: Implement and evaluate hierarchical category schemes that maintain semantic relationships while improving coverage, testing whether multi-level categorization resolves the granularity-generalization trade-off.

3. **Rule Confidence Estimation Validation**: Conduct ablation studies varying confidence thresholds and sampling parameters (n, ζ) to quantify their impact on rule quality and downstream prediction accuracy, particularly for rare categories.