---
ver: rpa2
title: D4R -- Exploring and Querying Relational Graphs Using Natural Language and
  Large Language Models -- the Case of Historical Documents
arxiv_id: '2503.20914'
source_url: https://arxiv.org/abs/2503.20914
tags:
- language
- historical
- relationships
- natural
- data
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: D4R enables non-technical users to explore relational graphs extracted
  from historical texts through natural language queries translated into Cypher by
  an LLM. The system combines a Neo4j graph database with a user-friendly interface,
  supporting both novice and expert modes.
---

# D4R -- Exploring and Querying Relational Graphs Using Natural Language and Large Language Models -- the Case of Historical Documents

## Quick Facts
- arXiv ID: 2503.20914
- Source URL: https://arxiv.org/abs/2503.20914
- Reference count: 6
- Primary result: D4R enables non-technical users to explore relational graphs extracted from historical texts through natural language queries translated into Cypher by an LLM.

## Executive Summary
D4R is a platform that bridges natural language and graph database querying, allowing non-technical users to explore relational graphs derived from historical documents. By leveraging a large language model to translate user queries into Cypher, D4R integrates with Neo4j to provide intuitive access to complex relational data. Evaluated on a Spanish Inquisition trial dataset and the CoNLL04 news dataset, D4R demonstrates adaptability and supports both novice and expert user modes. The system enhances historians' ability to incrementally explore data and validate research hypotheses while preserving traceability to source materials.

## Method Summary
D4R combines a Neo4j graph database with an LLM-based query translation layer, enabling users to interact with relational graphs via natural language. The system extracts named entities and relationships from historical texts, storing them as nodes and edges. Users can query the graph through a web interface, with the LLM converting natural language inputs into Cypher queries. The platform supports incremental exploration and hypothesis validation, with a focus on usability for non-technical historians. Evaluation involved processing a Spanish Inquisition trial dataset and testing adaptability with the CoNLL04 news dataset.

## Key Results
- Effective extraction of named entities and relationships from a Spanish Inquisition trial dataset (≈600 nodes, 3,000 relationships).
- Support for both novice and expert user modes, enhancing accessibility.
- Demonstrated adaptability by processing the CoNLL04 news dataset, confirming cross-domain utility.

## Why This Works (Mechanism)
D4R leverages the ability of large language models to interpret natural language and generate structured query languages like Cypher, effectively bridging the gap between domain experts and complex graph databases. By abstracting technical query syntax, the system empowers historians to explore relational data without programming expertise. The integration with Neo4j ensures robust storage and querying of graph-structured data, while the incremental exploration design aligns with the iterative nature of historical research.

## Foundational Learning
- **Named Entity Recognition (NER)**: Extracts entities (people, places, events) from text. Needed to populate the graph with meaningful nodes. Quick check: Verify NER accuracy on a sample of historical texts.
- **Relationship Extraction**: Identifies connections between entities. Essential for building graph edges. Quick check: Inspect extracted relationships for logical consistency.
- **Cypher Query Language**: Domain-specific language for Neo4j graph queries. Required for translating natural language into executable graph queries. Quick check: Test Cypher query generation with sample natural language inputs.
- **LLM Query Translation**: Converts natural language to structured queries. Core enabler for non-technical user access. Quick check: Evaluate translation accuracy across diverse user queries.
- **Incremental Hypothesis Validation**: Allows stepwise exploration of data to test research ideas. Aligns with historical research workflows. Quick check: Simulate a research scenario to assess usability.

## Architecture Onboarding
- **Component Map**: User Input -> LLM Translator -> Cypher Query -> Neo4j Database -> Graph Results -> User Interface
- **Critical Path**: User query → LLM translation → Cypher execution → Neo4j response → Result display
- **Design Tradeoffs**: Prioritized usability over raw performance; simplified query syntax for non-experts at the cost of advanced Cypher features.
- **Failure Signatures**: LLM mistranslation leading to incorrect queries; graph database timeouts on large datasets; interface errors in result visualization.
- **3 First Experiments**:
  1. Validate NER and relationship extraction accuracy on a small historical text sample.
  2. Test LLM translation with a set of representative natural language queries.
  3. Benchmark query response times with varying graph sizes.

## Open Questions the Paper Calls Out
None

## Limitations
- Limited scalability: Current evaluation on a small dataset (≈600 nodes, 3,000 relationships) raises questions about performance on larger corpora.
- Narrow evaluation scope: Focus on usability and interface design, lacking empirical metrics for query accuracy or LLM reliability.
- Generalization uncertainty: Effectiveness beyond the Spanish Inquisition and CoNLL04 domains is not fully established.

## Confidence
- **Query Translation Accuracy**: Medium
- **System Usability for Historians**: High
- **Cross-Domain Adaptability**: Medium
- **Scalability**: Low

## Next Checks
1. Benchmark query translation accuracy across multiple historical and non-historical domains with varying graph sizes.
2. Conduct a longitudinal study with historians using D4R for real research projects to assess practical utility and error rates.
3. Evaluate system performance and response times on graphs with 10x-100x more nodes and relationships than the current dataset.