---
ver: rpa2
title: Oracle-Efficient Combinatorial Semi-Bandits
arxiv_id: '2510.21431'
source_url: https://arxiv.org/abs/2510.21431
tags:
- oracle
- complexity
- algorithm
- regret
- logt
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces oracle-efficient algorithms for combinatorial
  semi-bandits that significantly reduce the number of expensive oracle queries while
  maintaining strong theoretical regret guarantees. The key insight is to use adaptive
  or scheduled oracle query frameworks that update solutions only when necessary,
  rather than at every round.
---

# Oracle-Efficient Combinatorial Semi-Bandits

## Quick Facts
- **arXiv ID:** 2510.21431
- **Source URL:** https://arxiv.org/abs/2510.21431
- **Reference count:** 40
- **Primary result:** Near-optimal regret with O(d log log T) oracle queries via adaptive/elimination frameworks

## Executive Summary
This paper introduces oracle-efficient algorithms for combinatorial semi-bandits that dramatically reduce the number of expensive oracle queries while maintaining strong theoretical regret guarantees. The key insight is to use adaptive or scheduled oracle query frameworks that update solutions only when necessary, rather than at every round. For worst-case linear rewards, the proposed algorithms achieve near-optimal O(√T) regret using only O(log log T) oracle queries, compared to previous methods requiring O(T) queries. The work extends these approaches to covariance-adaptive settings and general non-linear rewards, with additional improvements in adaptivity complexity. Empirical results confirm substantial reductions in computational overhead while maintaining competitive regret performance.

## Method Summary
The paper proposes two main oracle-efficient frameworks for combinatorial semi-bandits: Adaptive Round-based Oracle Queries (AROQ) and Scheduled Round-based Oracle Queries (SROQ). AROQ triggers oracle queries adaptively when per-arm statistics accumulate sufficient evidence, using epoch counters and threshold conditions based on selection counts. SROQ uses pre-scheduled batch queries at geometrically-increasing intervals, constructing representative actions for base arms and eliminating suboptimal arms via LCB/UCB comparisons. Both frameworks maintain UCB optimism principles and leverage semi-bandit feedback for per-arm statistics. The paper also extends these approaches to covariance-adaptive settings using estimated covariance matrices for tighter confidence bounds, and to non-linear reward functions via linearization around estimated parameters.

## Key Results
- AROQ-CMAB achieves near-optimal O(√mdT) regret with O(d log log T) adaptivity and query complexity
- SROQ-CMAB achieves O(m√dT) regret with Θ(log log T) adaptivity complexity and O(d log log T) query complexity
- Covariance-adaptive variants achieve instance-dependent regret bounds of O(√(T Σᵢ maxₐ σ²ᵢ(a)T))
- Empirical results show 100-1000x reduction in oracle queries compared to CUCB with similar regret performance

## Why This Works (Mechanism)

### Mechanism 1: Adaptive Epoch-Based Oracle Queries
- **Claim:** Triggering oracle queries only when arm statistics have accumulated sufficient evidence reduces query complexity from O(T) to O(d log log T) while maintaining near-optimal regret.
- **Mechanism:** The AROQ-CMAB algorithm maintains epoch counters τᵢ for each base arm i. A query is triggered only when selection count |Tᵢ(τᵢ)| exceeds the threshold 1 + √(Tm·|Tᵢ(τᵢ-1)|/d). This ensures sufficient samples accumulate between queries, bounding per-epoch regret by √(Tm/d). The sum across all arm epochs yields the overall bound.
- **Core assumption:** The UCB optimism principle holds—that r_UCB(a) ≥ r̄(a) with high probability under standard concentration (Azuma-Hoeffding), which the paper explicitly establishes in Lemma 3/Eₜ events.
- **Evidence anchors:**
  - [abstract]: "Using an adaptive oracle query framework, AROQ-CMAB achieves near-optimal regret of Õ(√mdT), with both adaptivity and query complexity bounded by O(d log log(Tm/d))"
  - [section]: "The intuition for the threshold condition... the overall regret for τᵢ epochs is bounded by |Tᵢ(τᵢ)|√(1/|Tᵢ(τᵢ−1)|) ≲ √(Tm|Tᵢ(τᵢ−1)|/d)√(1/|Tᵢ(τᵢ−1)|) = √(Tm/d)"
  - [corpus]: Neighbor paper "Near-Optimal Regret for Efficient Stochastic Combinatorial Semi-Bandits" (arXiv:2508.06247) addresses computational overhead in CUCB, supporting the practical relevance of oracle efficiency, though it does not provide the doubly-logarithmic query reduction.

### Mechanism 2: Scheduled Elimination with Representative Actions
- **Claim:** Pre-scheduled batch queries at geometrically-increasing intervals can achieve Θ(log log T) adaptivity complexity by exploiting elimination of suboptimal base arms.
- **Mechanism:** SROQ-CMAB divides time into epochs with boundaries t_τ = η√t_{τ-1}. At each epoch, it constructs representative action a_τ^(i) for each active base arm i, then eliminates arms where r_UCB(a_τ^(i)) < max_a r_LCB(a). This eliminates many suboptimal actions simultaneously via base-arm suboptimality rather than checking all O(2^d) actions.
- **Core assumption:** The elimination condition correctly identifies suboptimal base arms—specifically, that the LCB/UCB bounds are tight enough that optimal arms are never eliminated (Lemma 4 shows a* ∈ A_τ under concentration event E).
- **Evidence anchors:**
  - [abstract]: "SROQ-CMAB achieves regret Õ(m√dT) with adaptivity complexity of Θ(log log T) and query complexity of O(d log log T)"
  - [section]: "We construct a representative action a_τ^(i) for each base arm i... Using elimination conditions applied to these representative actions, we can efficiently eliminate a large number of suboptimal actions by focusing on suboptimal base arms"
  - [corpus]: Neighbor "Efficient Best-of-Both-Worlds Algorithms for Contextual Combinatorial Semi-Bandits" (arXiv:2508.18768) also leverages epoch-based batch structures for efficiency, supporting the batch learning intuition.

### Mechanism 3: Covariance-Adaptive Confidence Ellipsoids
- **Claim:** Leveraging estimated covariance structure of reward noise yields tighter regret bounds when arm rewards are correlated.
- **Mechanism:** AROQ-C-CMAB estimates covariance matrix Σ̂ₜ from semi-bandit feedback and constructs Gram matrix Gₜ. The UCB index uses ellipsoidal confidence width fₜ‖D^{-1}_{nₜ} a‖_{Gₜ} rather than coordinate-wise √(log t/nₜ,ᵢ) bounds. When Σ = I (independence), this recovers Õ(√dT); under dependence, it adapts to Õ(√(Σᵢ maxₐ σ²ᵢ(a)T)).
- **Core assumption:** The covariance estimator converges and confidence ellipsoid construction (Lemma 6 from Zhou et al. 2024) holds—specifically, that |⟨a, μ̂ₜ - μ⟩| ≤ fₜ‖D^{-1}_{nₜ} a‖_{Gₜ} with high probability.
- **Evidence anchors:**
  - [abstract]: "We also propose covariance-adaptive algorithms that leverage noise structure for improved regret"
  - [section]: Theorem 3 states "R(T) = Õ(√(T Σᵢ max_{a:i∈a} σ²ᵢ(a)))" with O(d² log(Tm)) oracle complexity
  - [corpus]: Neighbor "Bi-Criteria Optimization for Combinatorial Bandits" (arXiv:2503.12285) addresses constrained combinatorial bandits but doesn't address covariance structure; no direct corpus support for covariance-adaptive mechanisms—**corpus evidence is weak here**.

## Foundational Learning

- **Concept: Semi-Bandit Feedback**
  - **Why needed here:** The algorithms fundamentally rely on observing individual arm outcomes y_{t,i} for selected i ∈ a_t to maintain separate statistics n_{t,i}, μ̂_{t,i} per base arm. Without this, the per-arm epoch tracking and representative action construction cannot operate.
  - **Quick check question:** Can you compute the empirical mean and variance for each base arm independently from the observed feedback?

- **Concept: Offline Oracle Abstraction**
  - **Why needed here:** The paper assumes access to an oracle returning argmax_{a∈A} f(a) for given f, treating the combinatorial optimization as a black box. Understanding this abstraction is essential to see why reducing query frequency matters independently of the oracle's internal implementation.
  - **Quick check question:** Given a scoring function over actions, can you identify which action the oracle would return without enumerating all of A?

- **Concept: UCB Optimism Principle**
  - **Why needed here:** Both adaptive and scheduled frameworks depend on UCB indices providing upper bounds on true rewards with high probability. The regret analysis hinges on the "clean event" E_t where |μ_i - μ̂_{s,i}| ≤ √(C log s / n_{s,i}) holds.
  - **Quick check question:** Do you understand why selecting argmax r_UCB(a) ensures no regret if the optimism bounds hold?

## Architecture Onboarding

- **Component map:**
  1. Statistics tracker: Maintains (n_{t,i}, μ̂_{t,i}) per base arm; for covariance-adaptive variants, also (Σ̂_t, G_t)
  2. Epoch controller: Tracks τ_i, T_i(τ_i) for adaptive; maintains epoch schedule {t_τ} for scheduled
  3. Oracle query interface: Single point of contact for argmax_{a∈A} r(a) calls; counts queries and adaptivity rounds
  4. Action selector: Either replays previous action (no query) or invokes oracle with current UCB/LCB indices
  5. Elimination manager (SROQ only): Maintains active arm sets N_τ, A_τ based on LCB/UCB comparisons

- **Critical path:**
  1. At round t, check update trigger conditions (adaptive: per-arm thresholds; scheduled: epoch boundary)
  2. If triggered, invoke oracle with current indices; store result
  3. Execute action, observe semi-bandit feedback, update statistics
  4. Update epoch counters and elimination sets (if applicable)

- **Design tradeoffs:**
  - **AROQ vs. SROQ**: AROQ achieves tighter regret (√mdT vs. m√dT) but higher adaptivity (O(d log log T) vs. Θ(log log T)). SROQ enables better parallelization due to scheduled, predictable query rounds.
  - **Worst-case vs. covariance-adaptive**: Covariance-adaptive requires warm-up phase (d(d+1)/2 rounds) and higher per-update cost but yields instance-dependent bounds.
  - **Exact vs. α-approximation oracle**: The framework supports α-approximation oracles with modified α-regret guarantees (Appendix A.3).

- **Failure signatures:**
  - **Regret spikes persistently**: Likely concentration failure—check if noise distribution violates sub-Gaussian assumptions or if confidence scaling constants are too tight.
  - **Oracle queries don't decrease**: Epoch thresholds may be misconfigured; verify |T_i(τ_i)| growth rate matches √(Tm·|T_i(τᵢ−1)|/d).
  - **Elimination removes optimal arm**: Check LCB/UCB bounds for numerical stability; ensure elimination condition uses correct max over all actions, not just representatives.

- **First 3 experiments:**
  1. **Baseline oracle efficiency comparison**: Run AROQ-CMAB and SROQ-CMAB against CUCB on synthetic linear rewards (d=20, m=3 as in paper). Measure cumulative regret, oracle query count, and wall-clock time to verify O(d log log T) query behavior and competitive regret.
  2. **Ablation on epoch scheduling**: Vary the schedule parameter η and epoch count M to validate the geometric schedule t_τ = η√t_{τ-1} is necessary for Θ(log log T) adaptivity. Compare against uniform batching.
  3. **Covariance structure sensitivity**: For covariance-adaptive variants, test with varying correlation strength (Σ = I vs. Σ = AA^T + I). Confirm regret improves under independence (approaching √dT) and degrades gracefully under dependence.

## Open Questions the Paper Calls Out
None

## Limitations
- Covariance-adaptive mechanisms lack strong corpus validation; neighbor papers focus on other aspects of combinatorial bandits
- Adaptive epoch thresholds depend critically on sub-Gaussian noise assumptions that may not hold in practice
- Computational complexity of covariance matrix estimation (O(d²) per update) may offset oracle query savings for large d

## Confidence
- Adaptive oracle query framework (AROQ): **High** - Theoretical guarantees are well-established with matching lower bounds
- Scheduled elimination framework (SROQ): **Medium** - Strong theory but sensitive to action space structure
- Covariance-adaptive variants: **Low-Medium** - Theoretical soundness but limited empirical validation and potential practical limitations

## Next Checks
1. Test robustness to heavy-tailed noise distributions to verify concentration inequality assumptions
2. Benchmark against CUCB under different action space topologies (independent vs. coupled rewards)
3. Measure practical oracle query reduction vs. computational overhead of covariance estimation for varying d