---
ver: rpa2
title: A Python toolkit for dealing with Petri nets over ontological graphs
arxiv_id: '2504.08006'
source_url: https://arxiv.org/abs/2504.08006
tags:
- petri
- nets
- ontological
- graphs
- none
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper introduces a Python toolkit for modeling Petri nets over
  ontological graphs, combining the theoretical power of Petri nets with semantic
  knowledge from ontologies. The toolkit enables users to define the structure and
  dynamics of both conceptually and instancely marked Petri nets over ontological
  graphs, using OWL 2 ontologies to represent domain knowledge.
---

# A Python toolkit for dealing with Petri nets over ontological graphs

## Quick Facts
- arXiv ID: 2504.08006
- Source URL: https://arxiv.org/abs/2504.08006
- Reference count: 9
- The paper introduces a Python toolkit for modeling Petri nets over ontological graphs, combining the theoretical power of Petri nets with semantic knowledge from ontologies.

## Executive Summary
This paper presents a Python toolkit for modeling Petri nets over ontological graphs (PNOG), enabling the integration of Petri net dynamics with semantic knowledge from OWL 2 ontologies. The toolkit allows users to define the structure and dynamics of conceptually and instancely marked Petri nets, supporting transitions that fire based on semantic relations like SUBCLASS-OF and INSTANCE-OF. Using the owlready2 package, the toolkit processes OWL structures and supports defining input/output arcs and initial markings. A simple example demonstrates the toolkit's ability to process instances and concepts, with transitions firing according to semantic constraints.

## Method Summary
The method involves using OWL 2 ontologies to represent domain knowledge and Petri nets to model dynamic behavior. The toolkit uses owlready2 to load and process OWL ontologies, defining places, transitions, input/output arc matrices, and initial markings. The PNOG class supports CMPNOG and IMPNOG semantics, allowing transitions to fire based on semantic relations. The EPS constant represents the empty instance of the bottom concept ⊥. The method is demonstrated through a simple example where ontology instances and concepts are processed, and transitions fire according to semantic constraints.

## Key Results
- The toolkit enables transitions to fire based on semantic relations (SUBCLASS-OF, INSTANCE-OF, EQUIV-TO).
- Correctly updates markings after firing transitions.
- Uses owlready2 to process OWL structures and supports defining input/output arcs and initial markings.

## Why This Works (Mechanism)
The toolkit works by integrating the formal modeling power of Petri nets with the semantic richness of OWL 2 ontologies. Petri nets provide a framework for modeling dynamic systems with places, transitions, and tokens, while OWL ontologies offer a structured representation of domain knowledge through classes, instances, and semantic relations. By mapping tokens to ontology instances and concepts, and defining transition firing rules based on semantic constraints, the toolkit creates a hybrid model that can simulate complex systems with semantic awareness.

## Foundational Learning
- **OWL 2 Ontologies**: Provide a structured representation of domain knowledge through classes, instances, and semantic relations (SUBCLASS-OF, INSTANCE-OF, EQUIV-TO). Needed to represent the semantic constraints that govern transition firing. Quick check: Verify that classes and instances are correctly loaded and related using owlready2.
- **Petri Nets**: A formal modeling framework for dynamic systems using places, transitions, and tokens. Needed to model the dynamic behavior of the system. Quick check: Ensure that places, transitions, and initial markings are correctly defined and initialized.
- **Semantic Relations**: SUBCLASS-OF, INSTANCE-OF, and EQUIV-TO relations define the constraints for transition firing. Needed to ensure that transitions fire only when the semantic conditions are met. Quick check: Verify that transitions fire correctly based on the defined semantic relations.
- **owlready2 Package**: A Python library for processing OWL ontologies. Needed to load and query the ontology data. Quick check: Confirm that owlready2 correctly loads the ontology and retrieves classes and instances.

## Architecture Onboarding
- **Component Map**: OWL Ontology -> owlready2 -> PNOG Place/Transition Classes -> PNOG Net Instance -> Transition Firing
- **Critical Path**: Load ontology -> Define places, transitions, arcs, and initial markings -> Instantiate PNOG -> Fire transitions based on semantic relations -> Update markings
- **Design Tradeoffs**: Using OWL 2 ontologies provides rich semantic knowledge but may introduce computational complexity due to OWL reasoning. The toolkit balances expressiveness with performance by leveraging owlready2 for ontology processing.
- **Failure Signatures**: Transition not firing as expected (semantic relations not satisfied), incorrect marking updates (arc formulas not evaluated correctly), ontology file not found (file path issues).
- **First Experiments**: 1) Load a simple OWL ontology and verify that classes and instances are correctly retrieved using owlready2. 2) Define a minimal PNOG net with one place, one transition, and one arc, and test transition firing. 3) Create a small ontology with SUBCLASS-OF and INSTANCE-OF relations and verify that transitions fire based on these relations.

## Open Questions the Paper Calls Out
- **Open Question 1**: How can occurrence graphs (state spaces) be algorithmically constructed and analyzed for Petri nets over ontological graphs? Basis in paper: [explicit] The authors list "designing and implementing procedures for finding occurrence graphs" as a primary objective for future work. Why unresolved: The current toolkit supports the definition of net structure and dynamics (simulation), but lacks automated tools for exhaustive state-space analysis. What evidence would resolve it: A published algorithm and its implementation in the toolkit capable of generating the occurrence graph for a given net and ontology.
- **Open Question 2**: What are the methods for computing place and transition invariants in Petri nets that incorporate semantic constraints from OWL ontologies? Basis in paper: [explicit] The conclusion explicitly identifies "implementing procedures for finding... place and transitions invariants" as part of the future work plan. Why unresolved: Standard invariant calculation methods apply to numerical or unstructured tokens; adapting these for tokens constrained by semantic relations (SUBCLASS-OF, INSTANCE-OF) is not addressed. What evidence would resolve it: Formal definitions of invariant properties for these nets and functional code within the toolkit that computes these invariants.
- **Open Question 3**: What is the syntax and semantics for a dedicated programming language to specify declarations and net inscriptions for this model? Basis in paper: [explicit] The paper states future work includes "defining a dedicated programming language to specify declarations and net inscriptions." Why unresolved: Currently, users must define nets using generic Python code and matrices; no domain-specific language (DSL) exists to streamline the specification process. What evidence would resolve it: The design of a formal grammar for the DSL and an interpreter or compiler integrated with the Python toolkit.
- **Open Question 4**: How does the computational complexity of OWL 2 reasoning impact the performance of transition firing in large-scale nets? Basis in paper: [inferred] The paper relies on `owlready2` for semantic processing but demonstrates the toolkit only on a "simple example" without performance metrics. Why unresolved: Semantic validation of tokens (e.g., checking INSTANCE-OF relationships) can be computationally intensive (NP-hard) for complex ontologies, potentially limiting the toolkit's scalability. What evidence would resolve it: Performance benchmarks showing the time required to fire transitions as the size of the ontology and the number of instances grow.

## Limitations
- The complete source code for PNOG, PNOG_place, and PNOG_transition classes is not provided, making full reproduction challenging.
- Required OWL ontology files (OG_passengers.owl, OG_documents.owl) are not provided, necessitating recreation from scratch.
- The toolkit is demonstrated only on a simple example, with no performance metrics or benchmarks for large-scale ontologies.

## Confidence
- **Methodology**: Medium - The theoretical framework is well-described, but practical implementation details are incomplete.
- **OWL Integration**: Medium - The use of owlready2 is a known approach, but the integration with PNOG is not fully specified.
- **Semantic Firing**: Medium - The claim that transitions fire correctly based on SUBCLASS-OF and INSTANCE-OF relations has Medium confidence pending verification with actual ontology data.
- **Scalability**: Low - No performance metrics or benchmarks are provided for large-scale ontologies.

## Next Checks
1. Implement and verify the PNOG class methods using mock data to ensure correct arc formula evaluation.
2. Test the firing sequence with a minimal OWL ontology to confirm marking updates match expected results.
3. Validate the EPS sentinel handling by checking if bottom concept ⊥ is correctly represented and processed in initial markings.