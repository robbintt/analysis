---
ver: rpa2
title: Breadth-First Search vs. Restarting Random Walks for Escaping Uninformed Heuristic
  Regions
arxiv_id: '2511.09549'
source_url: https://arxiv.org/abs/2511.09549
tags:
- goal
- brfs
- random
- depth
- states
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper analyzes breadth-first search (BrFS) and restarting
  random walks (RRWs) for escaping uninformed heuristic regions (UHRs) in planning
  problems. The authors derive expected runtimes for both methods based on UHR size
  and success probability, showing that RRWs are faster when the success probability
  exceeds a specific ratio involving UHR depth and breadth.
---

# Breadth-First Search vs. Restarting Random Walks for Escaping Uninformed Heuristic Regions

## Quick Facts
- **arXiv ID**: 2511.09549
- **Source URL**: https://arxiv.org/abs/2511.09549
- **Reference count**: 18
- **Primary result**: RRWs are faster than BrFS when success probability exceeds a ratio involving UHR depth and breadth; validated on PDDL planning benchmarks

## Executive Summary
This paper analyzes breadth-first search (BrFS) and restarting random walks (RRWs) for escaping uninformed heuristic regions (UHRs) in planning problems. The authors derive expected runtimes for both methods based on UHR size and success probability, showing that RRWs are faster when the success probability exceeds a specific ratio involving UHR depth and breadth. Theoretical analysis is validated empirically on PDDL planning benchmarks using variants of Enforced Hill-Climbing (EHC) that replace BrFS with RRWs. Results show EHC-RRW variants have strong performance guarantees on bounded-UHR domains and demonstrate competitive coverage compared to standard EHC, with particular advantages in memory usage and effectiveness on problems with sparse escape states.

## Method Summary
The paper compares BrFS and RRWs for escaping UHRs in planning search. Theoretical analysis derives expected runtimes based on UHR structure and escape probability. Two RRW variants are implemented: RRW_C with fixed depth ℓ, and RRW_L using Luby restart policy for unknown depths. These are integrated into EHC as EHC-RRW_C and EHC-RRW_L. Empirical validation uses Autoscale 21.11 benchmarks across 17 domains, testing various ℓ and Luby multiplier values against standard EHC.

## Key Results
- RRWs are faster than BrFS when success probability exceeds threshold involving UHR depth and breadth
- EHC-RRW variants achieve 100% coverage on bounded-UHR domains (optimal track)
- RRWs demonstrate memory efficiency (O(ℓ) vs O(B^D)) with competitive coverage
- RRWs particularly effective on problems with sparse escape states

## Why This Works (Mechanism)

### Mechanism 1: Success Probability Threshold
- Claim: RRWs are expected to be faster than BrFS when single-walk success probability exceeds a ratio involving UHR structure
- Mechanism: The paper proves E[RRW] ≤ E[BrFS] when p_g ≥ ℓ / [|S_{<d*}| + (|S_{d*}|+1)/(g+1) - 1], where |S_{<d*}| is states shallower than goal depth, |S_{d*}| is states at goal depth, and g is number of goal/escape states. This threshold captures when sampling with replacement (RRW) beats exhaustive layer-by-layer search (BrFS).
- Core assumption: Goal/escape states are uniformly distributed at the goal depth; random walks are unbiased.
- Evidence anchors:
  - [abstract]: "showing that RRWs are faster when the success probability exceeds a specific ratio involving UHR depth and breadth"
  - [section 3.2, Theorem 3.3]: Formal threshold derivation
  - [corpus]: Weak/no direct corpus support for this specific theoretical threshold
- Break condition: When goal density at escape depth is very low (sparse exits), or when transpositions cause RRW to revisit states frequently.

### Mechanism 2: Memory Efficiency Through Stateless Walks
- Claim: RRWs require O(ℓ) memory vs O(B^D) for BrFS, enabling search in memory-constrained settings.
- Mechanism: BrFS maintains open/closed lists for duplicate detection, growing exponentially with branching factor B and maximum exit distance D. RRWs store only the current walk path, eliminating this overhead at the cost of revisiting states.
- Core assumption: Memory is the binding constraint; some duplicate traversal is acceptable.
- Evidence anchors:
  - [abstract]: "with particular advantages in memory usage and effectiveness on problems with sparse escape states"
  - [section 3.3]: "worst-case memory requirements of BrFS is O(B^D), in contrast to RRW_C_ℓ which is only O(ℓ)"
  - [corpus]: No direct corpus support; related work on random walk memory properties not found
- Break condition: When transpositions are so frequent that RRW effectively searches a much larger tree than BrFS (similar to IDA* issues).

### Mechanism 3: Luby Restart Policy for Robust Unknown-Distance Escapes
- Claim: The Luby restart sequence provides O(T* log T*) expected runtime when optimal walk length is unknown.
- Mechanism: Uses sequence ⟨1,1,2,1,1,2,4,1,1,2,1,1,2,4,8,...⟩ multiplied by base m, performing progressively longer walks. This ensures shallow escapes aren't missed while eventually reaching deep exits.
- Core assumption: There exists some optimal fixed depth ℓ* but it's unknown a priori; walks are independent.
- Evidence anchors:
  - [section 2.2]: "expected runtime when using the Luby sequence is O(T* log T*)"
  - [section 4.1]: "EHC-RRW_L will always have a finite expected runtime on EHC-complete problems"
  - [corpus]: Limited corpus support; reinforced random walk literature (paper 20804) discusses different mechanisms
- Break condition: When maximum exit distance D is known and bounded—fixed-depth RRW_C with ℓ ≥ D is then optimal.

## Foundational Learning

- Concept: **Uninformed Heuristic Regions (UHRs)**
  - Why needed here: The core topology being escaped; includes plateaus (all equal h) and local minima (all successors have h ≥ current).
  - Quick check question: Given state s with h(s)=5 where all successors have h ≥ 5, is this a UHR? What if one successor has h=4?

- Concept: **Geometric Distribution for Restart Analysis**
  - Why needed here: Number of RRW attempts until success follows geometric distribution with E[Y] = 1/p_g.
  - Quick check question: If p_g = 0.1 and each walk averages 50 states, what's the expected total states examined?

- Concept: **Hoffmann's Domain Taxonomy (h+ based)**
  - Why needed here: Determines whether EHC (and EHC-RRW) have completeness guarantees; distinguishes bounded-UHR, unbounded-UHR, and EHC-incomplete domains.
  - Quick check question: Why does having "unrecognized dead ends" make a domain EHC-incomplete?

## Architecture Onboarding

- Component map:
  - **EHC outer loop** (Algorithm 1, lines 3-13): Iteratively finds escape states until goal reached
  - **BrFS module** (Algorithm 3): Open/closed list management, depth-ordered expansion
  - **RRW module** (Algorithm 2): Single-walk generation with successor sampling
  - **getDepth() policy**: Returns constant ℓ (for RRW_C) or Luby sequence value (for RRW_L)

- Critical path:
  1. EHC initializes at s_I, enters first UHR
  2. Escape procedure (BrFS or RRW) searches for state with h(s') < h(current)
  3. On escape found → update current state, begin new UHR escape
  4. On goal found → return path
  5. [RRW only] If walk reaches depth limit without escape → restart from current UHR entry

- Design tradeoffs:
  - **Fixed depth vs Luby**: Fixed optimal when D bounded/known; Luby robust to unknown D with log overhead
  - **BrFS vs RRW**: BrFS finds shallowest escape (may preserve resources in dead-end-prone domains); RRW faster when escape density is moderate-to-high
  - **Unbiased vs biased walks**: Paper analyzes unbiased; biased (heuristic-guided) not covered but may improve p_g

- Failure signatures:
  - **Low escape density**: RRW runtime → ∞ as p_g → 0; BrFS degrades gracefully (Theorem 3.1)
  - **High transpositions**: RRW revisits states; BrFS duplicate detection prevents this
  - **EHC-incomplete domains**: Both struggle (Table 1: EHC 41.6 vs RRW_C 25.0 coverage), but EHC's shallowest-escape strategy may conserve resources
  - **Very shallow exits (d*=1)**: Lemma B.3 proves BrFS faster—sampling with replacement inefficient

- First 3 experiments:
  1. **Synthetic tree validation**: Reproduce Figure 1 on trees with known branching factor, varying goal count to confirm crossover point matches Theorem 3.4
  2. **Bounded-UHR benchmark**: Compare EHC vs EHC-RRW_L (m=1,2,4) on logistics/miconic (d*=1) vs elevators (larger D) to validate depth-dependence
  3. **Memory profiling**: Measure peak memory on largest grid/transport problems; confirm RRW stays O(ℓ) while BrFS approaches limit

## Open Questions the Paper Calls Out

### Open Question 1
- Question: Does using BrFS to find shallowest escapes provide an advantage over RRWs in EHC-incomplete domains because shallower escapes consume fewer resources, reducing the likelihood of leading to unrecognized dead ends?
- Basis in paper: [explicit] "We hypothesize that when using h+-based heuristics on such problems, the use of BrFS to find shallowest escapes may have an advantage... However, further investigation is needed on this topic."
- Why unresolved: The empirical results show EHC outperforms EHC-RRW variants on EHC-incomplete domains, but the underlying cause remains a hypothesis without formal verification.
- What evidence would resolve it: Experiments tracking resource consumption along escape paths in domains with unrecognized dead ends, comparing solution rates when preferring shallow vs. deep escapes.

### Open Question 2
- Question: How can BrFS and RRWs be effectively combined in an algorithm portfolio, and what online decision criteria should determine when to switch between them?
- Basis in paper: [inferred] The introduction motivates understanding when RRWs should be deployed "or when they should be used alongside BrFS in an algorithm portfolio," but no portfolio approach is explored in the empirical evaluation.
- Why unresolved: While theoretical conditions for preferring RRWs over BrFS are derived, the practical integration of both methods into a unified system is not addressed.
- What evidence would resolve it: Implementation and benchmarking of portfolio approaches that dynamically select between BrFS and RRWs based on observable state-space features or runtime statistics.

### Open Question 3
- Question: To what extent do the theoretical bounds derived under uniform goal distribution apply to real planning problems with non-uniform exit distributions?
- Basis in paper: [inferred] The theoretical analysis (Theorems 3.1, 3.3, 3.4) explicitly assumes goals are "uniformly distributed among the states at the goal depth," yet real planning benchmarks may violate this assumption.
- Why unresolved: Empirical results show correlations between theoretical predictions and performance, but the impact of non-uniformity on prediction accuracy is not quantified.
- What evidence would resolve it: Analysis of actual exit distributions in planning benchmarks and controlled experiments varying exit distribution patterns to measure deviation from theoretical predictions.

## Limitations
- Theoretical analysis assumes uniform goal distribution and unbiased random walks
- Empirical validation limited to PDDL planning context with unit-cost FF heuristic
- Does not address biased random walks guided by domain knowledge or heuristics

## Confidence
- **High Confidence**: Memory complexity analysis (O(ℓ) vs O(B^D)), EHC completeness guarantees on bounded-UHR domains, basic runtime comparison between BrFS and RRW for known depths
- **Medium Confidence**: Theoretical threshold for when RRWs outperform BrFS, Luby restart policy effectiveness, empirical coverage comparisons across domains
- **Low Confidence**: Generalizability to non-PDDL domains, performance under different heuristic functions, impact of biased random walks

## Next Checks
1. **Synthetic Parameter Sweep**: Systematically vary branching factor, UHR depth, and goal density in synthetic trees to empirically validate the theoretical threshold from Theorem 3.4 and confirm the predicted crossover point between BrFS and RRW.

2. **Memory vs. Coverage Trade-off**: Conduct experiments on domains with known UHR depths to quantify the exact memory savings of RRW compared to BrFS while measuring any impact on coverage or solution quality.

3. **Alternative Restart Policies**: Compare the Luby restart policy against alternative geometric or exponential backoff strategies to determine if the O(T* log T*) bound is tight or if simpler policies achieve similar performance.