# Investigating the Potential of Large Language Model-Based Router Multi-Agent Architectures for Foundation Design Automation: A Task Classification and Expert Selection Study

*Sompote Youwai; David Phim; Vianne Gayl Murcia; Rianne Clair Onas*

---

> ### âš¡ Quick Facts
>
> *   **Top Performing Architecture:** Router-Based Expert Selection
> *   **Shallow Foundation Accuracy:** 95.00%
> *   **Pile Design Accuracy:** 90.63%
> *   **Best Standalone Model:** Grok 3
> *   **Performance Improvement:** 10.0 to 43.75 percentage points over conventional workflows
> *   **Core Technology:** LangChain, JSON I/O, Dual-Tier Transformer Classification

---

> ### ðŸ“‹ Executive Summary
>
> This research addresses the challenge of automating safety-critical structural engineering tasks, specifically the calculation and design of shallow and pile foundations, using Large Language Models (LLMs). While LLMs offer potential for increasing efficiency in engineering workflows, standalone models often lack the precision, consistency, and adherence to rigorous technical standards required for professional documentation. This issue is significant because foundation design demands high accuracy to ensure structural integrity; thus, the study seeks to determine an architectural framework that can leverage the reasoning capabilities of LLMs while minimizing the risk of calculation errors in critical infrastructure projects.
>
> The key innovation proposed is a **router-based multi-agent architecture** that supersedes traditional single-agent or designer-checker workflows. Technically, the system utilizes a Dual-Tier transformer-based classification node that functions as a router, employing Softmax probability distributions to intelligently route incoming tasks to specialized expert agents via JSON-formatted I/O managed by LangChain. These agents are distinct: the Shallow Foundation Agent applies Terzaghiâ€™s theory, while the Pile Foundation Agent utilizes Vesicâ€™s bearing capacity theory (1977).
>
> In a comparative evaluation, the router-based configuration achieved the highest accuracy across all tested architectures. The system attained **95.00% accuracy** for shallow foundation design and **90.63% accuracy** for pile design, outperforming even the strongest standalone model, Grok 3. While the system demonstrates a strong capability to maintain professional documentation standards, the findings ultimately highlight the necessity of retaining human oversight in safety-critical contexts to validate automated outputs and ensure public safety.

---

## Key Findings

*   **Superior Architecture:** The router-based expert selection configuration achieved the highest accuracy, recording **95.00%** for shallow foundations and **90.63%** for pile design.
*   **Benchmark Performance:** This system outperformed standalone Grok 3, which was identified as the superior standalone model among baseline models (ChatGPT 4 Turbo, DeepSeek R1, Gemini 2.5 Pro).
*   **Significant Improvement:** Compared to conventional agentic workflows (single-agent and designer-checker), the proposed system showed an improvement range of **10.0 to 43.75 percentage points**.
*   **Classification Success:** The dual-tier classification framework successfully distinguished between foundation types, enabling precise task routing.

---

## Methodology

The study utilized a comparative evaluation approach involving three distinct system architectures:

1.  **Single-Agent Processing:** A baseline standard LLM processing chain.
2.  **Multi-Agent Designer-Checker:** A conventional workflow involving separate generation and verification roles.
3.  **Router-Based Expert Selection:** The proposed architecture using a dual-tier classification node to route tasks to specialized experts.

**Framework & Models:**
*   A **dual-tier classification framework** was employed to intelligently route tasks to expert agents.
*   Performance was assessed using leading LLMs: **DeepSeek R1**, **ChatGPT 4 Turbo**, **Grok 3**, and **Gemini 2.5 Pro**.
*   Scenarios covered both **shallow foundation** and **pile design** tasks.

---

## Technical Details

The proposed system utilizes a complex, multi-layered technical stack designed for precision in engineering calculations.

**Architecture Definition**
*   **Agent Structure:** Agents are defined mathematically as $A_i = \{LLM\{\theta\}, P_i, T_i, K_i\}$.
*   **Communication:** Utilizes JSON-formatted Input/Output managed via **LangChain**.

**Classification & Routing**
*   **Dual-Tier Node:** Uses a transformer-based classification node acting as a router.
*   **Logic:** Employs **Softmax probability distributions** to categorize and route tasks into "Pile" or "Shallow Foundation" categories.

**Specialized Agents**
*   **Pile Foundation Agent:**
    *   Utilizes **Vesicâ€™s bearing capacity theory (1977)**.
    *   Implements collaborative group reasoning and one-shot learning.
*   **Shallow Foundation Agent:**
    *   Applies **Terzaghiâ€™s theory**.
    *   Uses dynamic prompt adaptation and role-based personas.

**Quality Assurance**
*   **QA Agent:** Evaluates designs using a **reinforcement-learning weighted scoring function**.
*   **Output:** Assigns a binary status of **Pass** or **Revise**.
*   **External Tools:** Integrates embedding similarity classifiers and SerpAPI for real-time standards retrieval.

---

## Results

The validation phase demonstrated clear advantages for the router-based approach:

*   **Router-Based Configuration:**
    *   Shallow Foundations: **95.00% Accuracy**
    *   Pile Design: **90.63% Accuracy**
    *   Outperformed standalone Grok 3.
*   **Conventional Workflow Comparison:**
    *   Performance improvement range: **10.0 to 43.75 percentage points**.
*   **Classification Reliability:**
    *   The classification node successfully distinguished between foundation types, ensuring correct task routing to theoretical agents.

---

## Contributions

*   **Optimal Architecture Validation:** Established router-based multi-agent systems as the optimal architectural approach for automating foundation design calculations.
*   **Standards Adherence:** Highlighted the system's capability to maintain professional documentation standards while simultaneously identifying the necessity of human oversight in safety-critical contexts.
*   **Model Benchmarking:** Provided a comprehensive comparative assessment of leading LLMs (Grok 3, ChatGPT 4 Turbo, DeepSeek R1, and Gemini 2.5 Pro) specifically regarding their performance in structural engineering tasks.

---

**Quality Score:** 8/10
**References:** 0 citations