---
ver: rpa2
title: Class Order Disorder in Wikidata and First Fixes
arxiv_id: '2411.15550'
source_url: https://arxiv.org/abs/2411.15550
tags:
- class
- wikidata
- classes
- order
- p279
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper identifies and fixes major class order problems in Wikidata's
  ontology using SPARQL queries. It finds that many classes have multiple fixed orders,
  have instances with incorrect orders, or are split-order classes.
---

# Class Order Disorder in Wikidata and First Fixes

## Quick Facts
- arXiv ID: 2411.15550
- Source URL: https://arxiv.org/abs/2411.15550
- Authors: Peter F. Patel-Schneider; Ege Atacan Doğan
- Reference count: 16
- Primary result: This paper identifies and fixes major class order problems in Wikidata's ontology using SPARQL queries. It finds that many classes have multiple fixed orders, have instances with incorrect orders, or are split-order classes. After making targeted fixes (removing problematic superclass links, breaking instance loops, and fixing split-order classes), the number of high-minimum-order classes was significantly reduced, and class order conflicts were partially resolved. The results highlight the prevalence of class order issues in Wikidata and suggest that better tooling and community engagement are needed to prevent and fix these problems.

## Executive Summary
This paper identifies and fixes major class order problems in Wikidata's ontology using SPARQL queries. It finds that many classes have multiple fixed orders, have instances with incorrect orders, or are split-order classes. After making targeted fixes (removing problematic superclass links, breaking instance loops, and fixing split-order classes), the number of high-minimum-order classes was significantly reduced, and class order conflicts were partially resolved. The results highlight the prevalence of class order issues in Wikidata and suggest that better tooling and community engagement are needed to prevent and fix these problems.

## Method Summary
The authors used SPARQL queries to identify class order problems in Wikidata, focusing on classes with minimum order 5 or greater. They identified three main types of problems: multiple fixed orders (classes having more than one possible fixed order), instances with wrong orders (classes that have instances with higher order than the class itself), and split-order classes (classes that are split between different parts of the hierarchy). After identifying these problems, they implemented three types of fixes: removing links between classes with different fixed orders, breaking instance loops, and fixing split-order classes by removing problematic superclass links.

## Key Results
- After targeted fixes, the number of classes with minimum order 5 or greater was reduced from 1,221 to 9.
- Class order conflicts decreased from 66 to 34, with 27 instances still having wrong orders.
- High-minimum-order classes (classes with minimum order 5 or greater) were significantly reduced from 1,221 to 9.

## Why This Works (Mechanism)
The paper uses SPARQL queries to detect class order violations in Wikidata's ontology by analyzing the hierarchical structure of classes. The mechanism relies on calculating minimum and maximum order values for classes based on their superclass relationships, then identifying conflicts where these values don't align or where instances have higher order than their parent classes. By systematically removing problematic superclass links and breaking instance loops, the authors can reduce order conflicts and improve the consistency of the ontology structure.

## Foundational Learning

Class Order: A measure of how deeply nested a class is in the hierarchy, with subclasses having higher order than their superclasses.
Why needed: To establish a consistent hierarchical structure and detect violations.
Quick check: Verify that subclasses have higher order values than their superclasses.

Fixed Order: A class that has a single, unambiguous position in the hierarchy with no conflicting superclass relationships.
Why needed: To identify classes that are stable and unambiguous in their placement.
Quick check: Confirm that a class has only one possible path through the hierarchy.

Minimum Order: The lowest possible order value a class can have based on its superclass relationships.
Why needed: To identify classes that could potentially be moved higher in the hierarchy.
Quick check: Calculate the shortest path from the root to the class.

Maximum Order: The highest possible order value a class can have based on its superclass relationships.
Why needed: To identify classes that are deeply nested and potentially problematic.
Quick check: Calculate the longest path from the root to the class.

Instance Order: The order of an instance should be less than or equal to the order of its class.
Why needed: To ensure instances are properly classified within the hierarchy.
Quick check: Verify that instance order ≤ class order for all instances.

Superclass Link: A relationship between a class and its parent class in the hierarchy.
Why needed: To establish the hierarchical structure of the ontology.
Quick check: Confirm that superclass relationships create a directed acyclic graph.

## Architecture Onboarding

Component Map: SPARQL Queries -> Order Calculations -> Problem Detection -> Fix Implementation -> Validation
Critical Path: SPARQL queries identify order violations → automated fixes are applied → results are validated through follow-up queries
Design Tradeoffs: Automated fixes vs. manual curation, strict order enforcement vs. flexibility in hierarchy design, comprehensive analysis vs. computational efficiency
Failure Signatures: Multiple fixed orders for a class, instances with wrong orders, split-order classes, high minimum order values
First Experiments:
1. Run initial SPARQL queries on a current Wikidata dump to identify existing order violations
2. Test automated fix scripts on a small subset of problematic classes to verify correctness
3. Validate fixed classes by checking that minimum and maximum orders align and instances have correct orders

## Open Questions the Paper Calls Out
Several uncertainties remain in this analysis. The SPARQL queries rely on specific interpretation of class order definitions, which may not capture all real-world hierarchical relationships in Wikidata. The threshold values (e.g., "minimum order 5 or greater") appear arbitrary without clear justification for why these cutoffs were chosen. The paper does not fully address how human curation decisions were validated or what proportion of fixes were reviewed by domain experts.

## Limitations
- The analysis depends heavily on the accuracy of the underlying SPARQL queries and the assumption that order violations can be detected purely through structural analysis without semantic understanding.
- The paper describes three types of fixes but provides limited detail on how each was executed or verified.
- The paper suggests tooling and community engagement improvements are needed, but does not provide concrete evidence that the identified problems significantly impact Wikidata's practical use cases or that the proposed solutions would be effective at scale.

## Confidence

| Claim | Confidence |
|-------|------------|
| Core findings (methodology and quantitative results) | Medium |
| Fix implementations (execution and verification) | Medium |
| Broader implications (tooling needs and community engagement) | Low |

## Next Checks

1. Replicate the SPARQL queries on a current Wikidata dump to verify if the reported order violations still exist and assess whether the fixes were successfully implemented.

2. Manually review a random sample of the fixed classes to verify that the structural changes preserved semantic correctness and did not introduce new inconsistencies.

3. Conduct user studies with Wikidata editors to understand if and how class order problems affect their work, and whether the automated fixes align with their expectations for ontology structure.