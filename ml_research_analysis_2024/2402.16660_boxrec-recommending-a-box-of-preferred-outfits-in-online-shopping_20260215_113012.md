---
ver: rpa2
title: 'BOXREC: Recommending a Box of Preferred Outfits in Online Shopping'
arxiv_id: '2402.16660'
source_url: https://arxiv.org/abs/2402.16660
tags:
- items
- outfits
- outfit
- item
- each
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper introduces BOXREC, a novel box recommendation framework
  for online shopping that recommends a collection of preferred fashion items maximizing
  outfit combinations while satisfying user-specified price ranges and a total budget.
  BOXREC first collects user preferences for top-wear, bottom-wear, and foot-wear
  items (including price ranges and total budget), generates preferred outfits by
  retrieving similar items and verifying combinations using an outfit scoring framework
  (BOXREC-OSF), and then solves an optimization problem to pack maximum outfits within
  the budget.
---

# BOXREC: Recommending a Box of Preferred Outfits in Online Shopping

## Quick Facts
- arXiv ID: 2402.16660
- Source URL: https://arxiv.org/abs/2402.16660
- Reference count: 40
- Primary result: BOXREC-OSF achieves 0.854 C2 AUC for outfit compatibility prediction

## Executive Summary
BOXREC introduces a novel box recommendation framework for online shopping that recommends collections of fashion items maximizing outfit combinations while respecting user-specified price ranges and total budget. The framework first collects user preferences for top-wear, bottom-wear, and foot-wear items, generates preferred outfits by retrieving similar items and verifying combinations using an outfit scoring framework (BOXREC-OSF), then solves an optimization problem to pack maximum outfits within the budget. BOXREC-OSF employs an enhanced image encoder and multi-modal features for pairwise compatibility prediction, using a logical AND-based aggregation scheme for outfit scoring. Empirical results show BOXREC-OSF outperforms baseline methods with 0.854 C2 AUC, effectively recommends items and outfits with high hit ratios, and interestingly demonstrates that disliked items can still be part of compatible outfits.

## Method Summary
BOXREC is a three-component framework for recommending boxes of fashion items that maximize outfit combinations within user-specified constraints. First, it collects user preferences including price ranges and total budget, then retrieves visually similar items within these constraints using a content-based retrieval method. Second, BOXREC-OSF scores outfit compatibility using mutual attention with enhanced visual features from Inception V3 and textual metadata, applying a logical AND aggregation (C2) to ensure all item pairs are compatible. Third, it solves the BOXRECMO optimization problem using a heuristic approach combining Overload and Remove (OLR) with decantation to maximize the number of outfits within budget. The framework is evaluated on male fashion datasets using C2 AUC for compatibility prediction and hit ratios for recommendation quality.

## Key Results
- BOXREC-OSF achieves 0.854 C2 AUC, outperforming baseline methods for outfit compatibility prediction
- BOXREC effectively recommends items and outfits with high hit ratios while respecting user-specified budgets
- The framework demonstrates that disliked or unpopular items can still be part of attractive, compatible outfits

## Why This Works (Mechanism)

### Mechanism 1
BOXREC-OSF uses a logical AND aggregation (C2) instead of summation/average to reduce false positives in outfit compatibility scoring. Instead of averaging compatibility scores of item pairs, it outputs 1 only if all pairwise scores are 1, treating any incompatibility as disqualifying the whole outfit. This approach assumes users prefer outfits where every item is compatible with every other item, rather than tolerating partial mismatches. The mechanism is more robust as C2 naturally alleviates issues with partial compatibility, though it may become overly restrictive if partial compatibility is acceptable.

### Mechanism 2
BOXREC-OSF improves pairwise compatibility prediction by combining mutual attention with enhanced visual and textual features. It uses an Inception V3-based image encoder to extract rich visual features, applies mutual attention to capture bidirectional compatibility, and fuses with textual metadata (category, title/description) via element-wise addition. The core assumption is that visual features alone are insufficient and textual metadata provides complementary discriminative signals for compatibility. This fusion could degrade performance if textual features are noisy or irrelevant for certain clothing types.

### Mechanism 3
BOXREC uses a content-based retrieval method that finds items similar to user preferences within specified price ranges and categories. It retrieves items matching user-selected categories and price ranges, then finds nearest neighbors in visual feature space to the chosen items, ensuring both preference alignment and visual similarity. The core assumption is that users prefer items visually similar to their chosen examples but within their budget constraints. The nearest neighbor pool may become too small to generate viable outfits if user preferences are too diverse or budget constraints too tight.

## Foundational Learning

- **Fashion compatibility modeling**: Core to determining whether a set of items can form a good outfit. Quick check: What distinguishes compatibility from similarity in fashion items?
- **Multi-modal feature fusion**: Combining visual and textual information improves prediction accuracy. Quick check: How do visual and textual features complement each other in representing fashion items?
- **Optimization under constraints**: BOXRECMO is NP-Complete; heuristic solutions are required to maximize outfits within budget. Quick check: Why can't we simply sort items by price and greedily pack them into the budget?

## Architecture Onboarding

- **Component map**: User Interface → Item Retrieval → Outfit Generation → Compatibility Scoring → Box Optimization → Recommendation
- **Critical path**: Preference collection → Item retrieval → Outfit generation → Compatibility scoring → Box optimization → Recommendation
- **Design tradeoffs**: Using logical AND vs averaging provides more conservative but reduces false positives; fine-tuning Inception V3 vs using pre-trained offers better feature quality but higher training cost; OLR heuristic vs exact solution is faster but potentially suboptimal
- **Failure signatures**: No outfits recommended indicates budget too low or preferences too restrictive; poor outfit quality suggests compatibility model underfitting or feature extraction issues; slow response indicates inefficient outfit generation or optimization
- **First 3 experiments**: 1) Test item retrieval with synthetic preferences and budget constraints to verify filtering works; 2) Validate compatibility scoring on held-out outfit pairs with known labels; 3) Run end-to-end with small user preference dataset to check optimization produces valid boxes

## Open Questions the Paper Calls Out

### Open Question 1
How does the BOXREC framework handle cases where users dislike items that are actually part of compatible outfits? The paper identifies that disliked items can be part of attractive outfits but doesn't provide methodology for handling such conflicts between user preferences and compatibility scores. This remains unresolved as the paper doesn't rigorously analyze when to prioritize user preferences versus compatibility scores.

### Open Question 2
What is the optimal number of item types (beyond top-wear, bottom-wear, and foot-wear) that BOXREC should consider to maximize outfit combinations without overwhelming users? The paper only considers three item types and doesn't investigate how adding more categories like accessories or outer-wear would affect recommendation quality or user experience.

### Open Question 3
How can BOXREC be extended to handle dynamic pricing scenarios where item prices change frequently, affecting budget constraints and recommendations? The current framework assumes static prices but doesn't address adaptation to real-world price fluctuations that could invalidate previous recommendations.

## Limitations
- Several critical implementation details remain unspecified, particularly the exact architecture of the compatibility decoder in BOXREC-OSF and the decantation process in the OLR heuristic
- The paper claims to use mutual attention and multi-modal features but doesn't specify attention mechanisms, fusion strategies, or hyperparameter settings
- Performance evaluation focuses on C2 AUC and hit ratios but lacks analysis of diversity, novelty, or user satisfaction metrics

## Confidence

- **High Confidence**: The framework's overall architecture (UI → retrieval → scoring → optimization) is clearly specified and logically coherent; the use of logical AND aggregation (C2) for outfit scoring is well-justified and empirically supported
- **Medium Confidence**: The effectiveness of combining visual and textual features is supported by experimental results, though specific implementation details are unclear; the heuristic optimization approach is reasonable given NP-completeness but optimality gap is unknown
- **Low Confidence**: Claims about superiority of specific design choices (e.g., Inception V3 vs other encoders) lack sufficient empirical comparison; the observation about disliked items being compatible is intriguing but not rigorously analyzed

## Next Checks

1. **Ablation Study**: Implement and test variants of BOXREC-OSF with different image encoders (ResNet, EfficientNet), attention mechanisms (dot-product, additive), and aggregation schemes (C2 vs average) to quantify the contribution of each component to the reported 0.854 C2 AUC.

2. **Robustness Analysis**: Systematically vary user preferences and budget constraints to identify breaking points where BOXREC fails to generate outfits, and measure how performance degrades under increasingly restrictive conditions.

3. **User Study**: Conduct a controlled experiment with human participants evaluating recommended boxes based on BOXREC, measuring not just hit ratios but also outfit coherence, diversity, and perceived value within budget constraints.