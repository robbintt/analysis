---
ver: rpa2
title: 'SibylSat: Using SAT as an Oracle to Perform a Greedy Search on TOHTN Planning'
arxiv_id: '2411.02035'
source_url: https://arxiv.org/abs/2411.02035
tags:
- task
- abstract
- solution
- planning
- search
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: SibylSat is a SAT-based planner for totally-ordered HTN (TOHTN)
  planning that uses a greedy best-first search guided by heuristics derived from
  relaxed problem solving, in contrast to existing approaches that employ blind breadth-first
  search. It encodes both the original and relaxed problems as SAT instances and selectively
  expands the search space based on promising decompositions identified through solving
  the relaxed problem.
---

# SibylSat: Using SAT as an Oracle to Perform a Greedy Search on TOHTN Planning

## Quick Facts
- **arXiv ID**: 2411.02035
- **Source URL**: https://arxiv.org/abs/2411.02035
- **Reference count**: 23
- **Primary result**: Achieves better coverage, runtime, and plan quality than state-of-the-art SAT-based TOHTN planners on IPC 2020/2023 benchmarks

## Executive Summary
SibylSat introduces a novel SAT-based planner for totally-ordered HTN (TOHTN) planning that employs greedy best-first search guided by heuristics derived from relaxed problem solving. Unlike existing approaches that use blind breadth-first search, SibylSat encodes both original and relaxed problems as SAT instances and selectively expands the search space based on promising decompositions identified through solving the relaxed problem. The planner demonstrates significant improvements over state-of-the-art SAT-based TOHTN planners, achieving better coverage, runtime performance, and plan quality across multiple benchmark domains.

## Method Summary
SibylSat uses SAT as an oracle to guide a greedy search strategy in TOHTN planning. The planner encodes the planning problem and a relaxed version (with delete lists removed) into SAT instances. It then solves the relaxed problem to identify promising task decompositions, using these insights to guide the search through the original problem space. This approach contrasts with traditional blind breadth-first search methods by focusing computational effort on the most promising paths first. The method leverages both the power of SAT solvers for constraint satisfaction and the efficiency of greedy heuristics for search space exploration.

## Key Results
- Achieves better coverage, runtime (IPC score), and plan quality compared to Lilotane and PandaPIsatt-1iB
- Improved performance in 19 out of 26 benchmark domains
- Reduces the number of method expansions before finding solutions in most domains
- Performance degrades in domains with highly recursive and interconnected tasks due to imprecise effect inference

## Why This Works (Mechanism)
The approach works by using SAT solvers not just for verification but as an oracle to guide search. By solving a relaxed version of the problem (without delete lists), the system can identify which task decompositions are likely to lead to solutions. This information then guides a greedy best-first search through the original problem space, focusing computational resources on the most promising paths. The dual encoding (original and relaxed) allows the system to leverage the strengths of both complete search and heuristic guidance.

## Foundational Learning
- **Totally-Ordered HTN Planning**: Planning framework where tasks must be decomposed in a specific order
  - Why needed: Provides the problem structure that SibylSat operates on
  - Quick check: Can you explain the difference between totally-ordered and partially-ordered HTN?

- **SAT Encoding for Planning**: Translating planning problems into Boolean satisfiability instances
  - Why needed: Enables use of highly optimized SAT solvers for planning
  - Quick check: What are the key components of a SAT encoding for planning problems?

- **Relaxed Planning Heuristics**: Computing heuristics by solving simplified versions of the problem
  - Why needed: Provides guidance for the greedy search strategy
  - Quick check: How does removing delete lists create a relaxed problem?

## Architecture Onboarding

**Component Map**: Task Decomposition -> SAT Encoding -> Relaxed Problem Solving -> Heuristic Generation -> Greedy Search -> Solution Extraction

**Critical Path**: The system first encodes the planning problem as a SAT instance, solves the relaxed version to generate heuristics, then uses these heuristics to guide a greedy search through the original problem space until a solution is found.

**Design Tradeoffs**: The approach trades the completeness of blind search for the efficiency of heuristic-guided search. While this can lead to faster solutions in many cases, it may miss solutions in domains where the relaxed problem provides poor guidance.

**Failure Signatures**: Poor performance occurs in domains with highly recursive and interconnected tasks, where the relaxed problem's effect inference becomes imprecise and the heuristics become unreliable.

**3 First Experiments**:
1. Run on a simple domain (e.g., blocks world) to verify basic functionality
2. Compare runtime and plan quality against a baseline blind search implementation
3. Test on a domain with known recursive structures to observe failure modes

## Open Questions the Paper Calls Out
None

## Limitations
- Evaluation limited to IPC 2020 and 2023 benchmarks, potentially missing diverse real-world scenarios
- Lacks ablation studies to isolate contributions of individual components
- Performance comparisons limited to only two other SAT-based TOHTN planners

## Confidence
- **High confidence**: The core contribution of using SAT as an oracle for greedy search is technically sound and well-explained
- **Medium confidence**: The empirical improvements are real but may be partially attributed to implementation details rather than the algorithmic innovation
- **Medium confidence**: The explanation for poor performance in highly recursive domains is plausible but could benefit from more detailed analysis

## Next Checks
1. Conduct ablation studies to measure the individual contribution of SAT encoding vs. greedy search heuristics
2. Test on additional benchmark suites beyond IPC to assess generalizability
3. Analyze the overhead of SAT solving compared to the search space reduction achieved