---
ver: rpa2
title: Should you use a probabilistic duration model in TTS? Probably! Especially
  for spontaneous speech
arxiv_id: '2406.05401'
source_url: https://arxiv.org/abs/2406.05401
tags:
- speech
- duration
- modelling
- spontaneous
- probabilistic
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper investigates the impact of using deterministic versus
  probabilistic duration models in non-autoregressive text-to-speech (TTS) systems.
  While most leading TTS models use deterministic duration modelling, resulting in
  identical timings for the same utterance, probabilistic duration modelling has been
  proposed to better capture the variability of human speech.
---

# Should you use a probabilistic duration model in TTS? Probably! Especially for spontaneous speech

## Quick Facts
- arXiv ID: 2406.05401
- Source URL: https://arxiv.org/abs/2406.05401
- Reference count: 0
- Probabilistic duration models improve naturalness in NAR TTS, especially for spontaneous speech

## Executive Summary
This paper investigates whether probabilistic duration models improve non-autoregressive (NAR) text-to-speech systems compared to conventional deterministic approaches. The authors compare three NAR TTS architectures (regression-based, deep generative, and end-to-end) across four speech corpora, finding that regression-based approaches like FastSpeech 2 do not benefit from stochastic duration modeling, while probabilistic approaches like VITS and Matcha-TTS show equal or improved performance. The differences are most pronounced in spontaneous speech corpora, highlighting the need for better benchmarks on natural speech.

## Method Summary
The authors train three NAR TTS models (FastSpeech 2, Matcha-TTS, and VITS) on four speech corpora with both deterministic (DET) and probabilistic (FM) duration models. Each model is trained for 500k updates using a batch size of 32. The probabilistic duration model is based on optimal-transport conditional flow matching (OT-CFM), which iteratively transforms Gaussian noise into duration values. Evaluation includes ASR word error rate, AutoMOS for quality, and CMOS listening tests for naturalness comparisons between deterministic and probabilistic variants.

## Key Results
- Regression-based TTS (FastSpeech 2) performs worse with stochastic duration modeling
- Probabilistic NAR TTS approaches (VITS, Matcha-TTS) show equal or improved performance with stochastic durations
- Differences between deterministic and probabilistic duration modeling are most evident in spontaneous speech corpora
- OT-CFM introduces negligible overhead in parameters and synthesis speed while producing near-integer duration outputs

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Probabilistic duration models capture natural variability of spontaneous speech better than deterministic models
- Mechanism: Stochastic duration sampling introduces prosodic diversity by generating different durations for same text input, mirroring human speech variability
- Core assumption: Spontaneous speech contains more duration variability than read speech, contributing to naturalness
- Evidence anchors: Abstract mentions OT-CFM across three NAR approaches; section notes differences are most evident in spontaneous speech corpora; spontaneous corpora (TSGD2, AptS) were specifically chosen

### Mechanism 2
- Claim: Flow-matching duration models produce near-integer outputs with minimal computational overhead
- Mechanism: OT-CFM iteratively transforms Gaussian noise into duration values through neural function evaluations, converging to integer outputs for direct upsampling use
- Core assumption: Flow-matching architecture can learn accurate integer durations while maintaining probabilistic nature
- Evidence anchors: Abstract states OT-CFM introduces negligible overhead; section provides residual analysis showing quantization to nearest integer across NFE; residual analysis across four corpora shows consistent performance

### Mechanism 3
- Claim: Probabilistic TTS architectures benefit more from stochastic duration modeling than deterministic architectures
- Mechanism: End-to-end and deep generative models with inherent probabilistic components better integrate and utilize variability from stochastic duration sampling
- Core assumption: Probabilistic nature of overall model architecture complements stochastic duration modeling, creating synergistic effect
- Evidence anchors: Abstract contrasts regression-based TTS not benefiting versus probabilistic approaches showing improved performance; section shows FS2 produced worse speech while VITS demonstrated notable improvements; consistent pattern across four corpora strengthens evidence

## Foundational Learning

- Concept: Flow Matching vs. Diffusion Models
  - Why needed here: Understanding computational advantages of flow matching over diffusion models is crucial for appreciating low overhead claim
  - Quick check question: How many neural function evaluations (NFEs) does flow matching typically require compared to diffusion models during synthesis?

- Concept: Conditional Flow Matching (OT-CFM)
  - Why needed here: Specific type of flow matching used (OT-CFM) has unique properties making it suitable for duration modeling
  - Quick check question: What distinguishes OT-CFM from standard conditional flow matching, and why is this distinction important for TTS applications?

- Concept: Duration Modeling in NAR TTS
  - Why needed here: Understanding role of duration modeling in upsampling process is fundamental to grasping why stochastic vs. deterministic approaches matter
  - Quick check question: In non-autoregressive TTS, what is the relationship between duration modeling and the upsampling of text encoder outputs?

## Architecture Onboarding

- Component map: Text input → Text encoder → Duration model (deterministic/stochastic) → Upsampling → Acoustic model → Mel-spectrogram → Vocoder → Audio output
- Critical path: Duration model → Upsampling → Acoustic model (in NAR TTS)
- Design tradeoffs: Stochastic durations increase naturalness but may reduce controllability and increase synthesis variability
- Failure signatures: High quantization residuals, poor WER scores, subjective preference for deterministic models
- First 3 experiments:
  1. Replace deterministic duration predictor with OT-CFM in FastSpeech 2 on LJ Speech corpus
  2. Train VITS with both deterministic and stochastic durations on spontaneous speech corpus
  3. Measure quantization residuals and synthesis speed for OT-CFM duration models across different NFE settings

## Open Questions the Paper Calls Out
None explicitly stated in the paper.

## Limitations
- Limited spontaneous speech coverage with only two spontaneous speech corpora, one containing speech from individuals with aphasia
- Subjective evaluation constraints with CMOS tests conducted by only 20 listeners per comparison
- Single flow-matching implementation using only OT-CFM without comparison to alternative probabilistic duration modeling approaches

## Confidence

**High confidence**: Finding that probabilistic NAR TTS approaches benefit from stochastic duration modeling while regression-based approaches do not, supported by consistent patterns across four corpora and three model architectures.

**Medium confidence**: Claim that differences between deterministic and probabilistic duration modeling are most evident in spontaneous speech corpora, though limited spontaneous speech data makes this conclusion less certain.

**Medium confidence**: Assertion that OT-CFM introduces negligible overhead in parameters and synthesis speed, supported by residual analysis but would benefit from more comprehensive computational efficiency analysis across hardware configurations.

## Next Checks
1. Evaluate the same deterministic vs. probabilistic duration modeling comparison on additional spontaneous speech corpora with different speaking styles to verify benefits generalize beyond current dataset.

2. Conduct CMOS listening tests with a more diverse listener population to determine if preference for probabilistic durations in spontaneous speech holds across different demographic groups.

3. Implement and compare at least one alternative probabilistic duration modeling approach against OT-CFM to assess whether benefits are specific to flow-matching approach or represent a more general principle of stochastic duration modeling.