---
ver: rpa2
title: 'On the Completeness of Conflict-Based Search: Temporally-Relative Duplicate
  Pruning'
arxiv_id: '2408.09028'
source_url: https://arxiv.org/abs/2408.09028
tags:
- mapf
- trdp
- path
- time
- solution
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper addresses the incompleteness of the Conflict-Based Search
  (CBS) algorithm for unsolvable Multi-Agent Pathfinding (MAPF) problems. The authors
  introduce Temporally-Relative Duplicate Pruning (TRDP), a technique that detects
  and eliminates multi-agent "loops" by identifying temporally-relative duplicate
  states.
---

# On the Completeness of Conflict-Based Search: Temporally-Relative Duplicate Pruning

## Quick Facts
- arXiv ID: 2408.09028
- Source URL: https://arxiv.org/abs/2408.09028
- Authors: Thayne T Walker; Nathan R Sturtevant
- Reference count: 9
- Primary result: Introduces TRDP to make CBS complete for unsolvable MAPF instances with minimal overhead

## Executive Summary
This paper addresses a fundamental incompleteness issue in the widely-used Conflict-Based Search (CBS) algorithm for Multi-Agent Pathfinding (MAPF) problems. The authors introduce Temporally-Relative Duplicate Pruning (TRDP), a technique that detects and eliminates multi-agent "loops" by identifying temporally-relative duplicate states. TRDP ensures termination on unsolvable instances without significantly impacting runtime on solvable ones, effectively closing CBS's long-standing incompleteness gap for both classic and continuous-time MAPF domains.

## Method Summary
The paper introduces Temporally-Relative Duplicate Pruning (TRDP) as an enhancement to CBS that tracks and prunes states representing multi-agent loops in the search space. TRDP works by identifying temporally-relative duplicate states - configurations where agents return to previously visited positions with the same relative timing. This is implemented through a hash-based mechanism that stores and checks for these duplicates during CBS execution. The technique is theoretically proven to guarantee termination on unsolvable instances while maintaining efficiency on solvable ones, addressing a critical theoretical limitation of CBS that has persisted since its introduction.

## Key Results
- TRDP guarantees termination of CBS on unsolvable MAPF instances
- Introduces less than 0.01% runtime overhead on solvable instances
- Reduces search space in agent-dense scenarios while maintaining completeness

## Why This Works (Mechanism)
TRDP works by detecting and eliminating cycles in the CBS search space where agents can get stuck in repeating patterns. The mechanism tracks temporally-relative duplicate states - situations where the same configuration of agents appears at different times but with identical relative positions. By pruning these duplicate states, TRDP prevents CBS from exploring infinite branches in unsolvable problems while preserving completeness for solvable instances. This approach transforms CBS from an incomplete algorithm into a complete one without sacrificing its efficiency on typical solvable instances.

## Foundational Learning
- **Temporally-relative duplicates**: States where agents return to previously visited positions with the same relative timing; needed to identify cycles that cause infinite search in unsolvable problems; quick check: verify hash function captures relative agent positions and timing.
- **CBS node expansion**: The process of generating new search nodes by resolving conflicts; crucial for understanding where duplicates can occur; quick check: confirm expansion rules maintain consistency with original CBS.
- **MAPF completeness**: The property that an algorithm will always terminate with a correct solution or proof of unsolvability; fundamental theoretical guarantee; quick check: verify termination conditions cover all unsolvable cases.

## Architecture Onboarding
- **Component map**: CBS search tree -> TRDP hash table -> duplicate detection -> node pruning
- **Critical path**: Agent path planning -> conflict detection -> node expansion -> TRDP check -> pruning decision
- **Design tradeoffs**: Completeness vs. memory overhead; temporal granularity vs. hash table size; duplicate detection frequency vs. runtime performance
- **Failure signatures**: Infinite loops in unsolvable instances; memory exhaustion in agent-dense scenarios; hash collisions causing incorrect pruning
- **First experiments**: 1) Test termination on known unsolvable instances; 2) Measure overhead on benchmark solvable instances; 3) Evaluate performance in agent-dense environments

## Open Questions the Paper Calls Out
None

## Limitations
- Potential impact on search tree size in extremely dense or complex scenarios may not be fully characterized
- Computational cost of detecting temporally-relative duplicate states in large-scale problems is not fully analyzed
- Performance generalization across diverse problem domains and agent configurations remains uncertain

## Confidence
- High: TRDP ensures termination of CBS on unsolvable MAPF instances
- High: TRDP introduces minimal runtime overhead (less than 0.01%) on solvable instances
- Medium: TRDP reduces search space in agent-dense scenarios
- Low: The generalizability of performance improvements across all MAPF problem types

## Next Checks
1. Conduct extensive experiments across a wider range of MAPF problem domains, including highly dynamic and stochastic environments, to validate the robustness of TRDP's performance claims.
2. Analyze the computational complexity of TRDP in detecting temporally-relative duplicate states in large-scale problems, and explore potential optimizations or approximations to maintain efficiency.
3. Investigate the interaction between TRDP and other CBS enhancements or variants, such as ECBS or Anytime CBS, to assess its compatibility and potential for further performance improvements.