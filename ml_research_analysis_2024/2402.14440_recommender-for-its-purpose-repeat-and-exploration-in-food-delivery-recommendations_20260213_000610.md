---
ver: rpa2
title: 'Recommender for Its Purpose: Repeat and Exploration in Food Delivery Recommendations'
arxiv_id: '2402.14440'
source_url: https://arxiv.org/abs/2402.14440
tags:
- repeat
- exploration
- users
- recommendation
- food
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper investigates food delivery recommendation, focusing on
  repeat and exploration consumption patterns. The authors analyze real-world datasets
  from three cities, finding that repeat orders are prevalent and historical situations
  strongly influence repeat choices, while collaborative situations impact exploration
  more.
---

# Recommender for Its Purpose: Repeat and Exploration in Food Delivery Recommendations

## Quick Facts
- arXiv ID: 2402.14440
- Source URL: https://arxiv.org/abs/2402.14440
- Reference count: 40
- Primary result: Separate models for repeat (RepRec) and exploration (ExpRec) food delivery recommendations outperform unified approaches, achieving significant improvements in HR@3 and NDCG@3 metrics

## Executive Summary
This paper addresses food delivery recommendations by recognizing the distinct nature of repeat and exploration consumption patterns. Through analysis of real-world datasets from three cities, the authors discover that historical situations strongly influence repeat choices while collaborative situations impact exploration more. Based on these insights, they propose two simple yet effective models: RepRec for repeat consumption leveraging historical situation similarity, and ExpRec for exploration incorporating global situation, historical, and collaborative information. Experiments demonstrate their models significantly outperform various baselines on both repeat and exploration recommendation tasks.

## Method Summary
The authors propose a dual-model approach for food delivery recommendations. RepRec uses historical situation similarity to recommend from previously ordered stores, while ExpRec combines global situation representation, historical interactions, and collaborative information for exploration recommendations. Both models use embedding sizes of 64 and batch sizes of 256, optimized with Adam and early stopping. An intent-aware ensemble module combines the outputs when unified recommendations are needed. The approach is evaluated on three proprietary food delivery datasets from Stockholm, Singapore, and Beijing.

## Key Results
- RepRec and ExpRec significantly outperform various baseline models on HR@3 and NDCG@3 metrics
- Historical situations show stronger correlation with repeat choices while collaborative situations impact exploration more
- Separate modeling of repeat and exploration tasks yields better performance than unified approaches
- The proposed simple models achieve statistically significant improvements across all three datasets

## Why This Works (Mechanism)

### Mechanism 1
Historical situations influence repeat consumption more than exploration consumption. When ordering food repeatedly, users tend to do so under similar circumstances (time, location), so the model gives higher weights to historical interactions that occurred in similar situations when recommending repeat orders. Break condition: If user behavior shows exploration orders are more situation-dependent than repeat orders.

### Mechanism 2
Collaborative situations influence exploration consumption more than repeat consumption. When exploring new stores, users are more likely influenced by what similar users order in similar situations. The model incorporates collaborative filtering considering situations of similar users when recommending new stores. Break condition: If exploration orders are primarily driven by individual preferences rather than social influence.

### Mechanism 3
Treating repeat and exploration as separate tasks improves performance. By separating candidate pools (repeat stores are a small subset), the model can optimize for each task's specific challenges. Repeat focuses on historical situation similarity while exploration focuses on collaborative triggers and global situation. Break condition: If a unified model can achieve similar or better performance on both tasks.

## Foundational Learning

- Concept: Situation-aware recommendation systems
  - Why needed here: Food delivery preferences vary significantly with time and location
  - Quick check question: What are the two primary situational factors considered in this food delivery recommendation system, and how do they differ from general recommendation scenarios?

- Concept: Repeat consumption vs exploration in recommender systems
  - Why needed here: Understanding distinct characteristics is essential for designing effective separate models
  - Quick check question: Why is the candidate search space for repeat recommendation much smaller than for exploration recommendation in food delivery?

- Concept: Collaborative filtering and sequential recommendation techniques
  - Why needed here: These are the two main approaches used to model collaborative situations and historical situations
  - Quick check question: How do collaborative filtering-based recommenders and sequential recommenders differ in their approach to modeling user preferences?

## Architecture Onboarding

- Component map:
  - RepRec (Repeat recommender) -> Uses historical situation similarity to recommend from previously interacted stores
  - ExpRec (Exploration recommender) -> Uses global situation representation, historical interactions, and collaborative information to recommend new stores
  - Intent-aware ensemble module -> Combines RepRec and ExpRec outputs when unified recommendation list needed
  - Situation encoder -> Embeds time and location information into vector representations
  - Attention mechanisms -> Weight historical interactions based on situation similarity
  - Collaborative user selector -> Identifies similar users based on store preference vectors

- Critical path:
  1. User requests food delivery recommendation with time and location
  2. Situation encoder processes time and location inputs
  3. For repeat recommendation: RepRec calculates situation similarity with historical interactions and recommends from previously ordered stores
  4. For exploration recommendation: ExpRec processes global situation, historical interactions, and collaborative information to recommend new stores
  5. If needed, ensemble module combines outputs based on predicted user intent
  6. Recommendations are presented to user

- Design tradeoffs:
  - Separate models vs unified model: Separate models allow optimization for each task's unique characteristics but increase complexity
  - Simplicity vs complexity: Simple models (RepRec, ExpRec) are more interpretable and efficient but may miss complex patterns that deeper models could capture
  - Computational cost vs accuracy: More sophisticated models could improve accuracy but at the cost of increased computational resources

- Failure signatures:
  - Low repeat recommendation accuracy despite high historical situation similarity: May indicate situation similarity is not a good predictor of repeat behavior
  - Exploration recommendations that don't introduce variety: May indicate over-reliance on collaborative information or insufficient exploration of candidate space
  - Significant drop in performance when using ensemble module: May indicate intent predictor is not accurately distinguishing between repeat and exploration intent

- First 3 experiments:
  1. Compare RepRec against baseline that recommends stores randomly from historical interactions to validate importance of situation similarity
  2. Test ExpRec with different numbers of collaborative users (K) to find optimal balance between local and global information
  3. Evaluate ensemble module's performance with different weighting schemes for combining repeat and exploration recommendations

## Open Questions the Paper Calls Out
- How do different types of situations (e.g., weather, user activity) beyond time and location influence repeat and exploration behaviors in food delivery?
- Can the proposed models be adapted for other recommendation domains where repeat and exploration behaviors exist, such as e-commerce or music streaming?
- How does the user's exploration rate change over time, and what factors influence this evolution in food delivery?

## Limitations
- Reliance on proprietary datasets (DHRD from Ele.me and TRD from Meituan) that cannot be independently verified or reproduced
- Exact nature of baseline implementations and comparison details are not fully specified
- Only considers two situational factors (time and delivery location) without examining other potentially influential factors

## Confidence
- High Confidence: The claim that repeat and exploration consumption patterns differ in their sensitivity to historical vs. collaborative situations is well-supported by empirical analysis and correlation measurements
- Medium Confidence: The assertion that simple models (RepRec and ExpRec) outperform more complex baselines is credible but limited by proprietary datasets and unspecified baseline implementations
- Medium Confidence: The effectiveness of the intent-aware ensemble module is demonstrated but alternative ensemble strategies were not explored

## Next Checks
1. Conduct an ablation study to determine the individual contribution of historical situation similarity, collaborative information, and global situation representation to RepRec and ExpRec performance
2. Test the proposed models on a publicly available food delivery dataset (e.g., from Yelp or other platforms) to validate generalizability across different domains and regions
3. Implement and compare alternative ensemble strategies (e.g., weighted averaging vs. switching based on confidence scores) to assess whether the proposed intent-aware ensemble module is optimal for combining repeat and exploration recommendations