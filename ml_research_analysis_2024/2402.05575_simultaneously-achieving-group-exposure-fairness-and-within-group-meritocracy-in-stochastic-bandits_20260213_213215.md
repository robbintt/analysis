---
ver: rpa2
title: Simultaneously Achieving Group Exposure Fairness and Within-Group Meritocracy
  in Stochastic Bandits
arxiv_id: '2402.05575'
source_url: https://arxiv.org/abs/2402.05575
tags:
- group
- fairness
- regret
- arms
- algorithm
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: "This paper introduces Bi-Level Fairness (BF) in stochastic multi-armed\
  \ bandits, ensuring group-level exposure fairness and individual-level meritocratic\
  \ fairness within groups. The authors propose BF-UCB, a UCB-based algorithm that\
  \ achieves sublinear regret O(\u221AT) by decomposing regret into group exposure\
  \ fairness regret and meritocratic fairness regret."
---

# Simultaneously Achieving Group Exposure Fairness and Within-Group Meritocracy in Stochastic Bandits

## Quick Facts
- **arXiv ID**: 2402.05575
- **Source URL**: https://arxiv.org/abs/2402.05575
- **Reference count**: 40
- **Primary result**: Introduces BF-UCB algorithm achieving O(√T) regret while ensuring group-level exposure fairness and within-group meritocratic fairness in stochastic multi-armed bandits

## Executive Summary
This paper addresses the challenge of simultaneously ensuring group-level exposure fairness and within-group meritocratic fairness in stochastic multi-armed bandits. The authors introduce Bi-Level Fairness (BF), a novel fairness notion that guarantees each group receives proportional exposure while arms within groups are selected based on their estimated merit. They propose BF-UCB, a UCB-based algorithm that decomposes regret into group exposure fairness regret and meritocratic fairness regret, achieving sublinear regret O(√T) while satisfying both fairness criteria. Empirical results demonstrate that BF-UCB outperforms existing baselines in terms of group exposure, individual arm exposure, and regret, particularly in settings with many arms.

## Method Summary
BF-UCB operates in stochastic multi-armed bandit settings with multiple groups, ensuring each group receives at least ⌊β_g t⌋ pulls by round t (group exposure fairness) while arms within groups are selected proportionally to their estimated merit (meritocratic fairness). The algorithm uses a two-phase approach: initialization ensures each arm is pulled once, followed by a group selection strategy that maintains fairness deficits. Within the selected group, arms are chosen using a modified exposure subroutine that replaces the known-horizon confidence width with one based on actual pull counts. This modification allows the algorithm to achieve meritocratic fairness without requiring knowledge of the total time horizon T. Theoretical analysis proves both fairness notions are satisfied while maintaining O(√T) regret.

## Key Results
- BF-UCB achieves sublinear regret O(√T) by decomposing regret into group exposure fairness regret and meritocratic fairness regret
- The algorithm guarantees group exposure fairness by ensuring each group g receives at least ⌊β_g t⌋ pulls at every round t
- Empirical results show BF-UCB outperforms UCB, MF, and GEF baselines in group exposure, arm exposure, and normalized total reward, especially with high arm counts

## Why This Works (Mechanism)

### Mechanism 1
- **Claim:** BF-UCB achieves sublinear regret O(√T) by decomposing regret into group exposure fairness regret and meritocratic fairness regret.
- **Mechanism:** The algorithm first ensures anytime group exposure fairness using a constraint-checking strategy. Once groups are selected fairly, it applies a modified exposure subroutine within each group to guarantee meritocratic fairness without requiring knowledge of the total time horizon T.
- **Core assumption:** The merit function f is Lipschitz continuous and bounded away from zero and infinity (Assumptions 1 and 2).
- **Evidence anchors:**
  - [abstract] "Our proposed algorithm BF-UCB balances these two regrets optimally to achieve the upper bound of O(√T) on regret"
  - [section 5] "We show that regret can be split into two terms: (a) regret due to anytime group exposure fairness and (b) regret due to meritocratic fairness within each group."
- **Break condition:** If the Lipschitz constant L or minimum merit γ₁ is extremely small, the bound constants become too large for practical use.

### Mechanism 2
- **Claim:** Group exposure fairness is maintained by pulling each group at least ⌊β_g t⌋ times at every round t.
- **Mechanism:** During initialization, groups are pulled in round-robin fashion to guarantee initial exposure. In later rounds, the algorithm maintains a set UFG_Set(t) of groups at risk of violating fairness; if non-empty, it selects the group with the largest deficit β_g(t-1) - N_g,t-1.
- **Core assumption:** Each β_g ≤ 1/m ensures the initial round-robin guarantees feasibility.
- **Evidence anchors:**
  - [section 3.1] "Definition 2 (β-Group Exposure Fairness): ... E_π[N_g,t] ≥ ⌊β_g t⌋ ∀g ∈ G ∀t ≥ 1."
  - [section 4] "If at all there exists a group in UFG_Set(t), Algorithm 1 selects a group g ∈ argmax_{k∈UFG_Set(t)} {β_k(t-1) - N_k,t-1} to ensure group fairness in the next round."
- **Break condition:** If β_g is too large relative to 1/m, the constraint becomes infeasible.

### Mechanism 3
- **Claim:** Meritocratic fairness within each group is achieved by pulling arms in proportion to their estimated merit without knowing T in advance.
- **Mechanism:** The exposure subroutine replaces the known-horizon width √2 ln(4T K/δ) with √2 ln(4N_g,t k_g/δ), where N_g,t is the actual number of pulls of group g so far and k_g is the number of arms in g.
- **Core assumption:** The modified confidence width still provides sufficient exploration because N_g,t grows at least as fast as t/m.
- **Evidence anchors:**
  - [section 4] "we replace parameter w_0 with the value √2 ln(4N_g,t k_g/δ) instead of √2 ln(4T K/δ) in [34]."
  - [section 5.1] "Proof: Let us consider a set T_g = {t1, t2, ..., t_Ng,T} ... P(μ_i ∈ CR_t) ≥ 1 - δ/(8N_g,t^2 k_g) ∀t > t_kg, i ∈ [g]"
- **Break condition:** If N_g,t grows too slowly, the confidence width may become too large, hurting convergence speed.

## Foundational Learning

- **Concept:** Multi-armed bandit problem and regret definition.
  - **Why needed here:** The algorithm operates in a stochastic MAB setting and its performance is measured by regret.
  - **Quick check question:** What is the difference between cumulative regret and simple regret in MABs?
- **Concept:** Group fairness and individual fairness trade-offs.
  - **Why needed here:** The paper introduces a bi-level fairness notion that balances group-level exposure guarantees with within-group meritocratic fairness.
  - **Quick check question:** Why might ensuring only group-level fairness lead to individual-level biases within a group?
- **Concept:** Upper confidence bound (UCB) algorithms and confidence intervals.
  - **Why needed here:** BF-UCB is inspired by UCB algorithms and uses confidence bounds to balance exploration and exploitation.
  - **Quick check question:** How does the confidence width √2 ln(t) scale with time, and why is this scaling important?

## Architecture Onboarding

- **Component map:**
  - BF-UCB: Main driver
    - Initialization Phase: Ensures each arm pulled once, groups balanced
    - Group Selection Strategy: Maintains group exposure fairness
    - Arm within Group Selection Strategy: Ensures meritocratic fairness
  - Learn(·): UCB-style group selection when no fairness deficit
  - Exposure(·): Arm selection within chosen group
- **Critical path:** Initialization → Fairness deficit check → Group selection → Arm selection → Update statistics
- **Design tradeoffs:**
  - Using √2 ln(4N_g,t k_g/δ) instead of √2 ln(4T K/δ) trades tighter early exploration for unknown horizon adaptability.
  - Round-robin initialization simplifies feasibility proof but may be suboptimal if group sizes differ greatly.
- **Failure signatures:**
  - Group exposure fairness violated: UFG_Set(t) remains non-empty indefinitely.
  - Meritocratic fairness not converging: Policy regret within groups stays bounded away from zero.
  - Sublinear regret not achieved: Regret grows faster than √T.
- **First 3 experiments:**
  1. Run BF-UCB on synthetic data with 2 groups (5 vs 10 arms), β=(0.4,0.4), verify group pulls ≥ ⌊β_g t⌋ each round.
  2. Test convergence of policy regret within each group on the same data.
  3. Compare normalized total reward against UCB, GEF, and MF baselines for high vs low arm count regimes.

## Open Questions the Paper Calls Out

### Open Question 1
- **Question:** How does the Bi-Level Fairness algorithm perform when the number of groups exceeds two, particularly in scenarios with more than two sensitive attributes?
- **Basis in paper:** [inferred] The paper only considers two groups, motivated by real-world examples like the Adult dataset where the typical ratio between two group values is 1:8 for race and 1:2 for gender.
- **Why unresolved:** The paper does not explore the performance of the Bi-Level Fairness algorithm in scenarios with more than two groups, which could provide insights into its scalability and effectiveness in diverse settings.
- **What evidence would resolve it:** Conducting experiments with multiple groups and varying sensitive attributes to evaluate the algorithm's performance in terms of group exposure fairness and meritocratic fairness within groups.

### Open Question 2
- **Question:** What are the implications of using different merit functions, such as f(μ) = μ^2 or f(μ) = log(μ), on the regret and fairness guarantees of the Bi-Level Fairness algorithm?
- **Basis in paper:** [explicit] The paper uses the merit function f(μ) = μ and mentions that the regrets will not be affected much by different merit functions.
- **Why unresolved:** The paper does not provide a detailed analysis of the impact of using different merit functions on the algorithm's performance, which could reveal potential trade-offs or improvements in regret and fairness.
- **What evidence would resolve it:** Analyzing the algorithm's performance with various merit functions through theoretical analysis and empirical experiments to understand the effects on regret and fairness guarantees.

### Open Question 3
- **Question:** How does the Bi-Level Fairness algorithm handle scenarios where the number of arms within a group is significantly larger than the number of groups, potentially leading to computational challenges?
- **Basis in paper:** [inferred] The paper mentions that the algorithm is particularly effective in settings with a high number of arms, providing balanced exposure across groups while ensuring arms are pulled according to their merit within groups.
- **Why unresolved:** The paper does not discuss the computational complexity or scalability of the algorithm when the number of arms within a group is much larger than the number of groups, which could impact its practical applicability.
- **What evidence would resolve it:** Investigating the algorithm's computational complexity and scalability through theoretical analysis and experiments with varying numbers of arms and groups to identify potential limitations or optimizations.

## Limitations

- The theoretical framework requires Lipschitz continuity and bounded minimum merit, which may be restrictive in practice
- Group exposure constraint is theoretically feasible only when β_g ≤ 1/m, potentially limiting applicability when fairness requirements are stringent
- Empirical evaluation is limited to synthetic data with two groups and specific parameters, raising questions about generalization to more groups or non-uniform group sizes

## Confidence

- **High**: O(√T) regret bound decomposition and basic group exposure fairness mechanism
- **Medium**: Meritocratic fairness within groups (depends on unknown horizon adaptation working as intended)
- **Medium**: Empirical superiority over baselines (limited evaluation scope)

## Next Checks

1. **Feasibility Boundary Test**: Verify the algorithm fails gracefully when β_g > 1/m by attempting to run with β=(0.6, 0.6) on a 2-group instance (5 vs 5 arms).
2. **Group Size Sensitivity**: Evaluate BF-UCB when group sizes are highly imbalanced (e.g., 2 vs 20 arms) to assess whether the round-robin initialization creates excessive early regret.
3. **Multi-Group Scalability**: Extend experiments to 4+ groups with heterogeneous β values to test whether the UFG_Set mechanism maintains fairness without excessive switching overhead.