---
ver: rpa2
title: 'Beyond Individual Facts: Investigating Categorical Knowledge Locality of Taxonomy
  and Meronomy Concepts in GPT Models'
arxiv_id: '2406.15940'
source_url: https://arxiv.org/abs/2406.15940
tags:
- average
- last
- layer
- token
- chordata
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This work investigated whether hierarchical knowledge structures
  like taxonomy and meronomy exhibit distinct spatial patterns within GPT models.
  A new dataset called DARC was created containing 34 concepts with over 120,000 facts.
---

# Beyond Individual Facts: Investigating Categorical Knowledge Locality of Taxonomy and Meronomy Concepts in GPT Models

## Quick Facts
- **arXiv ID**: 2406.15940
- **Source URL**: https://arxiv.org/abs/2406.15940
- **Reference count**: 40
- **Primary result**: Hierarchical knowledge structures (taxonomy/meronomy) exhibit stronger localization patterns than random facts in GPT models, with taxonomic relations showing the strongest patterns.

## Executive Summary
This paper investigates whether hierarchical knowledge structures like taxonomy and meronomy exhibit distinct spatial patterns within GPT models, extending beyond individual fact localization. The authors created a new dataset called DARC containing 34 concepts with over 120,000 facts across four categories (birds, dogs, human organ systems, and automobile systems). Using causal mediation analysis, they examined the localization of both individual categories and inter-category relationships. Results showed that related categories exhibit stronger correlations in important layers compared to unrelated ones, with taxonomic relations showing the strongest patterns. However, fine-grained localization to specific layers was not apparent for individual subcategories.

## Method Summary
The study applies causal mediation analysis to GPT-2 variants (Medium, Large, XL) using the DARC dataset and a baseline dataset from Meng et al. (2022a). The method traces the importance of layers for correct predictions through MLP interventions at the Last Subject Token and Attention at the Last Token. Layer importance orderings are computed and compared using Spearman correlation to measure intra-category and inter-category similarity. AIE (Average Indirect Effect) heatmaps and line plots are generated to visualize localization patterns across layers and model components.

## Key Results
- Related categories exhibit stronger correlations in important layers compared to unrelated categories
- Taxonomic relations show stronger localization patterns than meronomic relations
- No fine-grained localization to specific layers for individual subcategories was observed

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Hierarchical knowledge (taxonomy/meronomy) is more strongly localized than random facts in GPT models.
- Mechanism: Causal mediation analysis identifies regions of importance for knowledge. When facts are grouped into hierarchical categories, the AIE shows stronger intra- and inter-category correlations compared to random facts.
- Core assumption: The AIE is a reliable measure of knowledge importance and can detect localization patterns.
- Evidence anchors:
  - [abstract] "We find that related categories exhibit similar areas of importance in contrast to less similar categories."
  - [section] "For GPT-2-XL the average intra-category correlations are 0.82 and 0.76 for Birds and Dogs, respectively (Table 3)."

### Mechanism 2
- Claim: Taxonomic relations show stronger localization patterns than meronomic relations.
- Mechanism: The inherent ordering and structure of taxonomy lead to stronger correlations between related subcategories, as shown by AIE analysis.
- Core assumption: The structure of taxonomy (ordered hierarchy) leads to stronger localization than meronomy (unordered parts-whole).
- Evidence anchors:
  - [abstract] "Results showed that related categories exhibit stronger correlations in important layers compared to unrelated ones, with taxonomic relations showing the strongest patterns."
  - [section] "The taxonomic categories show some evidence of MLP specific intra-category locality. For GPT-2-XL the average intra-category correlations are 0.82 and 0.76 for Birds and Dogs, respectively (Table 3)."

### Mechanism 3
- Claim: Lack of fine-grained localization to specific layers for individual subcategories.
- Mechanism: While related categories show similar areas of importance, individual subcategories within a category do not have distinct layers of maximal importance.
- Core assumption: The lack of distinct layers for subcategories is due to the broader localization of hierarchical knowledge.
- Evidence anchors:
  - [abstract] "However, fine-grained localization of individual category subsets to specific regions is not apparent."
  - [section] "When viewing the single layer of maximum importance for MLP interventions at the Last Subject Token we see no strong evidence of related regions for individual subcategories."

## Foundational Learning

- **Concept: Causal mediation analysis**
  - Why needed here: To identify regions of importance for knowledge within GPT models.
  - Quick check question: How does causal mediation analysis differ from traditional statistical analysis?

- **Concept: Taxonomy and meronomy**
  - Why needed here: To define the hierarchical relations used to group knowledge for localization analysis.
  - Quick check question: What is the key difference between taxonomy and meronomy?

- **Concept: Average Indirect Effect (AIE)**
  - Why needed here: To measure the importance of layers for knowledge localization.
  - Quick check question: How is AIE calculated and what does it represent?

## Architecture Onboarding

- **Component map**: GPT-2 (Medium, Large, XL) -> DARC dataset (birds, dogs, organ systems, automobile systems) -> Causal mediation analysis tool -> AIE heatmaps and correlation metrics
- **Critical path**: Generate DARC dataset -> Perform causal mediation analysis -> Analyze AIE results -> Identify localization patterns
- **Design tradeoffs**: Larger models require more computation, smaller models may not capture full complexity. Dataset size vs. computational feasibility.
- **Failure signatures**: Low AIE values, inconsistent correlations between related categories, lack of distinct layers for subcategories.
- **First 3 experiments**:
  1. Generate DARC dataset for a single category (e.g., birds) and perform causal mediation analysis to identify localization patterns.
  2. Compare AIE results for taxonomic vs. meronomic categories to assess strength of localization.
  3. Analyze AIE results for individual subcategories within a category to assess fine-grained localization.

## Open Questions the Paper Calls Out
The paper does not explicitly call out open questions, but several emerge from the analysis:
1. Does the strength of intra-category locality correlations correlate with the number of subcategories within a category or the diversity of concepts within those subcategories?
2. How does the observed categorical locality change across different model architectures or scales (e.g., GPT-3, GPT-4, or other transformer variants)?
3. What is the functional significance of the observed categorical locality patterns in terms of model performance or generalization?

## Limitations
- Causal mediation analysis implementation details from the referenced work are not fully provided
- Dataset representativeness may be limited to the four chosen categories
- Statistical significance of correlation values is not established with confidence intervals

## Confidence
- **High Confidence**: Related categories show stronger correlations in important layers compared to unrelated categories (correlation values 0.82 and 0.76 for Birds and Dogs in GPT-2-XL)
- **Medium Confidence**: Taxonomic relations show stronger localization patterns than meronomic relations
- **Medium Confidence**: Lack of fine-grained localization to specific layers for individual subcategories

## Next Checks
1. Calculate confidence intervals and perform statistical tests (e.g., permutation tests) on the correlation values to determine if observed differences between related and unrelated categories are statistically significant.
2. Apply the same causal mediation analysis to additional categories beyond the four in DARC to test whether the observed patterns generalize across different knowledge domains.
3. Replicate the analysis using alternative importance metrics (e.g., Shapley values, integrated gradients) to verify that the observed localization patterns are robust to the choice of importance measure.