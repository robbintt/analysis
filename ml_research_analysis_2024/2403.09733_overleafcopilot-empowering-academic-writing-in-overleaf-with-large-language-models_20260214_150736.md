---
ver: rpa2
title: 'OverleafCopilot: Empowering Academic Writing in Overleaf with Large Language
  Models'
arxiv_id: '2403.09733'
source_url: https://arxiv.org/abs/2403.09733
tags:
- agent
- overleaf
- event
- directive
- writing
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: 'This technical report introduces OverleafCopilot, the first-ever
  browser extension that seamlessly integrates Large Language Models (LLMs) with the
  popular academic writing tool Overleaf. The extension addresses three key challenges:
  enabling seamless interaction between Overleaf and LLMs, establishing reliable communication
  with LLM providers, and ensuring user privacy.'
---

# OverleafCopilot: Empowering Academic Writing in Overleaf with Large Language Models

## Quick Facts
- arXiv ID: 2403.09733
- Source URL: https://arxiv.org/abs/2403.09733
- Reference count: 40
- First browser extension integrating LLMs with Overleaf for academic writing assistance

## Executive Summary
OverleafCopilot is a Chrome browser extension that seamlessly integrates Large Language Models (LLMs) with the Overleaf academic writing platform. The extension addresses three core challenges: enabling smooth interaction between Overleaf and LLMs, establishing reliable communication with LLM providers, and ensuring user privacy. Through a multi-script architecture coordinated by a Message Switch Center and Scoped Event Bus, OverleafCopilot provides customizable agent commands and access to high-quality prompts via PromptGenius. With thousands of users already on the Chrome Extension Store, it represents a significant advancement in AI-assisted academic writing tools.

## Method Summary
The technical report describes the development of a Chrome browser extension using Vue.js and Vuetify frameworks. The extension implements a multi-script architecture with content, worker, injected, and popup scripts coordinated through a Scoped Event Bus system. It integrates with LLM APIs (specifically OpenAI) and provides customizable agents through a Template Directive Engine using XML-based templates. The system includes a PromptGenius website for prompt management and an Overleaf API integration for content manipulation. Privacy is maintained by not storing user content locally and only forwarding requests to LLM providers.

## Key Results
- Seamless integration of LLMs with Overleaf through multi-script architecture and message routing
- Comprehensive framework bridging LLM providers and Overleaf operations
- Thousands of users on Chrome Extension Store demonstrating market adoption
- Customizable agent command system enabling personalized writing assistance
- Privacy protection through stateless pass-through design without local content storage

## Why This Works (Mechanism)

### Mechanism 1
- Claim: OverleafCopilot achieves seamless integration of LLMs into the Overleaf editor by using a multi-script architecture and message switch center (MSC)
- Mechanism: The extension employs four cooperating scripts (content, worker, injected, and popup) coordinated via a Scoped Event Bus (SEB). Messages flow from the content script (capturing user input) to the worker (API calls) to the injected script (DOM manipulation in Overleaf) through the MSC
- Core assumption: Chrome extension scripts can reliably exchange messages through an event bus without violating Overleaf's editor state or user privacy
- Evidence anchors: [abstract] "seamless interaction between Overleaf and LLMs"; [section] "Multi-module collaborative architecture" and "Message Switch Center"; [corpus] No direct evidence; this is an inference from the described architecture
- Break condition: If Overleaf changes its DOM structure or blocks injected scripts, message routing will fail

### Mechanism 2
- Claim: OverleafCopilot ensures privacy by not storing user content locally and only forwarding requests to LLM providers
- Mechanism: The plugin operates as a stateless pass-through: user input is sent directly to the LLM provider's API without local persistence, and results are written back into the editor
- Core assumption: The absence of local storage inherently guarantees privacy; no user data is retained beyond the request lifecycle
- Evidence anchors: [abstract] "ensuring user privacy"; [section] "To further protect the user's privacy, OverleafCopilot does not save the content at user's request"; [corpus] No corpus evidence; this is a design claim without validation data
- Break condition: If LLM provider logs or stores requests, privacy guarantees are violated despite the plugin's design

### Mechanism 3
- Claim: OverleafCopilot enables highly customizable agent behavior through a Template Directive Engine (TDE) using XML-based templates
- Mechanism: Agents are defined as XML templates composed of directives that control UI layout, LLM model selection, prompt generation, and Overleaf API interactions. The TDE parses and executes these templates to create functional agents
- Core assumption: Users can effectively create or modify agent templates without breaking the parsing logic or causing runtime errors
- Evidence anchors: [abstract] "Template Directive Engine" and "customizable agents"; [section] "Template Directive Engine" and "agents and templates"; [corpus] No corpus evidence; this is inferred from the described directive system
- Break condition: If directive syntax changes or new LLM APIs are incompatible, template-based agents may fail to execute

## Foundational Learning

- Concept: Chrome extension architecture (content scripts, background scripts, injected scripts, popup scripts)
  - Why needed here: OverleafCopilot's multi-script design depends on understanding Chrome's extension message-passing model
  - Quick check question: What is the difference between a content script and an injected script in a Chrome extension?

- Concept: Event-driven programming and publish-subscribe patterns
  - Why needed here: The Scoped Event Bus and Message Switch Center rely on event-driven coordination between modules
  - Quick check question: How does a publish-subscribe system enable loose coupling between publisher and subscriber components?

- Concept: XML parsing and templating systems
  - Why needed here: The Template Directive Engine uses XML syntax to define agent behavior and UI structure
  - Quick check question: What is the role of directives in an XML-based template system, and how do they differ from regular XML elements?

## Architecture Onboarding

- Component map: Content script -> Message Switch Center -> Worker script -> LLM API -> Worker script -> Message Switch Center -> Injected script -> Overleaf editor
- Critical path: User input → content script → MSC → worker → LLM API → worker → MSC → injected script → Overleaf editor
- Design tradeoffs:
  - Using Chrome extension vs. native integration: browser-based solution is more portable but less tightly integrated with Overleaf
  - XML templates vs. code-based agents: templates are user-friendly but less flexible than programmatic definitions
  - Privacy by design vs. feature richness: avoiding local storage limits advanced features like history or collaborative editing
- Failure signatures:
  - Content script fails to capture input: agents do not trigger
  - Worker script fails to call API: no LLM response
  - Injected script fails to write back: results appear in popup but not editor
  - MSC routing errors: agents become unresponsive
- First 3 experiments:
  1. Test basic message routing: send a simple event from content script to injected script via MSC
  2. Test LLM integration: mock an API call from worker script and verify response handling
  3. Test template parsing: create a minimal agent template and validate TDE execution

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does the Template Directive Engine (TDE) handle conflicts when multiple directives with the same name are defined across different directive sets?
- Basis in paper: [explicit] The paper mentions that TDE allows for the definition of directives with the same name and that the priority of directive sets determines the order in which TDE searches for directive implementations
- Why unresolved: The paper does not provide details on the specific conflict resolution mechanism employed by TDE when multiple directives with the same name exist
- What evidence would resolve it: A detailed explanation of the conflict resolution algorithm used by TDE, including examples of how conflicts are resolved in practice

### Open Question 2
- Question: What are the specific privacy measures implemented in OverleafCopilot to protect user information and maintain confidentiality when interacting with LLMs?
- Basis in paper: [explicit] The paper mentions that OverleafCopilot does not save user content at the user's request and only forwards user requests to the LLM provider to protect user privacy
- Why unresolved: The paper does not provide specific details on the privacy measures implemented, such as data encryption, anonymization techniques, or compliance with privacy regulations
- What evidence would resolve it: A comprehensive description of the privacy measures implemented in OverleafCopilot, including technical details and compliance certifications

### Open Question 3
- Question: How does the Scoped Event Bus System (SEB) handle event propagation and cancellation in complex scenarios involving multiple event listeners and hierarchical event scopes?
- Basis in paper: [explicit] The paper introduces the concept of event scopes and the use of dots to divide the scope within the event string, but does not provide details on event propagation and cancellation mechanisms
- Why unresolved: The paper does not explain how events are propagated through the hierarchy of event scopes and how event cancellation is handled in scenarios with multiple event listeners
- What evidence would resolve it: A detailed explanation of the event propagation and cancellation mechanisms in SEB, including examples of complex event scenarios and their handling

### Open Question 4
- Question: What are the performance implications of using OverleafCopilot, particularly in terms of latency and resource consumption when interacting with LLMs and Overleaf?
- Basis in paper: [inferred] The paper mentions that OverleafCopilot is designed to improve the efficiency of academic writing, but does not provide specific performance metrics or benchmarks
- Why unresolved: The paper does not provide quantitative data on the performance of OverleafCopilot, such as average response times, memory usage, or CPU utilization
- What evidence would resolve it: Performance benchmarks and metrics comparing OverleafCopilot to traditional academic writing methods, including latency measurements and resource consumption analysis

### Open Question 5
- Question: How does OverleafCopilot handle errors and exceptions that may occur during the interaction with LLMs or Overleaf, and what is the user experience in such scenarios?
- Basis in paper: [inferred] The paper mentions that OverleafCopilot is designed to be user-friendly and comprehensive, but does not provide details on error handling and user experience in case of failures
- Why unresolved: The paper does not explain how OverleafCopilot handles errors, such as network failures, LLM service unavailability, or Overleaf API errors, and how these are communicated to the user
- What evidence would resolve it: A description of the error handling mechanisms in OverleafCopilot, including error messages, fallback options, and user guidance in case of failures

## Limitations

- Privacy claims lack third-party verification through security audits or code review
- Template system flexibility remains theoretical without demonstrated use cases or user testing
- No empirical data on efficiency improvements or performance benchmarks
- Compatibility with Overleaf interface changes not tested or validated

## Confidence

- **High Confidence**: The basic Chrome extension architecture and message-passing mechanism (the four-script model with SEB) is technically sound and well-documented in extension development literature
- **Medium Confidence**: The Template Directive Engine concept is plausible, but without implementation details or user testing data, its practical effectiveness remains uncertain
- **Low Confidence**: Claims about user privacy protection are difficult to verify without code review or security audit, as the absence of local storage doesn't guarantee privacy if LLM providers retain data

## Next Checks

1. **Security Audit**: Conduct a third-party security assessment of the extension to verify that user data is not stored locally or transmitted insecurely, and that no unintended data leakage occurs through LLM provider APIs

2. **Template System Stress Test**: Create 10-15 diverse agent templates covering different academic writing tasks (literature review, methodology generation, rebuttal writing) to test the Template Directive Engine's flexibility and identify edge cases where parsing fails

3. **Long-term Compatibility Monitoring**: Install and run the extension across multiple Overleaf interface versions over 3-6 months to document any breaking changes and measure the maintenance effort required to keep the extension functional